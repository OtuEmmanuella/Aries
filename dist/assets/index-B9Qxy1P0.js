function j_(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Yi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var F_={exports:{}},ch={},U_={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ku=Symbol.for("react.element"),UC=Symbol.for("react.portal"),BC=Symbol.for("react.fragment"),zC=Symbol.for("react.strict_mode"),$C=Symbol.for("react.profiler"),HC=Symbol.for("react.provider"),WC=Symbol.for("react.context"),qC=Symbol.for("react.forward_ref"),KC=Symbol.for("react.suspense"),GC=Symbol.for("react.memo"),QC=Symbol.for("react.lazy"),wy=Symbol.iterator;function YC(t){return t===null||typeof t!="object"?null:(t=wy&&t[wy]||t["@@iterator"],typeof t=="function"?t:null)}var B_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z_=Object.assign,$_={};function za(t,e,n){this.props=t,this.context=e,this.refs=$_,this.updater=n||B_}za.prototype.isReactComponent={};za.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};za.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function H_(){}H_.prototype=za.prototype;function $m(t,e,n){this.props=t,this.context=e,this.refs=$_,this.updater=n||B_}var Hm=$m.prototype=new H_;Hm.constructor=$m;z_(Hm,za.prototype);Hm.isPureReactComponent=!0;var _y=Array.isArray,W_=Object.prototype.hasOwnProperty,Wm={current:null},q_={key:!0,ref:!0,__self:!0,__source:!0};function K_(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)W_.call(e,r)&&!q_.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),d=0;d<l;d++)u[d]=arguments[d+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:ku,type:t,key:s,ref:o,props:i,_owner:Wm.current}}function XC(t,e){return{$$typeof:ku,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function qm(t){return typeof t=="object"&&t!==null&&t.$$typeof===ku}function JC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ey=/\/+/g;function Tf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?JC(""+t.key):e.toString(36)}function Wc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ku:case UC:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Tf(o,0):r,_y(i)?(n="",t!=null&&(n=t.replace(Ey,"$&/")+"/"),Wc(i,e,n,"",function(d){return d})):i!=null&&(qm(i)&&(i=XC(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Ey,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",_y(t))for(var l=0;l<t.length;l++){s=t[l];var u=r+Tf(s,l);o+=Wc(s,e,n,u,i)}else if(u=YC(t),typeof u=="function")for(t=u.call(t),l=0;!(s=t.next()).done;)s=s.value,u=r+Tf(s,l++),o+=Wc(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function wc(t,e,n){if(t==null)return t;var r=[],i=0;return Wc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function ZC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var An={current:null},qc={transition:null},eA={ReactCurrentDispatcher:An,ReactCurrentBatchConfig:qc,ReactCurrentOwner:Wm};function G_(){throw Error("act(...) is not supported in production builds of React.")}Pe.Children={map:wc,forEach:function(t,e,n){wc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return wc(t,function(){e++}),e},toArray:function(t){return wc(t,function(e){return e})||[]},only:function(t){if(!qm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Pe.Component=za;Pe.Fragment=BC;Pe.Profiler=$C;Pe.PureComponent=$m;Pe.StrictMode=zC;Pe.Suspense=KC;Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eA;Pe.act=G_;Pe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=z_({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Wm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)W_.call(e,u)&&!q_.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var d=0;d<u;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:ku,type:t.type,key:i,ref:s,props:r,_owner:o}};Pe.createContext=function(t){return t={$$typeof:WC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:HC,_context:t},t.Consumer=t};Pe.createElement=K_;Pe.createFactory=function(t){var e=K_.bind(null,t);return e.type=t,e};Pe.createRef=function(){return{current:null}};Pe.forwardRef=function(t){return{$$typeof:qC,render:t}};Pe.isValidElement=qm;Pe.lazy=function(t){return{$$typeof:QC,_payload:{_status:-1,_result:t},_init:ZC}};Pe.memo=function(t,e){return{$$typeof:GC,type:t,compare:e===void 0?null:e}};Pe.startTransition=function(t){var e=qc.transition;qc.transition={};try{t()}finally{qc.transition=e}};Pe.unstable_act=G_;Pe.useCallback=function(t,e){return An.current.useCallback(t,e)};Pe.useContext=function(t){return An.current.useContext(t)};Pe.useDebugValue=function(){};Pe.useDeferredValue=function(t){return An.current.useDeferredValue(t)};Pe.useEffect=function(t,e){return An.current.useEffect(t,e)};Pe.useId=function(){return An.current.useId()};Pe.useImperativeHandle=function(t,e,n){return An.current.useImperativeHandle(t,e,n)};Pe.useInsertionEffect=function(t,e){return An.current.useInsertionEffect(t,e)};Pe.useLayoutEffect=function(t,e){return An.current.useLayoutEffect(t,e)};Pe.useMemo=function(t,e){return An.current.useMemo(t,e)};Pe.useReducer=function(t,e,n){return An.current.useReducer(t,e,n)};Pe.useRef=function(t){return An.current.useRef(t)};Pe.useState=function(t){return An.current.useState(t)};Pe.useSyncExternalStore=function(t,e,n){return An.current.useSyncExternalStore(t,e,n)};Pe.useTransition=function(){return An.current.useTransition()};Pe.version="18.3.1";U_.exports=Pe;var B=U_.exports;const Ne=zm(B),tA=j_({__proto__:null,default:Ne},[B]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nA=B,rA=Symbol.for("react.element"),iA=Symbol.for("react.fragment"),sA=Object.prototype.hasOwnProperty,oA=nA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,aA={key:!0,ref:!0,__self:!0,__source:!0};function Q_(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)sA.call(e,r)&&!aA.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:rA,type:t,key:s,ref:o,props:i,_owner:oA.current}}ch.Fragment=iA;ch.jsx=Q_;ch.jsxs=Q_;F_.exports=ch;var _=F_.exports,yp={},Y_={exports:{}},tr={},X_={exports:{}},J_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(ee,X){var ue=ee.length;ee.push(X);e:for(;0<ue;){var Ee=ue-1>>>1,pe=ee[Ee];if(0<i(pe,X))ee[Ee]=X,ee[ue]=pe,ue=Ee;else break e}}function n(ee){return ee.length===0?null:ee[0]}function r(ee){if(ee.length===0)return null;var X=ee[0],ue=ee.pop();if(ue!==X){ee[0]=ue;e:for(var Ee=0,pe=ee.length,Ce=pe>>>1;Ee<Ce;){var H=2*(Ee+1)-1,Ke=ee[H],Ge=H+1,kt=ee[Ge];if(0>i(Ke,ue))Ge<pe&&0>i(kt,Ke)?(ee[Ee]=kt,ee[Ge]=ue,Ee=Ge):(ee[Ee]=Ke,ee[H]=ue,Ee=H);else if(Ge<pe&&0>i(kt,ue))ee[Ee]=kt,ee[Ge]=ue,Ee=Ge;else break e}}return X}function i(ee,X){var ue=ee.sortIndex-X.sortIndex;return ue!==0?ue:ee.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],d=[],p=1,m=null,w=3,b=!1,x=!1,N=!1,j=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(ee){for(var X=n(d);X!==null;){if(X.callback===null)r(d);else if(X.startTime<=ee)r(d),X.sortIndex=X.expirationTime,e(u,X);else break;X=n(d)}}function F(ee){if(N=!1,k(ee),!x)if(n(u)!==null)x=!0,ze(G);else{var X=n(d);X!==null&&ye(F,X.startTime-ee)}}function G(ee,X){x=!1,N&&(N=!1,P(E),E=-1),b=!0;var ue=w;try{for(k(X),m=n(u);m!==null&&(!(m.expirationTime>X)||ee&&!D());){var Ee=m.callback;if(typeof Ee=="function"){m.callback=null,w=m.priorityLevel;var pe=Ee(m.expirationTime<=X);X=t.unstable_now(),typeof pe=="function"?m.callback=pe:m===n(u)&&r(u),k(X)}else r(u);m=n(u)}if(m!==null)var Ce=!0;else{var H=n(d);H!==null&&ye(F,H.startTime-X),Ce=!1}return Ce}finally{m=null,w=ue,b=!1}}var L=!1,A=null,E=-1,S=5,C=-1;function D(){return!(t.unstable_now()-C<S)}function V(){if(A!==null){var ee=t.unstable_now();C=ee;var X=!0;try{X=A(!0,ee)}finally{X?R():(L=!1,A=null)}}else L=!1}var R;if(typeof T=="function")R=function(){T(V)};else if(typeof MessageChannel<"u"){var Se=new MessageChannel,ut=Se.port2;Se.port1.onmessage=V,R=function(){ut.postMessage(null)}}else R=function(){j(V,0)};function ze(ee){A=ee,L||(L=!0,R())}function ye(ee,X){E=j(function(){ee(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ee){ee.callback=null},t.unstable_continueExecution=function(){x||b||(x=!0,ze(G))},t.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<ee?Math.floor(1e3/ee):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(ee){switch(w){case 1:case 2:case 3:var X=3;break;default:X=w}var ue=w;w=X;try{return ee()}finally{w=ue}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ee,X){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var ue=w;w=ee;try{return X()}finally{w=ue}},t.unstable_scheduleCallback=function(ee,X,ue){var Ee=t.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?Ee+ue:Ee):ue=Ee,ee){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=ue+pe,ee={id:p++,callback:X,priorityLevel:ee,startTime:ue,expirationTime:pe,sortIndex:-1},ue>Ee?(ee.sortIndex=ue,e(d,ee),n(u)===null&&ee===n(d)&&(N?(P(E),E=-1):N=!0,ye(F,ue-Ee))):(ee.sortIndex=pe,e(u,ee),x||b||(x=!0,ze(G))),ee},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(ee){var X=w;return function(){var ue=w;w=X;try{return ee.apply(this,arguments)}finally{w=ue}}}})(J_);X_.exports=J_;var lA=X_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uA=B,er=lA;function Z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Z_=new Set,Gl={};function Po(t,e){Sa(t,e),Sa(t+"Capture",e)}function Sa(t,e){for(Gl[t]=e,t=0;t<e.length;t++)Z_.add(e[t])}var Di=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wp=Object.prototype.hasOwnProperty,cA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ty={},Iy={};function dA(t){return wp.call(Iy,t)?!0:wp.call(Ty,t)?!1:cA.test(t)?Iy[t]=!0:(Ty[t]=!0,!1)}function hA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function fA(t,e,n,r){if(e===null||typeof e>"u"||hA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function bn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var rn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){rn[t]=new bn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];rn[e]=new bn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){rn[t]=new bn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){rn[t]=new bn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){rn[t]=new bn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){rn[t]=new bn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){rn[t]=new bn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){rn[t]=new bn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){rn[t]=new bn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Km=/[\-:]([a-z])/g;function Gm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Km,Gm);rn[e]=new bn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Km,Gm);rn[e]=new bn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Km,Gm);rn[e]=new bn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){rn[t]=new bn(t,1,!1,t.toLowerCase(),null,!1,!1)});rn.xlinkHref=new bn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){rn[t]=new bn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Qm(t,e,n,r){var i=rn.hasOwnProperty(e)?rn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(fA(e,n,i,r)&&(n=null),r||i===null?dA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ui=uA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_c=Symbol.for("react.element"),ta=Symbol.for("react.portal"),na=Symbol.for("react.fragment"),Ym=Symbol.for("react.strict_mode"),_p=Symbol.for("react.profiler"),e1=Symbol.for("react.provider"),t1=Symbol.for("react.context"),Xm=Symbol.for("react.forward_ref"),Ep=Symbol.for("react.suspense"),Tp=Symbol.for("react.suspense_list"),Jm=Symbol.for("react.memo"),es=Symbol.for("react.lazy"),n1=Symbol.for("react.offscreen"),Sy=Symbol.iterator;function sl(t){return t===null||typeof t!="object"?null:(t=Sy&&t[Sy]||t["@@iterator"],typeof t=="function"?t:null)}var vt=Object.assign,If;function yl(t){if(If===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);If=e&&e[1]||""}return`
`+If+t}var Sf=!1;function Cf(t,e){if(!t||Sf)return"";Sf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=l);break}}}finally{Sf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?yl(t):""}function pA(t){switch(t.tag){case 5:return yl(t.type);case 16:return yl("Lazy");case 13:return yl("Suspense");case 19:return yl("SuspenseList");case 0:case 2:case 15:return t=Cf(t.type,!1),t;case 11:return t=Cf(t.type.render,!1),t;case 1:return t=Cf(t.type,!0),t;default:return""}}function Ip(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case na:return"Fragment";case ta:return"Portal";case _p:return"Profiler";case Ym:return"StrictMode";case Ep:return"Suspense";case Tp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case t1:return(t.displayName||"Context")+".Consumer";case e1:return(t._context.displayName||"Context")+".Provider";case Xm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Jm:return e=t.displayName||null,e!==null?e:Ip(t.type)||"Memo";case es:e=t._payload,t=t._init;try{return Ip(t(e))}catch{}}return null}function mA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ip(e);case 8:return e===Ym?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Is(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function r1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function gA(t){var e=r1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ec(t){t._valueTracker||(t._valueTracker=gA(t))}function i1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=r1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function pd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Sp(t,e){var n=e.checked;return vt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Cy(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Is(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function s1(t,e){e=e.checked,e!=null&&Qm(t,"checked",e,!1)}function Cp(t,e){s1(t,e);var n=Is(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ap(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ap(t,e.type,Is(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ay(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ap(t,e,n){(e!=="number"||pd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var wl=Array.isArray;function pa(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Is(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function bp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Z(91));return vt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function by(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Z(92));if(wl(n)){if(1<n.length)throw Error(Z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Is(n)}}function o1(t,e){var n=Is(e.value),r=Is(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function ky(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function a1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?a1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Tc,l1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Tc=Tc||document.createElement("div"),Tc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Tc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ql(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Rl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vA=["Webkit","ms","Moz","O"];Object.keys(Rl).forEach(function(t){vA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Rl[e]=Rl[t]})});function u1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Rl.hasOwnProperty(t)&&Rl[t]?(""+e).trim():e+"px"}function c1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=u1(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var yA=vt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pp(t,e){if(e){if(yA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Z(62))}}function Rp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xp=null;function Zm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Np=null,ma=null,ga=null;function Py(t){if(t=xu(t)){if(typeof Np!="function")throw Error(Z(280));var e=t.stateNode;e&&(e=mh(e),Np(t.stateNode,t.type,e))}}function d1(t){ma?ga?ga.push(t):ga=[t]:ma=t}function h1(){if(ma){var t=ma,e=ga;if(ga=ma=null,Py(t),e)for(t=0;t<e.length;t++)Py(e[t])}}function f1(t,e){return t(e)}function p1(){}var Af=!1;function m1(t,e,n){if(Af)return t(e,n);Af=!0;try{return f1(t,e,n)}finally{Af=!1,(ma!==null||ga!==null)&&(p1(),h1())}}function Yl(t,e){var n=t.stateNode;if(n===null)return null;var r=mh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Z(231,e,typeof n));return n}var Dp=!1;if(Di)try{var ol={};Object.defineProperty(ol,"passive",{get:function(){Dp=!0}}),window.addEventListener("test",ol,ol),window.removeEventListener("test",ol,ol)}catch{Dp=!1}function wA(t,e,n,r,i,s,o,l,u){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(p){this.onError(p)}}var xl=!1,md=null,gd=!1,Op=null,_A={onError:function(t){xl=!0,md=t}};function EA(t,e,n,r,i,s,o,l,u){xl=!1,md=null,wA.apply(_A,arguments)}function TA(t,e,n,r,i,s,o,l,u){if(EA.apply(this,arguments),xl){if(xl){var d=md;xl=!1,md=null}else throw Error(Z(198));gd||(gd=!0,Op=d)}}function Ro(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function g1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ry(t){if(Ro(t)!==t)throw Error(Z(188))}function IA(t){var e=t.alternate;if(!e){if(e=Ro(t),e===null)throw Error(Z(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Ry(i),t;if(s===r)return Ry(i),e;s=s.sibling}throw Error(Z(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(Z(189))}}if(n.alternate!==r)throw Error(Z(190))}if(n.tag!==3)throw Error(Z(188));return n.stateNode.current===n?t:e}function v1(t){return t=IA(t),t!==null?y1(t):null}function y1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=y1(t);if(e!==null)return e;t=t.sibling}return null}var w1=er.unstable_scheduleCallback,xy=er.unstable_cancelCallback,SA=er.unstable_shouldYield,CA=er.unstable_requestPaint,bt=er.unstable_now,AA=er.unstable_getCurrentPriorityLevel,eg=er.unstable_ImmediatePriority,_1=er.unstable_UserBlockingPriority,vd=er.unstable_NormalPriority,bA=er.unstable_LowPriority,E1=er.unstable_IdlePriority,dh=null,ri=null;function kA(t){if(ri&&typeof ri.onCommitFiberRoot=="function")try{ri.onCommitFiberRoot(dh,t,void 0,(t.current.flags&128)===128)}catch{}}var Vr=Math.clz32?Math.clz32:xA,PA=Math.log,RA=Math.LN2;function xA(t){return t>>>=0,t===0?32:31-(PA(t)/RA|0)|0}var Ic=64,Sc=4194304;function _l(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function yd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=_l(l):(s&=o,s!==0&&(r=_l(s)))}else o=n&~i,o!==0?r=_l(o):s!==0&&(r=_l(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Vr(e),i=1<<n,r|=t[n],e&=~i;return r}function NA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function DA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Vr(s),l=1<<o,u=i[o];u===-1?(!(l&n)||l&r)&&(i[o]=NA(l,e)):u<=e&&(t.expiredLanes|=l),s&=~l}}function Lp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function T1(){var t=Ic;return Ic<<=1,!(Ic&4194240)&&(Ic=64),t}function bf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Pu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Vr(e),t[e]=n}function OA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Vr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function tg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Vr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ye=0;function I1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var S1,ng,C1,A1,b1,Mp=!1,Cc=[],hs=null,fs=null,ps=null,Xl=new Map,Jl=new Map,ns=[],LA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ny(t,e){switch(t){case"focusin":case"focusout":hs=null;break;case"dragenter":case"dragleave":fs=null;break;case"mouseover":case"mouseout":ps=null;break;case"pointerover":case"pointerout":Xl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jl.delete(e.pointerId)}}function al(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=xu(e),e!==null&&ng(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function MA(t,e,n,r,i){switch(e){case"focusin":return hs=al(hs,t,e,n,r,i),!0;case"dragenter":return fs=al(fs,t,e,n,r,i),!0;case"mouseover":return ps=al(ps,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Xl.set(s,al(Xl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Jl.set(s,al(Jl.get(s)||null,t,e,n,r,i)),!0}return!1}function k1(t){var e=Js(t.target);if(e!==null){var n=Ro(e);if(n!==null){if(e=n.tag,e===13){if(e=g1(n),e!==null){t.blockedOn=e,b1(t.priority,function(){C1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Kc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Vp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);xp=r,n.target.dispatchEvent(r),xp=null}else return e=xu(n),e!==null&&ng(e),t.blockedOn=n,!1;e.shift()}return!0}function Dy(t,e,n){Kc(t)&&n.delete(e)}function VA(){Mp=!1,hs!==null&&Kc(hs)&&(hs=null),fs!==null&&Kc(fs)&&(fs=null),ps!==null&&Kc(ps)&&(ps=null),Xl.forEach(Dy),Jl.forEach(Dy)}function ll(t,e){t.blockedOn===e&&(t.blockedOn=null,Mp||(Mp=!0,er.unstable_scheduleCallback(er.unstable_NormalPriority,VA)))}function Zl(t){function e(i){return ll(i,t)}if(0<Cc.length){ll(Cc[0],t);for(var n=1;n<Cc.length;n++){var r=Cc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(hs!==null&&ll(hs,t),fs!==null&&ll(fs,t),ps!==null&&ll(ps,t),Xl.forEach(e),Jl.forEach(e),n=0;n<ns.length;n++)r=ns[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ns.length&&(n=ns[0],n.blockedOn===null);)k1(n),n.blockedOn===null&&ns.shift()}var va=Ui.ReactCurrentBatchConfig,wd=!0;function jA(t,e,n,r){var i=Ye,s=va.transition;va.transition=null;try{Ye=1,rg(t,e,n,r)}finally{Ye=i,va.transition=s}}function FA(t,e,n,r){var i=Ye,s=va.transition;va.transition=null;try{Ye=4,rg(t,e,n,r)}finally{Ye=i,va.transition=s}}function rg(t,e,n,r){if(wd){var i=Vp(t,e,n,r);if(i===null)Vf(t,e,r,_d,n),Ny(t,r);else if(MA(i,t,e,n,r))r.stopPropagation();else if(Ny(t,r),e&4&&-1<LA.indexOf(t)){for(;i!==null;){var s=xu(i);if(s!==null&&S1(s),s=Vp(t,e,n,r),s===null&&Vf(t,e,r,_d,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Vf(t,e,r,null,n)}}var _d=null;function Vp(t,e,n,r){if(_d=null,t=Zm(r),t=Js(t),t!==null)if(e=Ro(t),e===null)t=null;else if(n=e.tag,n===13){if(t=g1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return _d=t,null}function P1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(AA()){case eg:return 1;case _1:return 4;case vd:case bA:return 16;case E1:return 536870912;default:return 16}default:return 16}}var ls=null,ig=null,Gc=null;function R1(){if(Gc)return Gc;var t,e=ig,n=e.length,r,i="value"in ls?ls.value:ls.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Gc=i.slice(t,1<r?1-r:void 0)}function Qc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ac(){return!0}function Oy(){return!1}function nr(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ac:Oy,this.isPropagationStopped=Oy,this}return vt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ac)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ac)},persist:function(){},isPersistent:Ac}),e}var $a={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sg=nr($a),Ru=vt({},$a,{view:0,detail:0}),UA=nr(Ru),kf,Pf,ul,hh=vt({},Ru,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:og,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ul&&(ul&&t.type==="mousemove"?(kf=t.screenX-ul.screenX,Pf=t.screenY-ul.screenY):Pf=kf=0,ul=t),kf)},movementY:function(t){return"movementY"in t?t.movementY:Pf}}),Ly=nr(hh),BA=vt({},hh,{dataTransfer:0}),zA=nr(BA),$A=vt({},Ru,{relatedTarget:0}),Rf=nr($A),HA=vt({},$a,{animationName:0,elapsedTime:0,pseudoElement:0}),WA=nr(HA),qA=vt({},$a,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),KA=nr(qA),GA=vt({},$a,{data:0}),My=nr(GA),QA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},YA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},XA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function JA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=XA[t])?!!e[t]:!1}function og(){return JA}var ZA=vt({},Ru,{key:function(t){if(t.key){var e=QA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Qc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?YA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:og,charCode:function(t){return t.type==="keypress"?Qc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),eb=nr(ZA),tb=vt({},hh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vy=nr(tb),nb=vt({},Ru,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:og}),rb=nr(nb),ib=vt({},$a,{propertyName:0,elapsedTime:0,pseudoElement:0}),sb=nr(ib),ob=vt({},hh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ab=nr(ob),lb=[9,13,27,32],ag=Di&&"CompositionEvent"in window,Nl=null;Di&&"documentMode"in document&&(Nl=document.documentMode);var ub=Di&&"TextEvent"in window&&!Nl,x1=Di&&(!ag||Nl&&8<Nl&&11>=Nl),jy=" ",Fy=!1;function N1(t,e){switch(t){case"keyup":return lb.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function D1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ra=!1;function cb(t,e){switch(t){case"compositionend":return D1(e);case"keypress":return e.which!==32?null:(Fy=!0,jy);case"textInput":return t=e.data,t===jy&&Fy?null:t;default:return null}}function db(t,e){if(ra)return t==="compositionend"||!ag&&N1(t,e)?(t=R1(),Gc=ig=ls=null,ra=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return x1&&e.locale!=="ko"?null:e.data;default:return null}}var hb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!hb[t.type]:e==="textarea"}function O1(t,e,n,r){d1(r),e=Ed(e,"onChange"),0<e.length&&(n=new sg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Dl=null,eu=null;function fb(t){W1(t,0)}function fh(t){var e=oa(t);if(i1(e))return t}function pb(t,e){if(t==="change")return e}var L1=!1;if(Di){var xf;if(Di){var Nf="oninput"in document;if(!Nf){var By=document.createElement("div");By.setAttribute("oninput","return;"),Nf=typeof By.oninput=="function"}xf=Nf}else xf=!1;L1=xf&&(!document.documentMode||9<document.documentMode)}function zy(){Dl&&(Dl.detachEvent("onpropertychange",M1),eu=Dl=null)}function M1(t){if(t.propertyName==="value"&&fh(eu)){var e=[];O1(e,eu,t,Zm(t)),m1(fb,e)}}function mb(t,e,n){t==="focusin"?(zy(),Dl=e,eu=n,Dl.attachEvent("onpropertychange",M1)):t==="focusout"&&zy()}function gb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fh(eu)}function vb(t,e){if(t==="click")return fh(e)}function yb(t,e){if(t==="input"||t==="change")return fh(e)}function wb(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ur=typeof Object.is=="function"?Object.is:wb;function tu(t,e){if(Ur(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!wp.call(e,i)||!Ur(t[i],e[i]))return!1}return!0}function $y(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Hy(t,e){var n=$y(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=$y(n)}}function V1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?V1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function j1(){for(var t=window,e=pd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=pd(t.document)}return e}function lg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function _b(t){var e=j1(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&V1(n.ownerDocument.documentElement,n)){if(r!==null&&lg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Hy(n,s);var o=Hy(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Eb=Di&&"documentMode"in document&&11>=document.documentMode,ia=null,jp=null,Ol=null,Fp=!1;function Wy(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Fp||ia==null||ia!==pd(r)||(r=ia,"selectionStart"in r&&lg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ol&&tu(Ol,r)||(Ol=r,r=Ed(jp,"onSelect"),0<r.length&&(e=new sg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ia)))}function bc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var sa={animationend:bc("Animation","AnimationEnd"),animationiteration:bc("Animation","AnimationIteration"),animationstart:bc("Animation","AnimationStart"),transitionend:bc("Transition","TransitionEnd")},Df={},F1={};Di&&(F1=document.createElement("div").style,"AnimationEvent"in window||(delete sa.animationend.animation,delete sa.animationiteration.animation,delete sa.animationstart.animation),"TransitionEvent"in window||delete sa.transitionend.transition);function ph(t){if(Df[t])return Df[t];if(!sa[t])return t;var e=sa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in F1)return Df[t]=e[n];return t}var U1=ph("animationend"),B1=ph("animationiteration"),z1=ph("animationstart"),$1=ph("transitionend"),H1=new Map,qy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ps(t,e){H1.set(t,e),Po(e,[t])}for(var Of=0;Of<qy.length;Of++){var Lf=qy[Of],Tb=Lf.toLowerCase(),Ib=Lf[0].toUpperCase()+Lf.slice(1);Ps(Tb,"on"+Ib)}Ps(U1,"onAnimationEnd");Ps(B1,"onAnimationIteration");Ps(z1,"onAnimationStart");Ps("dblclick","onDoubleClick");Ps("focusin","onFocus");Ps("focusout","onBlur");Ps($1,"onTransitionEnd");Sa("onMouseEnter",["mouseout","mouseover"]);Sa("onMouseLeave",["mouseout","mouseover"]);Sa("onPointerEnter",["pointerout","pointerover"]);Sa("onPointerLeave",["pointerout","pointerover"]);Po("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Po("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Po("onBeforeInput",["compositionend","keypress","textInput","paste"]);Po("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Po("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Po("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var El="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sb=new Set("cancel close invalid load scroll toggle".split(" ").concat(El));function Ky(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,TA(r,e,void 0,t),t.currentTarget=null}function W1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],u=l.instance,d=l.currentTarget;if(l=l.listener,u!==s&&i.isPropagationStopped())break e;Ky(i,l,d),s=u}else for(o=0;o<r.length;o++){if(l=r[o],u=l.instance,d=l.currentTarget,l=l.listener,u!==s&&i.isPropagationStopped())break e;Ky(i,l,d),s=u}}}if(gd)throw t=Op,gd=!1,Op=null,t}function rt(t,e){var n=e[Hp];n===void 0&&(n=e[Hp]=new Set);var r=t+"__bubble";n.has(r)||(q1(e,t,2,!1),n.add(r))}function Mf(t,e,n){var r=0;e&&(r|=4),q1(n,t,r,e)}var kc="_reactListening"+Math.random().toString(36).slice(2);function nu(t){if(!t[kc]){t[kc]=!0,Z_.forEach(function(n){n!=="selectionchange"&&(Sb.has(n)||Mf(n,!1,t),Mf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[kc]||(e[kc]=!0,Mf("selectionchange",!1,e))}}function q1(t,e,n,r){switch(P1(e)){case 1:var i=jA;break;case 4:i=FA;break;default:i=rg}n=i.bind(null,e,n,t),i=void 0,!Dp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Vf(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Js(l),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}l=l.parentNode}}r=r.return}m1(function(){var d=s,p=Zm(n),m=[];e:{var w=H1.get(t);if(w!==void 0){var b=sg,x=t;switch(t){case"keypress":if(Qc(n)===0)break e;case"keydown":case"keyup":b=eb;break;case"focusin":x="focus",b=Rf;break;case"focusout":x="blur",b=Rf;break;case"beforeblur":case"afterblur":b=Rf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=Ly;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=zA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=rb;break;case U1:case B1:case z1:b=WA;break;case $1:b=sb;break;case"scroll":b=UA;break;case"wheel":b=ab;break;case"copy":case"cut":case"paste":b=KA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=Vy}var N=(e&4)!==0,j=!N&&t==="scroll",P=N?w!==null?w+"Capture":null:w;N=[];for(var T=d,k;T!==null;){k=T;var F=k.stateNode;if(k.tag===5&&F!==null&&(k=F,P!==null&&(F=Yl(T,P),F!=null&&N.push(ru(T,F,k)))),j)break;T=T.return}0<N.length&&(w=new b(w,x,null,n,p),m.push({event:w,listeners:N}))}}if(!(e&7)){e:{if(w=t==="mouseover"||t==="pointerover",b=t==="mouseout"||t==="pointerout",w&&n!==xp&&(x=n.relatedTarget||n.fromElement)&&(Js(x)||x[Oi]))break e;if((b||w)&&(w=p.window===p?p:(w=p.ownerDocument)?w.defaultView||w.parentWindow:window,b?(x=n.relatedTarget||n.toElement,b=d,x=x?Js(x):null,x!==null&&(j=Ro(x),x!==j||x.tag!==5&&x.tag!==6)&&(x=null)):(b=null,x=d),b!==x)){if(N=Ly,F="onMouseLeave",P="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(N=Vy,F="onPointerLeave",P="onPointerEnter",T="pointer"),j=b==null?w:oa(b),k=x==null?w:oa(x),w=new N(F,T+"leave",b,n,p),w.target=j,w.relatedTarget=k,F=null,Js(p)===d&&(N=new N(P,T+"enter",x,n,p),N.target=k,N.relatedTarget=j,F=N),j=F,b&&x)t:{for(N=b,P=x,T=0,k=N;k;k=Yo(k))T++;for(k=0,F=P;F;F=Yo(F))k++;for(;0<T-k;)N=Yo(N),T--;for(;0<k-T;)P=Yo(P),k--;for(;T--;){if(N===P||P!==null&&N===P.alternate)break t;N=Yo(N),P=Yo(P)}N=null}else N=null;b!==null&&Gy(m,w,b,N,!1),x!==null&&j!==null&&Gy(m,j,x,N,!0)}}e:{if(w=d?oa(d):window,b=w.nodeName&&w.nodeName.toLowerCase(),b==="select"||b==="input"&&w.type==="file")var G=pb;else if(Uy(w))if(L1)G=yb;else{G=gb;var L=mb}else(b=w.nodeName)&&b.toLowerCase()==="input"&&(w.type==="checkbox"||w.type==="radio")&&(G=vb);if(G&&(G=G(t,d))){O1(m,G,n,p);break e}L&&L(t,w,d),t==="focusout"&&(L=w._wrapperState)&&L.controlled&&w.type==="number"&&Ap(w,"number",w.value)}switch(L=d?oa(d):window,t){case"focusin":(Uy(L)||L.contentEditable==="true")&&(ia=L,jp=d,Ol=null);break;case"focusout":Ol=jp=ia=null;break;case"mousedown":Fp=!0;break;case"contextmenu":case"mouseup":case"dragend":Fp=!1,Wy(m,n,p);break;case"selectionchange":if(Eb)break;case"keydown":case"keyup":Wy(m,n,p)}var A;if(ag)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else ra?N1(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(x1&&n.locale!=="ko"&&(ra||E!=="onCompositionStart"?E==="onCompositionEnd"&&ra&&(A=R1()):(ls=p,ig="value"in ls?ls.value:ls.textContent,ra=!0)),L=Ed(d,E),0<L.length&&(E=new My(E,t,null,n,p),m.push({event:E,listeners:L}),A?E.data=A:(A=D1(n),A!==null&&(E.data=A)))),(A=ub?cb(t,n):db(t,n))&&(d=Ed(d,"onBeforeInput"),0<d.length&&(p=new My("onBeforeInput","beforeinput",null,n,p),m.push({event:p,listeners:d}),p.data=A))}W1(m,e)})}function ru(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ed(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Yl(t,n),s!=null&&r.unshift(ru(t,s,i)),s=Yl(t,e),s!=null&&r.push(ru(t,s,i))),t=t.return}return r}function Yo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Gy(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,u=l.alternate,d=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&d!==null&&(l=d,i?(u=Yl(n,s),u!=null&&o.unshift(ru(n,u,l))):i||(u=Yl(n,s),u!=null&&o.push(ru(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Cb=/\r\n?/g,Ab=/\u0000|\uFFFD/g;function Qy(t){return(typeof t=="string"?t:""+t).replace(Cb,`
`).replace(Ab,"")}function Pc(t,e,n){if(e=Qy(e),Qy(t)!==e&&n)throw Error(Z(425))}function Td(){}var Up=null,Bp=null;function zp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var $p=typeof setTimeout=="function"?setTimeout:void 0,bb=typeof clearTimeout=="function"?clearTimeout:void 0,Yy=typeof Promise=="function"?Promise:void 0,kb=typeof queueMicrotask=="function"?queueMicrotask:typeof Yy<"u"?function(t){return Yy.resolve(null).then(t).catch(Pb)}:$p;function Pb(t){setTimeout(function(){throw t})}function jf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Zl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Zl(e)}function ms(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Xy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ha=Math.random().toString(36).slice(2),ei="__reactFiber$"+Ha,iu="__reactProps$"+Ha,Oi="__reactContainer$"+Ha,Hp="__reactEvents$"+Ha,Rb="__reactListeners$"+Ha,xb="__reactHandles$"+Ha;function Js(t){var e=t[ei];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Oi]||n[ei]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Xy(t);t!==null;){if(n=t[ei])return n;t=Xy(t)}return e}t=n,n=t.parentNode}return null}function xu(t){return t=t[ei]||t[Oi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function oa(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Z(33))}function mh(t){return t[iu]||null}var Wp=[],aa=-1;function Rs(t){return{current:t}}function it(t){0>aa||(t.current=Wp[aa],Wp[aa]=null,aa--)}function tt(t,e){aa++,Wp[aa]=t.current,t.current=e}var Ss={},mn=Rs(Ss),Vn=Rs(!1),ho=Ss;function Ca(t,e){var n=t.type.contextTypes;if(!n)return Ss;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function jn(t){return t=t.childContextTypes,t!=null}function Id(){it(Vn),it(mn)}function Jy(t,e,n){if(mn.current!==Ss)throw Error(Z(168));tt(mn,e),tt(Vn,n)}function K1(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Z(108,mA(t)||"Unknown",i));return vt({},n,r)}function Sd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ss,ho=mn.current,tt(mn,t),tt(Vn,Vn.current),!0}function Zy(t,e,n){var r=t.stateNode;if(!r)throw Error(Z(169));n?(t=K1(t,e,ho),r.__reactInternalMemoizedMergedChildContext=t,it(Vn),it(mn),tt(mn,t)):it(Vn),tt(Vn,n)}var Ti=null,gh=!1,Ff=!1;function G1(t){Ti===null?Ti=[t]:Ti.push(t)}function Nb(t){gh=!0,G1(t)}function xs(){if(!Ff&&Ti!==null){Ff=!0;var t=0,e=Ye;try{var n=Ti;for(Ye=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ti=null,gh=!1}catch(i){throw Ti!==null&&(Ti=Ti.slice(t+1)),w1(eg,xs),i}finally{Ye=e,Ff=!1}}return null}var la=[],ua=0,Cd=null,Ad=0,hr=[],fr=0,fo=null,Ii=1,Si="";function Gs(t,e){la[ua++]=Ad,la[ua++]=Cd,Cd=t,Ad=e}function Q1(t,e,n){hr[fr++]=Ii,hr[fr++]=Si,hr[fr++]=fo,fo=t;var r=Ii;t=Si;var i=32-Vr(r)-1;r&=~(1<<i),n+=1;var s=32-Vr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ii=1<<32-Vr(e)+i|n<<i|r,Si=s+t}else Ii=1<<s|n<<i|r,Si=t}function ug(t){t.return!==null&&(Gs(t,1),Q1(t,1,0))}function cg(t){for(;t===Cd;)Cd=la[--ua],la[ua]=null,Ad=la[--ua],la[ua]=null;for(;t===fo;)fo=hr[--fr],hr[fr]=null,Si=hr[--fr],hr[fr]=null,Ii=hr[--fr],hr[fr]=null}var Jn=null,Gn=null,st=!1,Lr=null;function Y1(t,e){var n=pr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function ew(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Jn=t,Gn=ms(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Jn=t,Gn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=fo!==null?{id:Ii,overflow:Si}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=pr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Jn=t,Gn=null,!0):!1;default:return!1}}function qp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Kp(t){if(st){var e=Gn;if(e){var n=e;if(!ew(t,e)){if(qp(t))throw Error(Z(418));e=ms(n.nextSibling);var r=Jn;e&&ew(t,e)?Y1(r,n):(t.flags=t.flags&-4097|2,st=!1,Jn=t)}}else{if(qp(t))throw Error(Z(418));t.flags=t.flags&-4097|2,st=!1,Jn=t}}}function tw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Jn=t}function Rc(t){if(t!==Jn)return!1;if(!st)return tw(t),st=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!zp(t.type,t.memoizedProps)),e&&(e=Gn)){if(qp(t))throw X1(),Error(Z(418));for(;e;)Y1(t,e),e=ms(e.nextSibling)}if(tw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Gn=ms(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Gn=null}}else Gn=Jn?ms(t.stateNode.nextSibling):null;return!0}function X1(){for(var t=Gn;t;)t=ms(t.nextSibling)}function Aa(){Gn=Jn=null,st=!1}function dg(t){Lr===null?Lr=[t]:Lr.push(t)}var Db=Ui.ReactCurrentBatchConfig;function cl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Z(309));var r=n.stateNode}if(!r)throw Error(Z(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Z(284));if(!n._owner)throw Error(Z(290,t))}return t}function xc(t,e){throw t=Object.prototype.toString.call(e),Error(Z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function nw(t){var e=t._init;return e(t._payload)}function J1(t){function e(P,T){if(t){var k=P.deletions;k===null?(P.deletions=[T],P.flags|=16):k.push(T)}}function n(P,T){if(!t)return null;for(;T!==null;)e(P,T),T=T.sibling;return null}function r(P,T){for(P=new Map;T!==null;)T.key!==null?P.set(T.key,T):P.set(T.index,T),T=T.sibling;return P}function i(P,T){return P=ws(P,T),P.index=0,P.sibling=null,P}function s(P,T,k){return P.index=k,t?(k=P.alternate,k!==null?(k=k.index,k<T?(P.flags|=2,T):k):(P.flags|=2,T)):(P.flags|=1048576,T)}function o(P){return t&&P.alternate===null&&(P.flags|=2),P}function l(P,T,k,F){return T===null||T.tag!==6?(T=qf(k,P.mode,F),T.return=P,T):(T=i(T,k),T.return=P,T)}function u(P,T,k,F){var G=k.type;return G===na?p(P,T,k.props.children,F,k.key):T!==null&&(T.elementType===G||typeof G=="object"&&G!==null&&G.$$typeof===es&&nw(G)===T.type)?(F=i(T,k.props),F.ref=cl(P,T,k),F.return=P,F):(F=nd(k.type,k.key,k.props,null,P.mode,F),F.ref=cl(P,T,k),F.return=P,F)}function d(P,T,k,F){return T===null||T.tag!==4||T.stateNode.containerInfo!==k.containerInfo||T.stateNode.implementation!==k.implementation?(T=Kf(k,P.mode,F),T.return=P,T):(T=i(T,k.children||[]),T.return=P,T)}function p(P,T,k,F,G){return T===null||T.tag!==7?(T=ao(k,P.mode,F,G),T.return=P,T):(T=i(T,k),T.return=P,T)}function m(P,T,k){if(typeof T=="string"&&T!==""||typeof T=="number")return T=qf(""+T,P.mode,k),T.return=P,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case _c:return k=nd(T.type,T.key,T.props,null,P.mode,k),k.ref=cl(P,null,T),k.return=P,k;case ta:return T=Kf(T,P.mode,k),T.return=P,T;case es:var F=T._init;return m(P,F(T._payload),k)}if(wl(T)||sl(T))return T=ao(T,P.mode,k,null),T.return=P,T;xc(P,T)}return null}function w(P,T,k,F){var G=T!==null?T.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return G!==null?null:l(P,T,""+k,F);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case _c:return k.key===G?u(P,T,k,F):null;case ta:return k.key===G?d(P,T,k,F):null;case es:return G=k._init,w(P,T,G(k._payload),F)}if(wl(k)||sl(k))return G!==null?null:p(P,T,k,F,null);xc(P,k)}return null}function b(P,T,k,F,G){if(typeof F=="string"&&F!==""||typeof F=="number")return P=P.get(k)||null,l(T,P,""+F,G);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case _c:return P=P.get(F.key===null?k:F.key)||null,u(T,P,F,G);case ta:return P=P.get(F.key===null?k:F.key)||null,d(T,P,F,G);case es:var L=F._init;return b(P,T,k,L(F._payload),G)}if(wl(F)||sl(F))return P=P.get(k)||null,p(T,P,F,G,null);xc(T,F)}return null}function x(P,T,k,F){for(var G=null,L=null,A=T,E=T=0,S=null;A!==null&&E<k.length;E++){A.index>E?(S=A,A=null):S=A.sibling;var C=w(P,A,k[E],F);if(C===null){A===null&&(A=S);break}t&&A&&C.alternate===null&&e(P,A),T=s(C,T,E),L===null?G=C:L.sibling=C,L=C,A=S}if(E===k.length)return n(P,A),st&&Gs(P,E),G;if(A===null){for(;E<k.length;E++)A=m(P,k[E],F),A!==null&&(T=s(A,T,E),L===null?G=A:L.sibling=A,L=A);return st&&Gs(P,E),G}for(A=r(P,A);E<k.length;E++)S=b(A,P,E,k[E],F),S!==null&&(t&&S.alternate!==null&&A.delete(S.key===null?E:S.key),T=s(S,T,E),L===null?G=S:L.sibling=S,L=S);return t&&A.forEach(function(D){return e(P,D)}),st&&Gs(P,E),G}function N(P,T,k,F){var G=sl(k);if(typeof G!="function")throw Error(Z(150));if(k=G.call(k),k==null)throw Error(Z(151));for(var L=G=null,A=T,E=T=0,S=null,C=k.next();A!==null&&!C.done;E++,C=k.next()){A.index>E?(S=A,A=null):S=A.sibling;var D=w(P,A,C.value,F);if(D===null){A===null&&(A=S);break}t&&A&&D.alternate===null&&e(P,A),T=s(D,T,E),L===null?G=D:L.sibling=D,L=D,A=S}if(C.done)return n(P,A),st&&Gs(P,E),G;if(A===null){for(;!C.done;E++,C=k.next())C=m(P,C.value,F),C!==null&&(T=s(C,T,E),L===null?G=C:L.sibling=C,L=C);return st&&Gs(P,E),G}for(A=r(P,A);!C.done;E++,C=k.next())C=b(A,P,E,C.value,F),C!==null&&(t&&C.alternate!==null&&A.delete(C.key===null?E:C.key),T=s(C,T,E),L===null?G=C:L.sibling=C,L=C);return t&&A.forEach(function(V){return e(P,V)}),st&&Gs(P,E),G}function j(P,T,k,F){if(typeof k=="object"&&k!==null&&k.type===na&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case _c:e:{for(var G=k.key,L=T;L!==null;){if(L.key===G){if(G=k.type,G===na){if(L.tag===7){n(P,L.sibling),T=i(L,k.props.children),T.return=P,P=T;break e}}else if(L.elementType===G||typeof G=="object"&&G!==null&&G.$$typeof===es&&nw(G)===L.type){n(P,L.sibling),T=i(L,k.props),T.ref=cl(P,L,k),T.return=P,P=T;break e}n(P,L);break}else e(P,L);L=L.sibling}k.type===na?(T=ao(k.props.children,P.mode,F,k.key),T.return=P,P=T):(F=nd(k.type,k.key,k.props,null,P.mode,F),F.ref=cl(P,T,k),F.return=P,P=F)}return o(P);case ta:e:{for(L=k.key;T!==null;){if(T.key===L)if(T.tag===4&&T.stateNode.containerInfo===k.containerInfo&&T.stateNode.implementation===k.implementation){n(P,T.sibling),T=i(T,k.children||[]),T.return=P,P=T;break e}else{n(P,T);break}else e(P,T);T=T.sibling}T=Kf(k,P.mode,F),T.return=P,P=T}return o(P);case es:return L=k._init,j(P,T,L(k._payload),F)}if(wl(k))return x(P,T,k,F);if(sl(k))return N(P,T,k,F);xc(P,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,T!==null&&T.tag===6?(n(P,T.sibling),T=i(T,k),T.return=P,P=T):(n(P,T),T=qf(k,P.mode,F),T.return=P,P=T),o(P)):n(P,T)}return j}var ba=J1(!0),Z1=J1(!1),bd=Rs(null),kd=null,ca=null,hg=null;function fg(){hg=ca=kd=null}function pg(t){var e=bd.current;it(bd),t._currentValue=e}function Gp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ya(t,e){kd=t,hg=ca=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ln=!0),t.firstContext=null)}function vr(t){var e=t._currentValue;if(hg!==t)if(t={context:t,memoizedValue:e,next:null},ca===null){if(kd===null)throw Error(Z(308));ca=t,kd.dependencies={lanes:0,firstContext:t}}else ca=ca.next=t;return e}var Zs=null;function mg(t){Zs===null?Zs=[t]:Zs.push(t)}function eE(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,mg(e)):(n.next=i.next,i.next=n),e.interleaved=n,Li(t,r)}function Li(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ts=!1;function gg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Pi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function gs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Be&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Li(t,n)}return i=r.interleaved,i===null?(e.next=e,mg(r)):(e.next=i.next,i.next=e),r.interleaved=e,Li(t,n)}function Yc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,tg(t,n)}}function rw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Pd(t,e,n,r){var i=t.updateQueue;ts=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,d=u.next;u.next=null,o===null?s=d:o.next=d,o=u;var p=t.alternate;p!==null&&(p=p.updateQueue,l=p.lastBaseUpdate,l!==o&&(l===null?p.firstBaseUpdate=d:l.next=d,p.lastBaseUpdate=u))}if(s!==null){var m=i.baseState;o=0,p=d=u=null,l=s;do{var w=l.lane,b=l.eventTime;if((r&w)===w){p!==null&&(p=p.next={eventTime:b,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=t,N=l;switch(w=e,b=n,N.tag){case 1:if(x=N.payload,typeof x=="function"){m=x.call(b,m,w);break e}m=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=N.payload,w=typeof x=="function"?x.call(b,m,w):x,w==null)break e;m=vt({},m,w);break e;case 2:ts=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,w=i.effects,w===null?i.effects=[l]:w.push(l))}else b={eventTime:b,lane:w,tag:l.tag,payload:l.payload,callback:l.callback,next:null},p===null?(d=p=b,u=m):p=p.next=b,o|=w;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;w=l,l=w.next,w.next=null,i.lastBaseUpdate=w,i.shared.pending=null}}while(!0);if(p===null&&(u=m),i.baseState=u,i.firstBaseUpdate=d,i.lastBaseUpdate=p,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);mo|=o,t.lanes=o,t.memoizedState=m}}function iw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Z(191,i));i.call(r)}}}var Nu={},ii=Rs(Nu),su=Rs(Nu),ou=Rs(Nu);function eo(t){if(t===Nu)throw Error(Z(174));return t}function vg(t,e){switch(tt(ou,e),tt(su,t),tt(ii,Nu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:kp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=kp(e,t)}it(ii),tt(ii,e)}function ka(){it(ii),it(su),it(ou)}function nE(t){eo(ou.current);var e=eo(ii.current),n=kp(e,t.type);e!==n&&(tt(su,t),tt(ii,n))}function yg(t){su.current===t&&(it(ii),it(su))}var pt=Rs(0);function Rd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Uf=[];function wg(){for(var t=0;t<Uf.length;t++)Uf[t]._workInProgressVersionPrimary=null;Uf.length=0}var Xc=Ui.ReactCurrentDispatcher,Bf=Ui.ReactCurrentBatchConfig,po=0,gt=null,Ft=null,Yt=null,xd=!1,Ll=!1,au=0,Ob=0;function ln(){throw Error(Z(321))}function _g(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ur(t[n],e[n]))return!1;return!0}function Eg(t,e,n,r,i,s){if(po=s,gt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Xc.current=t===null||t.memoizedState===null?jb:Fb,t=n(r,i),Ll){s=0;do{if(Ll=!1,au=0,25<=s)throw Error(Z(301));s+=1,Yt=Ft=null,e.updateQueue=null,Xc.current=Ub,t=n(r,i)}while(Ll)}if(Xc.current=Nd,e=Ft!==null&&Ft.next!==null,po=0,Yt=Ft=gt=null,xd=!1,e)throw Error(Z(300));return t}function Tg(){var t=au!==0;return au=0,t}function Jr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yt===null?gt.memoizedState=Yt=t:Yt=Yt.next=t,Yt}function yr(){if(Ft===null){var t=gt.alternate;t=t!==null?t.memoizedState:null}else t=Ft.next;var e=Yt===null?gt.memoizedState:Yt.next;if(e!==null)Yt=e,Ft=t;else{if(t===null)throw Error(Z(310));Ft=t,t={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},Yt===null?gt.memoizedState=Yt=t:Yt=Yt.next=t}return Yt}function lu(t,e){return typeof e=="function"?e(t):e}function zf(t){var e=yr(),n=e.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=t;var r=Ft,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,u=null,d=s;do{var p=d.lane;if((po&p)===p)u!==null&&(u=u.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var m={lane:p,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};u===null?(l=u=m,o=r):u=u.next=m,gt.lanes|=p,mo|=p}d=d.next}while(d!==null&&d!==s);u===null?o=r:u.next=l,Ur(r,e.memoizedState)||(Ln=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,gt.lanes|=s,mo|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function $f(t){var e=yr(),n=e.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Ur(s,e.memoizedState)||(Ln=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function rE(){}function iE(t,e){var n=gt,r=yr(),i=e(),s=!Ur(r.memoizedState,i);if(s&&(r.memoizedState=i,Ln=!0),r=r.queue,Ig(aE.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Yt!==null&&Yt.memoizedState.tag&1){if(n.flags|=2048,uu(9,oE.bind(null,n,r,i,e),void 0,null),Xt===null)throw Error(Z(349));po&30||sE(n,e,i)}return i}function sE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=gt.updateQueue,e===null?(e={lastEffect:null,stores:null},gt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function oE(t,e,n,r){e.value=n,e.getSnapshot=r,lE(e)&&uE(t)}function aE(t,e,n){return n(function(){lE(e)&&uE(t)})}function lE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ur(t,n)}catch{return!0}}function uE(t){var e=Li(t,1);e!==null&&jr(e,t,1,-1)}function sw(t){var e=Jr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:lu,lastRenderedState:t},e.queue=t,t=t.dispatch=Vb.bind(null,gt,t),[e.memoizedState,t]}function uu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=gt.updateQueue,e===null?(e={lastEffect:null,stores:null},gt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function cE(){return yr().memoizedState}function Jc(t,e,n,r){var i=Jr();gt.flags|=t,i.memoizedState=uu(1|e,n,void 0,r===void 0?null:r)}function vh(t,e,n,r){var i=yr();r=r===void 0?null:r;var s=void 0;if(Ft!==null){var o=Ft.memoizedState;if(s=o.destroy,r!==null&&_g(r,o.deps)){i.memoizedState=uu(e,n,s,r);return}}gt.flags|=t,i.memoizedState=uu(1|e,n,s,r)}function ow(t,e){return Jc(8390656,8,t,e)}function Ig(t,e){return vh(2048,8,t,e)}function dE(t,e){return vh(4,2,t,e)}function hE(t,e){return vh(4,4,t,e)}function fE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function pE(t,e,n){return n=n!=null?n.concat([t]):null,vh(4,4,fE.bind(null,e,t),n)}function Sg(){}function mE(t,e){var n=yr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&_g(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function gE(t,e){var n=yr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&_g(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function vE(t,e,n){return po&21?(Ur(n,e)||(n=T1(),gt.lanes|=n,mo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ln=!0),t.memoizedState=n)}function Lb(t,e){var n=Ye;Ye=n!==0&&4>n?n:4,t(!0);var r=Bf.transition;Bf.transition={};try{t(!1),e()}finally{Ye=n,Bf.transition=r}}function yE(){return yr().memoizedState}function Mb(t,e,n){var r=ys(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},wE(t))_E(e,n);else if(n=eE(t,e,n,r),n!==null){var i=Cn();jr(n,t,r,i),EE(n,e,r)}}function Vb(t,e,n){var r=ys(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(wE(t))_E(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,Ur(l,o)){var u=e.interleaved;u===null?(i.next=i,mg(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=eE(t,e,i,r),n!==null&&(i=Cn(),jr(n,t,r,i),EE(n,e,r))}}function wE(t){var e=t.alternate;return t===gt||e!==null&&e===gt}function _E(t,e){Ll=xd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function EE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,tg(t,n)}}var Nd={readContext:vr,useCallback:ln,useContext:ln,useEffect:ln,useImperativeHandle:ln,useInsertionEffect:ln,useLayoutEffect:ln,useMemo:ln,useReducer:ln,useRef:ln,useState:ln,useDebugValue:ln,useDeferredValue:ln,useTransition:ln,useMutableSource:ln,useSyncExternalStore:ln,useId:ln,unstable_isNewReconciler:!1},jb={readContext:vr,useCallback:function(t,e){return Jr().memoizedState=[t,e===void 0?null:e],t},useContext:vr,useEffect:ow,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Jc(4194308,4,fE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Jc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Jc(4,2,t,e)},useMemo:function(t,e){var n=Jr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Jr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Mb.bind(null,gt,t),[r.memoizedState,t]},useRef:function(t){var e=Jr();return t={current:t},e.memoizedState=t},useState:sw,useDebugValue:Sg,useDeferredValue:function(t){return Jr().memoizedState=t},useTransition:function(){var t=sw(!1),e=t[0];return t=Lb.bind(null,t[1]),Jr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=gt,i=Jr();if(st){if(n===void 0)throw Error(Z(407));n=n()}else{if(n=e(),Xt===null)throw Error(Z(349));po&30||sE(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,ow(aE.bind(null,r,s,t),[t]),r.flags|=2048,uu(9,oE.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Jr(),e=Xt.identifierPrefix;if(st){var n=Si,r=Ii;n=(r&~(1<<32-Vr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=au++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Ob++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Fb={readContext:vr,useCallback:mE,useContext:vr,useEffect:Ig,useImperativeHandle:pE,useInsertionEffect:dE,useLayoutEffect:hE,useMemo:gE,useReducer:zf,useRef:cE,useState:function(){return zf(lu)},useDebugValue:Sg,useDeferredValue:function(t){var e=yr();return vE(e,Ft.memoizedState,t)},useTransition:function(){var t=zf(lu)[0],e=yr().memoizedState;return[t,e]},useMutableSource:rE,useSyncExternalStore:iE,useId:yE,unstable_isNewReconciler:!1},Ub={readContext:vr,useCallback:mE,useContext:vr,useEffect:Ig,useImperativeHandle:pE,useInsertionEffect:dE,useLayoutEffect:hE,useMemo:gE,useReducer:$f,useRef:cE,useState:function(){return $f(lu)},useDebugValue:Sg,useDeferredValue:function(t){var e=yr();return Ft===null?e.memoizedState=t:vE(e,Ft.memoizedState,t)},useTransition:function(){var t=$f(lu)[0],e=yr().memoizedState;return[t,e]},useMutableSource:rE,useSyncExternalStore:iE,useId:yE,unstable_isNewReconciler:!1};function Nr(t,e){if(t&&t.defaultProps){e=vt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Qp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:vt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var yh={isMounted:function(t){return(t=t._reactInternals)?Ro(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Cn(),i=ys(t),s=Pi(r,i);s.payload=e,n!=null&&(s.callback=n),e=gs(t,s,i),e!==null&&(jr(e,t,i,r),Yc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Cn(),i=ys(t),s=Pi(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=gs(t,s,i),e!==null&&(jr(e,t,i,r),Yc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Cn(),r=ys(t),i=Pi(n,r);i.tag=2,e!=null&&(i.callback=e),e=gs(t,i,r),e!==null&&(jr(e,t,r,n),Yc(e,t,r))}};function aw(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!tu(n,r)||!tu(i,s):!0}function TE(t,e,n){var r=!1,i=Ss,s=e.contextType;return typeof s=="object"&&s!==null?s=vr(s):(i=jn(e)?ho:mn.current,r=e.contextTypes,s=(r=r!=null)?Ca(t,i):Ss),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=yh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function lw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&yh.enqueueReplaceState(e,e.state,null)}function Yp(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},gg(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=vr(s):(s=jn(e)?ho:mn.current,i.context=Ca(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Qp(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&yh.enqueueReplaceState(i,i.state,null),Pd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Pa(t,e){try{var n="",r=e;do n+=pA(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Hf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Xp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Bb=typeof WeakMap=="function"?WeakMap:Map;function IE(t,e,n){n=Pi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Od||(Od=!0,am=r),Xp(t,e)},n}function SE(t,e,n){n=Pi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Xp(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Xp(t,e),typeof r!="function"&&(vs===null?vs=new Set([this]):vs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function uw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Bb;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=tk.bind(null,t,e,n),e.then(t,t))}function cw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function dw(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Pi(-1,1),e.tag=2,gs(n,e,1))),n.lanes|=1),t)}var zb=Ui.ReactCurrentOwner,Ln=!1;function In(t,e,n,r){e.child=t===null?Z1(e,null,n,r):ba(e,t.child,n,r)}function hw(t,e,n,r,i){n=n.render;var s=e.ref;return ya(e,i),r=Eg(t,e,n,r,s,i),n=Tg(),t!==null&&!Ln?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Mi(t,e,i)):(st&&n&&ug(e),e.flags|=1,In(t,e,r,i),e.child)}function fw(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Ng(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,CE(t,e,s,r,i)):(t=nd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:tu,n(o,r)&&t.ref===e.ref)return Mi(t,e,i)}return e.flags|=1,t=ws(s,r),t.ref=e.ref,t.return=e,e.child=t}function CE(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(tu(s,r)&&t.ref===e.ref)if(Ln=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Ln=!0);else return e.lanes=t.lanes,Mi(t,e,i)}return Jp(t,e,n,r,i)}function AE(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt(ha,qn),qn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,tt(ha,qn),qn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,tt(ha,qn),qn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,tt(ha,qn),qn|=r;return In(t,e,i,n),e.child}function bE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Jp(t,e,n,r,i){var s=jn(n)?ho:mn.current;return s=Ca(e,s),ya(e,i),n=Eg(t,e,n,r,s,i),r=Tg(),t!==null&&!Ln?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Mi(t,e,i)):(st&&r&&ug(e),e.flags|=1,In(t,e,n,i),e.child)}function pw(t,e,n,r,i){if(jn(n)){var s=!0;Sd(e)}else s=!1;if(ya(e,i),e.stateNode===null)Zc(t,e),TE(e,n,r),Yp(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var u=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=vr(d):(d=jn(n)?ho:mn.current,d=Ca(e,d));var p=n.getDerivedStateFromProps,m=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||u!==d)&&lw(e,o,r,d),ts=!1;var w=e.memoizedState;o.state=w,Pd(e,r,o,i),u=e.memoizedState,l!==r||w!==u||Vn.current||ts?(typeof p=="function"&&(Qp(e,n,p,r),u=e.memoizedState),(l=ts||aw(e,n,l,r,w,u,d))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=d,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,tE(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:Nr(e.type,l),o.props=d,m=e.pendingProps,w=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=vr(u):(u=jn(n)?ho:mn.current,u=Ca(e,u));var b=n.getDerivedStateFromProps;(p=typeof b=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||w!==u)&&lw(e,o,r,u),ts=!1,w=e.memoizedState,o.state=w,Pd(e,r,o,i);var x=e.memoizedState;l!==m||w!==x||Vn.current||ts?(typeof b=="function"&&(Qp(e,n,b,r),x=e.memoizedState),(d=ts||aw(e,n,d,r,w,x,u)||!1)?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&w===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&w===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),o.props=r,o.state=x,o.context=u,r=d):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&w===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&w===t.memoizedState||(e.flags|=1024),r=!1)}return Zp(t,e,n,r,s,i)}function Zp(t,e,n,r,i,s){bE(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Zy(e,n,!1),Mi(t,e,s);r=e.stateNode,zb.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ba(e,t.child,null,s),e.child=ba(e,null,l,s)):In(t,e,l,s),e.memoizedState=r.state,i&&Zy(e,n,!0),e.child}function kE(t){var e=t.stateNode;e.pendingContext?Jy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Jy(t,e.context,!1),vg(t,e.containerInfo)}function mw(t,e,n,r,i){return Aa(),dg(i),e.flags|=256,In(t,e,n,r),e.child}var em={dehydrated:null,treeContext:null,retryLane:0};function tm(t){return{baseLanes:t,cachePool:null,transitions:null}}function PE(t,e,n){var r=e.pendingProps,i=pt.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),tt(pt,i&1),t===null)return Kp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Eh(o,r,0,null),t=ao(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=tm(n),e.memoizedState=em,t):Cg(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return $b(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=ws(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=ws(l,s):(s=ao(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?tm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=em,r}return s=t.child,t=s.sibling,r=ws(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Cg(t,e){return e=Eh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Nc(t,e,n,r){return r!==null&&dg(r),ba(e,t.child,null,n),t=Cg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function $b(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Hf(Error(Z(422))),Nc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Eh({mode:"visible",children:r.children},i,0,null),s=ao(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ba(e,t.child,null,o),e.child.memoizedState=tm(o),e.memoizedState=em,s);if(!(e.mode&1))return Nc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(Z(419)),r=Hf(s,r,void 0),Nc(t,e,o,r)}if(l=(o&t.childLanes)!==0,Ln||l){if(r=Xt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Li(t,i),jr(r,t,i,-1))}return xg(),r=Hf(Error(Z(421))),Nc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=nk.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Gn=ms(i.nextSibling),Jn=e,st=!0,Lr=null,t!==null&&(hr[fr++]=Ii,hr[fr++]=Si,hr[fr++]=fo,Ii=t.id,Si=t.overflow,fo=e),e=Cg(e,r.children),e.flags|=4096,e)}function gw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Gp(t.return,e,n)}function Wf(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function RE(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(In(t,e,r.children,n),r=pt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&gw(t,n,e);else if(t.tag===19)gw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(tt(pt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Rd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Wf(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Rd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Wf(e,!0,n,null,s);break;case"together":Wf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Zc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Mi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),mo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Z(153));if(e.child!==null){for(t=e.child,n=ws(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ws(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Hb(t,e,n){switch(e.tag){case 3:kE(e),Aa();break;case 5:nE(e);break;case 1:jn(e.type)&&Sd(e);break;case 4:vg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;tt(bd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(tt(pt,pt.current&1),e.flags|=128,null):n&e.child.childLanes?PE(t,e,n):(tt(pt,pt.current&1),t=Mi(t,e,n),t!==null?t.sibling:null);tt(pt,pt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return RE(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),tt(pt,pt.current),r)break;return null;case 22:case 23:return e.lanes=0,AE(t,e,n)}return Mi(t,e,n)}var xE,nm,NE,DE;xE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};nm=function(){};NE=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,eo(ii.current);var s=null;switch(n){case"input":i=Sp(t,i),r=Sp(t,r),s=[];break;case"select":i=vt({},i,{value:void 0}),r=vt({},r,{value:void 0}),s=[];break;case"textarea":i=bp(t,i),r=bp(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Td)}Pp(n,r);var o;n=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var l=i[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Gl.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var u=r[d];if(l=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&u!==l&&(u!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(d,n)),n=u;else d==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(s=s||[]).push(d,u)):d==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(d,""+u):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Gl.hasOwnProperty(d)?(u!=null&&d==="onScroll"&&rt("scroll",t),s||l===u||(s=[])):(s=s||[]).push(d,u))}n&&(s=s||[]).push("style",n);var d=s;(e.updateQueue=d)&&(e.flags|=4)}};DE=function(t,e,n,r){n!==r&&(e.flags|=4)};function dl(t,e){if(!st)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function un(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Wb(t,e,n){var r=e.pendingProps;switch(cg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return un(e),null;case 1:return jn(e.type)&&Id(),un(e),null;case 3:return r=e.stateNode,ka(),it(Vn),it(mn),wg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Rc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Lr!==null&&(cm(Lr),Lr=null))),nm(t,e),un(e),null;case 5:yg(e);var i=eo(ou.current);if(n=e.type,t!==null&&e.stateNode!=null)NE(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Z(166));return un(e),null}if(t=eo(ii.current),Rc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ei]=e,r[iu]=s,t=(e.mode&1)!==0,n){case"dialog":rt("cancel",r),rt("close",r);break;case"iframe":case"object":case"embed":rt("load",r);break;case"video":case"audio":for(i=0;i<El.length;i++)rt(El[i],r);break;case"source":rt("error",r);break;case"img":case"image":case"link":rt("error",r),rt("load",r);break;case"details":rt("toggle",r);break;case"input":Cy(r,s),rt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},rt("invalid",r);break;case"textarea":by(r,s),rt("invalid",r)}Pp(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Pc(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Pc(r.textContent,l,t),i=["children",""+l]):Gl.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&rt("scroll",r)}switch(n){case"input":Ec(r),Ay(r,s,!0);break;case"textarea":Ec(r),ky(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Td)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=a1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ei]=e,t[iu]=r,xE(t,e,!1,!1),e.stateNode=t;e:{switch(o=Rp(n,r),n){case"dialog":rt("cancel",t),rt("close",t),i=r;break;case"iframe":case"object":case"embed":rt("load",t),i=r;break;case"video":case"audio":for(i=0;i<El.length;i++)rt(El[i],t);i=r;break;case"source":rt("error",t),i=r;break;case"img":case"image":case"link":rt("error",t),rt("load",t),i=r;break;case"details":rt("toggle",t),i=r;break;case"input":Cy(t,r),i=Sp(t,r),rt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=vt({},r,{value:void 0}),rt("invalid",t);break;case"textarea":by(t,r),i=bp(t,r),rt("invalid",t);break;default:i=r}Pp(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var u=l[s];s==="style"?c1(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&l1(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Ql(t,u):typeof u=="number"&&Ql(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Gl.hasOwnProperty(s)?u!=null&&s==="onScroll"&&rt("scroll",t):u!=null&&Qm(t,s,u,o))}switch(n){case"input":Ec(t),Ay(t,r,!1);break;case"textarea":Ec(t),ky(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Is(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?pa(t,!!r.multiple,s,!1):r.defaultValue!=null&&pa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Td)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return un(e),null;case 6:if(t&&e.stateNode!=null)DE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Z(166));if(n=eo(ou.current),eo(ii.current),Rc(e)){if(r=e.stateNode,n=e.memoizedProps,r[ei]=e,(s=r.nodeValue!==n)&&(t=Jn,t!==null))switch(t.tag){case 3:Pc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Pc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ei]=e,e.stateNode=r}return un(e),null;case 13:if(it(pt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(st&&Gn!==null&&e.mode&1&&!(e.flags&128))X1(),Aa(),e.flags|=98560,s=!1;else if(s=Rc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Z(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Z(317));s[ei]=e}else Aa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;un(e),s=!1}else Lr!==null&&(cm(Lr),Lr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||pt.current&1?Bt===0&&(Bt=3):xg())),e.updateQueue!==null&&(e.flags|=4),un(e),null);case 4:return ka(),nm(t,e),t===null&&nu(e.stateNode.containerInfo),un(e),null;case 10:return pg(e.type._context),un(e),null;case 17:return jn(e.type)&&Id(),un(e),null;case 19:if(it(pt),s=e.memoizedState,s===null)return un(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)dl(s,!1);else{if(Bt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Rd(t),o!==null){for(e.flags|=128,dl(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return tt(pt,pt.current&1|2),e.child}t=t.sibling}s.tail!==null&&bt()>Ra&&(e.flags|=128,r=!0,dl(s,!1),e.lanes=4194304)}else{if(!r)if(t=Rd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),dl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!st)return un(e),null}else 2*bt()-s.renderingStartTime>Ra&&n!==1073741824&&(e.flags|=128,r=!0,dl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=bt(),e.sibling=null,n=pt.current,tt(pt,r?n&1|2:n&1),e):(un(e),null);case 22:case 23:return Rg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?qn&1073741824&&(un(e),e.subtreeFlags&6&&(e.flags|=8192)):un(e),null;case 24:return null;case 25:return null}throw Error(Z(156,e.tag))}function qb(t,e){switch(cg(e),e.tag){case 1:return jn(e.type)&&Id(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ka(),it(Vn),it(mn),wg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return yg(e),null;case 13:if(it(pt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Z(340));Aa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return it(pt),null;case 4:return ka(),null;case 10:return pg(e.type._context),null;case 22:case 23:return Rg(),null;case 24:return null;default:return null}}var Dc=!1,hn=!1,Kb=typeof WeakSet=="function"?WeakSet:Set,ie=null;function da(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Et(t,e,r)}else n.current=null}function rm(t,e,n){try{n()}catch(r){Et(t,e,r)}}var vw=!1;function Gb(t,e){if(Up=wd,t=j1(),lg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,d=0,p=0,m=t,w=null;t:for(;;){for(var b;m!==n||i!==0&&m.nodeType!==3||(l=o+i),m!==s||r!==0&&m.nodeType!==3||(u=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(b=m.firstChild)!==null;)w=m,m=b;for(;;){if(m===t)break t;if(w===n&&++d===i&&(l=o),w===s&&++p===r&&(u=o),(b=m.nextSibling)!==null)break;m=w,w=m.parentNode}m=b}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Bp={focusedElem:t,selectionRange:n},wd=!1,ie=e;ie!==null;)if(e=ie,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ie=t;else for(;ie!==null;){e=ie;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var N=x.memoizedProps,j=x.memoizedState,P=e.stateNode,T=P.getSnapshotBeforeUpdate(e.elementType===e.type?N:Nr(e.type,N),j);P.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var k=e.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch(F){Et(e,e.return,F)}if(t=e.sibling,t!==null){t.return=e.return,ie=t;break}ie=e.return}return x=vw,vw=!1,x}function Ml(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&rm(e,n,s)}i=i.next}while(i!==r)}}function wh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function im(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function OE(t){var e=t.alternate;e!==null&&(t.alternate=null,OE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ei],delete e[iu],delete e[Hp],delete e[Rb],delete e[xb])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function LE(t){return t.tag===5||t.tag===3||t.tag===4}function yw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||LE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function sm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Td));else if(r!==4&&(t=t.child,t!==null))for(sm(t,e,n),t=t.sibling;t!==null;)sm(t,e,n),t=t.sibling}function om(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(om(t,e,n),t=t.sibling;t!==null;)om(t,e,n),t=t.sibling}var Jt=null,Dr=!1;function Xi(t,e,n){for(n=n.child;n!==null;)ME(t,e,n),n=n.sibling}function ME(t,e,n){if(ri&&typeof ri.onCommitFiberUnmount=="function")try{ri.onCommitFiberUnmount(dh,n)}catch{}switch(n.tag){case 5:hn||da(n,e);case 6:var r=Jt,i=Dr;Jt=null,Xi(t,e,n),Jt=r,Dr=i,Jt!==null&&(Dr?(t=Jt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Jt.removeChild(n.stateNode));break;case 18:Jt!==null&&(Dr?(t=Jt,n=n.stateNode,t.nodeType===8?jf(t.parentNode,n):t.nodeType===1&&jf(t,n),Zl(t)):jf(Jt,n.stateNode));break;case 4:r=Jt,i=Dr,Jt=n.stateNode.containerInfo,Dr=!0,Xi(t,e,n),Jt=r,Dr=i;break;case 0:case 11:case 14:case 15:if(!hn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&rm(n,e,o),i=i.next}while(i!==r)}Xi(t,e,n);break;case 1:if(!hn&&(da(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Et(n,e,l)}Xi(t,e,n);break;case 21:Xi(t,e,n);break;case 22:n.mode&1?(hn=(r=hn)||n.memoizedState!==null,Xi(t,e,n),hn=r):Xi(t,e,n);break;default:Xi(t,e,n)}}function ww(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Kb),e.forEach(function(r){var i=rk.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function xr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Jt=l.stateNode,Dr=!1;break e;case 3:Jt=l.stateNode.containerInfo,Dr=!0;break e;case 4:Jt=l.stateNode.containerInfo,Dr=!0;break e}l=l.return}if(Jt===null)throw Error(Z(160));ME(s,o,i),Jt=null,Dr=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(d){Et(i,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)VE(e,t),e=e.sibling}function VE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(xr(e,t),Xr(t),r&4){try{Ml(3,t,t.return),wh(3,t)}catch(N){Et(t,t.return,N)}try{Ml(5,t,t.return)}catch(N){Et(t,t.return,N)}}break;case 1:xr(e,t),Xr(t),r&512&&n!==null&&da(n,n.return);break;case 5:if(xr(e,t),Xr(t),r&512&&n!==null&&da(n,n.return),t.flags&32){var i=t.stateNode;try{Ql(i,"")}catch(N){Et(t,t.return,N)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&s1(i,s),Rp(l,o);var d=Rp(l,s);for(o=0;o<u.length;o+=2){var p=u[o],m=u[o+1];p==="style"?c1(i,m):p==="dangerouslySetInnerHTML"?l1(i,m):p==="children"?Ql(i,m):Qm(i,p,m,d)}switch(l){case"input":Cp(i,s);break;case"textarea":o1(i,s);break;case"select":var w=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var b=s.value;b!=null?pa(i,!!s.multiple,b,!1):w!==!!s.multiple&&(s.defaultValue!=null?pa(i,!!s.multiple,s.defaultValue,!0):pa(i,!!s.multiple,s.multiple?[]:"",!1))}i[iu]=s}catch(N){Et(t,t.return,N)}}break;case 6:if(xr(e,t),Xr(t),r&4){if(t.stateNode===null)throw Error(Z(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(N){Et(t,t.return,N)}}break;case 3:if(xr(e,t),Xr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Zl(e.containerInfo)}catch(N){Et(t,t.return,N)}break;case 4:xr(e,t),Xr(t);break;case 13:xr(e,t),Xr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(kg=bt())),r&4&&ww(t);break;case 22:if(p=n!==null&&n.memoizedState!==null,t.mode&1?(hn=(d=hn)||p,xr(e,t),hn=d):xr(e,t),Xr(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!p&&t.mode&1)for(ie=t,p=t.child;p!==null;){for(m=ie=p;ie!==null;){switch(w=ie,b=w.child,w.tag){case 0:case 11:case 14:case 15:Ml(4,w,w.return);break;case 1:da(w,w.return);var x=w.stateNode;if(typeof x.componentWillUnmount=="function"){r=w,n=w.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(N){Et(r,n,N)}}break;case 5:da(w,w.return);break;case 22:if(w.memoizedState!==null){Ew(m);continue}}b!==null?(b.return=w,ie=b):Ew(m)}p=p.sibling}e:for(p=null,m=t;;){if(m.tag===5){if(p===null){p=m;try{i=m.stateNode,d?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=m.stateNode,u=m.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=u1("display",o))}catch(N){Et(t,t.return,N)}}}else if(m.tag===6){if(p===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(N){Et(t,t.return,N)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;p===m&&(p=null),m=m.return}p===m&&(p=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:xr(e,t),Xr(t),r&4&&ww(t);break;case 21:break;default:xr(e,t),Xr(t)}}function Xr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(LE(n)){var r=n;break e}n=n.return}throw Error(Z(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ql(i,""),r.flags&=-33);var s=yw(t);om(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=yw(t);sm(t,l,o);break;default:throw Error(Z(161))}}catch(u){Et(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Qb(t,e,n){ie=t,jE(t)}function jE(t,e,n){for(var r=(t.mode&1)!==0;ie!==null;){var i=ie,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Dc;if(!o){var l=i.alternate,u=l!==null&&l.memoizedState!==null||hn;l=Dc;var d=hn;if(Dc=o,(hn=u)&&!d)for(ie=i;ie!==null;)o=ie,u=o.child,o.tag===22&&o.memoizedState!==null?Tw(i):u!==null?(u.return=o,ie=u):Tw(i);for(;s!==null;)ie=s,jE(s),s=s.sibling;ie=i,Dc=l,hn=d}_w(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ie=s):_w(t)}}function _w(t){for(;ie!==null;){var e=ie;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:hn||wh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!hn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Nr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&iw(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}iw(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var p=d.memoizedState;if(p!==null){var m=p.dehydrated;m!==null&&Zl(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}hn||e.flags&512&&im(e)}catch(w){Et(e,e.return,w)}}if(e===t){ie=null;break}if(n=e.sibling,n!==null){n.return=e.return,ie=n;break}ie=e.return}}function Ew(t){for(;ie!==null;){var e=ie;if(e===t){ie=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ie=n;break}ie=e.return}}function Tw(t){for(;ie!==null;){var e=ie;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{wh(4,e)}catch(u){Et(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Et(e,i,u)}}var s=e.return;try{im(e)}catch(u){Et(e,s,u)}break;case 5:var o=e.return;try{im(e)}catch(u){Et(e,o,u)}}}catch(u){Et(e,e.return,u)}if(e===t){ie=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ie=l;break}ie=e.return}}var Yb=Math.ceil,Dd=Ui.ReactCurrentDispatcher,Ag=Ui.ReactCurrentOwner,mr=Ui.ReactCurrentBatchConfig,Be=0,Xt=null,Ot=null,tn=0,qn=0,ha=Rs(0),Bt=0,cu=null,mo=0,_h=0,bg=0,Vl=null,Dn=null,kg=0,Ra=1/0,Ei=null,Od=!1,am=null,vs=null,Oc=!1,us=null,Ld=0,jl=0,lm=null,ed=-1,td=0;function Cn(){return Be&6?bt():ed!==-1?ed:ed=bt()}function ys(t){return t.mode&1?Be&2&&tn!==0?tn&-tn:Db.transition!==null?(td===0&&(td=T1()),td):(t=Ye,t!==0||(t=window.event,t=t===void 0?16:P1(t.type)),t):1}function jr(t,e,n,r){if(50<jl)throw jl=0,lm=null,Error(Z(185));Pu(t,n,r),(!(Be&2)||t!==Xt)&&(t===Xt&&(!(Be&2)&&(_h|=n),Bt===4&&rs(t,tn)),Fn(t,r),n===1&&Be===0&&!(e.mode&1)&&(Ra=bt()+500,gh&&xs()))}function Fn(t,e){var n=t.callbackNode;DA(t,e);var r=yd(t,t===Xt?tn:0);if(r===0)n!==null&&xy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&xy(n),e===1)t.tag===0?Nb(Iw.bind(null,t)):G1(Iw.bind(null,t)),kb(function(){!(Be&6)&&xs()}),n=null;else{switch(I1(r)){case 1:n=eg;break;case 4:n=_1;break;case 16:n=vd;break;case 536870912:n=E1;break;default:n=vd}n=qE(n,FE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function FE(t,e){if(ed=-1,td=0,Be&6)throw Error(Z(327));var n=t.callbackNode;if(wa()&&t.callbackNode!==n)return null;var r=yd(t,t===Xt?tn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Md(t,r);else{e=r;var i=Be;Be|=2;var s=BE();(Xt!==t||tn!==e)&&(Ei=null,Ra=bt()+500,oo(t,e));do try{Zb();break}catch(l){UE(t,l)}while(!0);fg(),Dd.current=s,Be=i,Ot!==null?e=0:(Xt=null,tn=0,e=Bt)}if(e!==0){if(e===2&&(i=Lp(t),i!==0&&(r=i,e=um(t,i))),e===1)throw n=cu,oo(t,0),rs(t,r),Fn(t,bt()),n;if(e===6)rs(t,r);else{if(i=t.current.alternate,!(r&30)&&!Xb(i)&&(e=Md(t,r),e===2&&(s=Lp(t),s!==0&&(r=s,e=um(t,s))),e===1))throw n=cu,oo(t,0),rs(t,r),Fn(t,bt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Z(345));case 2:Qs(t,Dn,Ei);break;case 3:if(rs(t,r),(r&130023424)===r&&(e=kg+500-bt(),10<e)){if(yd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Cn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=$p(Qs.bind(null,t,Dn,Ei),e);break}Qs(t,Dn,Ei);break;case 4:if(rs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Vr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=bt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Yb(r/1960))-r,10<r){t.timeoutHandle=$p(Qs.bind(null,t,Dn,Ei),r);break}Qs(t,Dn,Ei);break;case 5:Qs(t,Dn,Ei);break;default:throw Error(Z(329))}}}return Fn(t,bt()),t.callbackNode===n?FE.bind(null,t):null}function um(t,e){var n=Vl;return t.current.memoizedState.isDehydrated&&(oo(t,e).flags|=256),t=Md(t,e),t!==2&&(e=Dn,Dn=n,e!==null&&cm(e)),t}function cm(t){Dn===null?Dn=t:Dn.push.apply(Dn,t)}function Xb(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ur(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function rs(t,e){for(e&=~bg,e&=~_h,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Vr(e),r=1<<n;t[n]=-1,e&=~r}}function Iw(t){if(Be&6)throw Error(Z(327));wa();var e=yd(t,0);if(!(e&1))return Fn(t,bt()),null;var n=Md(t,e);if(t.tag!==0&&n===2){var r=Lp(t);r!==0&&(e=r,n=um(t,r))}if(n===1)throw n=cu,oo(t,0),rs(t,e),Fn(t,bt()),n;if(n===6)throw Error(Z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Qs(t,Dn,Ei),Fn(t,bt()),null}function Pg(t,e){var n=Be;Be|=1;try{return t(e)}finally{Be=n,Be===0&&(Ra=bt()+500,gh&&xs())}}function go(t){us!==null&&us.tag===0&&!(Be&6)&&wa();var e=Be;Be|=1;var n=mr.transition,r=Ye;try{if(mr.transition=null,Ye=1,t)return t()}finally{Ye=r,mr.transition=n,Be=e,!(Be&6)&&xs()}}function Rg(){qn=ha.current,it(ha)}function oo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,bb(n)),Ot!==null)for(n=Ot.return;n!==null;){var r=n;switch(cg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Id();break;case 3:ka(),it(Vn),it(mn),wg();break;case 5:yg(r);break;case 4:ka();break;case 13:it(pt);break;case 19:it(pt);break;case 10:pg(r.type._context);break;case 22:case 23:Rg()}n=n.return}if(Xt=t,Ot=t=ws(t.current,null),tn=qn=e,Bt=0,cu=null,bg=_h=mo=0,Dn=Vl=null,Zs!==null){for(e=0;e<Zs.length;e++)if(n=Zs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Zs=null}return t}function UE(t,e){do{var n=Ot;try{if(fg(),Xc.current=Nd,xd){for(var r=gt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}xd=!1}if(po=0,Yt=Ft=gt=null,Ll=!1,au=0,Ag.current=null,n===null||n.return===null){Bt=1,cu=e,Ot=null;break}e:{var s=t,o=n.return,l=n,u=e;if(e=tn,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=u,p=l,m=p.tag;if(!(p.mode&1)&&(m===0||m===11||m===15)){var w=p.alternate;w?(p.updateQueue=w.updateQueue,p.memoizedState=w.memoizedState,p.lanes=w.lanes):(p.updateQueue=null,p.memoizedState=null)}var b=cw(o);if(b!==null){b.flags&=-257,dw(b,o,l,s,e),b.mode&1&&uw(s,d,e),e=b,u=d;var x=e.updateQueue;if(x===null){var N=new Set;N.add(u),e.updateQueue=N}else x.add(u);break e}else{if(!(e&1)){uw(s,d,e),xg();break e}u=Error(Z(426))}}else if(st&&l.mode&1){var j=cw(o);if(j!==null){!(j.flags&65536)&&(j.flags|=256),dw(j,o,l,s,e),dg(Pa(u,l));break e}}s=u=Pa(u,l),Bt!==4&&(Bt=2),Vl===null?Vl=[s]:Vl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var P=IE(s,u,e);rw(s,P);break e;case 1:l=u;var T=s.type,k=s.stateNode;if(!(s.flags&128)&&(typeof T.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(vs===null||!vs.has(k)))){s.flags|=65536,e&=-e,s.lanes|=e;var F=SE(s,l,e);rw(s,F);break e}}s=s.return}while(s!==null)}$E(n)}catch(G){e=G,Ot===n&&n!==null&&(Ot=n=n.return);continue}break}while(!0)}function BE(){var t=Dd.current;return Dd.current=Nd,t===null?Nd:t}function xg(){(Bt===0||Bt===3||Bt===2)&&(Bt=4),Xt===null||!(mo&268435455)&&!(_h&268435455)||rs(Xt,tn)}function Md(t,e){var n=Be;Be|=2;var r=BE();(Xt!==t||tn!==e)&&(Ei=null,oo(t,e));do try{Jb();break}catch(i){UE(t,i)}while(!0);if(fg(),Be=n,Dd.current=r,Ot!==null)throw Error(Z(261));return Xt=null,tn=0,Bt}function Jb(){for(;Ot!==null;)zE(Ot)}function Zb(){for(;Ot!==null&&!SA();)zE(Ot)}function zE(t){var e=WE(t.alternate,t,qn);t.memoizedProps=t.pendingProps,e===null?$E(t):Ot=e,Ag.current=null}function $E(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=qb(n,e),n!==null){n.flags&=32767,Ot=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Bt=6,Ot=null;return}}else if(n=Wb(n,e,qn),n!==null){Ot=n;return}if(e=e.sibling,e!==null){Ot=e;return}Ot=e=t}while(e!==null);Bt===0&&(Bt=5)}function Qs(t,e,n){var r=Ye,i=mr.transition;try{mr.transition=null,Ye=1,ek(t,e,n,r)}finally{mr.transition=i,Ye=r}return null}function ek(t,e,n,r){do wa();while(us!==null);if(Be&6)throw Error(Z(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Z(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(OA(t,s),t===Xt&&(Ot=Xt=null,tn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Oc||(Oc=!0,qE(vd,function(){return wa(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=mr.transition,mr.transition=null;var o=Ye;Ye=1;var l=Be;Be|=4,Ag.current=null,Gb(t,n),VE(n,t),_b(Bp),wd=!!Up,Bp=Up=null,t.current=n,Qb(n),CA(),Be=l,Ye=o,mr.transition=s}else t.current=n;if(Oc&&(Oc=!1,us=t,Ld=i),s=t.pendingLanes,s===0&&(vs=null),kA(n.stateNode),Fn(t,bt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Od)throw Od=!1,t=am,am=null,t;return Ld&1&&t.tag!==0&&wa(),s=t.pendingLanes,s&1?t===lm?jl++:(jl=0,lm=t):jl=0,xs(),null}function wa(){if(us!==null){var t=I1(Ld),e=mr.transition,n=Ye;try{if(mr.transition=null,Ye=16>t?16:t,us===null)var r=!1;else{if(t=us,us=null,Ld=0,Be&6)throw Error(Z(331));var i=Be;for(Be|=4,ie=t.current;ie!==null;){var s=ie,o=s.child;if(ie.flags&16){var l=s.deletions;if(l!==null){for(var u=0;u<l.length;u++){var d=l[u];for(ie=d;ie!==null;){var p=ie;switch(p.tag){case 0:case 11:case 15:Ml(8,p,s)}var m=p.child;if(m!==null)m.return=p,ie=m;else for(;ie!==null;){p=ie;var w=p.sibling,b=p.return;if(OE(p),p===d){ie=null;break}if(w!==null){w.return=b,ie=w;break}ie=b}}}var x=s.alternate;if(x!==null){var N=x.child;if(N!==null){x.child=null;do{var j=N.sibling;N.sibling=null,N=j}while(N!==null)}}ie=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ie=o;else e:for(;ie!==null;){if(s=ie,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ml(9,s,s.return)}var P=s.sibling;if(P!==null){P.return=s.return,ie=P;break e}ie=s.return}}var T=t.current;for(ie=T;ie!==null;){o=ie;var k=o.child;if(o.subtreeFlags&2064&&k!==null)k.return=o,ie=k;else e:for(o=T;ie!==null;){if(l=ie,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:wh(9,l)}}catch(G){Et(l,l.return,G)}if(l===o){ie=null;break e}var F=l.sibling;if(F!==null){F.return=l.return,ie=F;break e}ie=l.return}}if(Be=i,xs(),ri&&typeof ri.onPostCommitFiberRoot=="function")try{ri.onPostCommitFiberRoot(dh,t)}catch{}r=!0}return r}finally{Ye=n,mr.transition=e}}return!1}function Sw(t,e,n){e=Pa(n,e),e=IE(t,e,1),t=gs(t,e,1),e=Cn(),t!==null&&(Pu(t,1,e),Fn(t,e))}function Et(t,e,n){if(t.tag===3)Sw(t,t,n);else for(;e!==null;){if(e.tag===3){Sw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(vs===null||!vs.has(r))){t=Pa(n,t),t=SE(e,t,1),e=gs(e,t,1),t=Cn(),e!==null&&(Pu(e,1,t),Fn(e,t));break}}e=e.return}}function tk(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Cn(),t.pingedLanes|=t.suspendedLanes&n,Xt===t&&(tn&n)===n&&(Bt===4||Bt===3&&(tn&130023424)===tn&&500>bt()-kg?oo(t,0):bg|=n),Fn(t,e)}function HE(t,e){e===0&&(t.mode&1?(e=Sc,Sc<<=1,!(Sc&130023424)&&(Sc=4194304)):e=1);var n=Cn();t=Li(t,e),t!==null&&(Pu(t,e,n),Fn(t,n))}function nk(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),HE(t,n)}function rk(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Z(314))}r!==null&&r.delete(e),HE(t,n)}var WE;WE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Vn.current)Ln=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ln=!1,Hb(t,e,n);Ln=!!(t.flags&131072)}else Ln=!1,st&&e.flags&1048576&&Q1(e,Ad,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Zc(t,e),t=e.pendingProps;var i=Ca(e,mn.current);ya(e,n),i=Eg(null,e,r,t,i,n);var s=Tg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,jn(r)?(s=!0,Sd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,gg(e),i.updater=yh,e.stateNode=i,i._reactInternals=e,Yp(e,r,t,n),e=Zp(null,e,r,!0,s,n)):(e.tag=0,st&&s&&ug(e),In(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Zc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=sk(r),t=Nr(r,t),i){case 0:e=Jp(null,e,r,t,n);break e;case 1:e=pw(null,e,r,t,n);break e;case 11:e=hw(null,e,r,t,n);break e;case 14:e=fw(null,e,r,Nr(r.type,t),n);break e}throw Error(Z(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nr(r,i),Jp(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nr(r,i),pw(t,e,r,i,n);case 3:e:{if(kE(e),t===null)throw Error(Z(387));r=e.pendingProps,s=e.memoizedState,i=s.element,tE(t,e),Pd(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Pa(Error(Z(423)),e),e=mw(t,e,r,n,i);break e}else if(r!==i){i=Pa(Error(Z(424)),e),e=mw(t,e,r,n,i);break e}else for(Gn=ms(e.stateNode.containerInfo.firstChild),Jn=e,st=!0,Lr=null,n=Z1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Aa(),r===i){e=Mi(t,e,n);break e}In(t,e,r,n)}e=e.child}return e;case 5:return nE(e),t===null&&Kp(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,zp(r,i)?o=null:s!==null&&zp(r,s)&&(e.flags|=32),bE(t,e),In(t,e,o,n),e.child;case 6:return t===null&&Kp(e),null;case 13:return PE(t,e,n);case 4:return vg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ba(e,null,r,n):In(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nr(r,i),hw(t,e,r,i,n);case 7:return In(t,e,e.pendingProps,n),e.child;case 8:return In(t,e,e.pendingProps.children,n),e.child;case 12:return In(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,tt(bd,r._currentValue),r._currentValue=o,s!==null)if(Ur(s.value,o)){if(s.children===i.children&&!Vn.current){e=Mi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Pi(-1,n&-n),u.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var p=d.pending;p===null?u.next=u:(u.next=p.next,p.next=u),d.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Gp(s.return,n,e),l.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Z(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Gp(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}In(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ya(e,n),i=vr(i),r=r(i),e.flags|=1,In(t,e,r,n),e.child;case 14:return r=e.type,i=Nr(r,e.pendingProps),i=Nr(r.type,i),fw(t,e,r,i,n);case 15:return CE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nr(r,i),Zc(t,e),e.tag=1,jn(r)?(t=!0,Sd(e)):t=!1,ya(e,n),TE(e,r,i),Yp(e,r,i,n),Zp(null,e,r,!0,t,n);case 19:return RE(t,e,n);case 22:return AE(t,e,n)}throw Error(Z(156,e.tag))};function qE(t,e){return w1(t,e)}function ik(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pr(t,e,n,r){return new ik(t,e,n,r)}function Ng(t){return t=t.prototype,!(!t||!t.isReactComponent)}function sk(t){if(typeof t=="function")return Ng(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Xm)return 11;if(t===Jm)return 14}return 2}function ws(t,e){var n=t.alternate;return n===null?(n=pr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function nd(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Ng(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case na:return ao(n.children,i,s,e);case Ym:o=8,i|=8;break;case _p:return t=pr(12,n,e,i|2),t.elementType=_p,t.lanes=s,t;case Ep:return t=pr(13,n,e,i),t.elementType=Ep,t.lanes=s,t;case Tp:return t=pr(19,n,e,i),t.elementType=Tp,t.lanes=s,t;case n1:return Eh(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case e1:o=10;break e;case t1:o=9;break e;case Xm:o=11;break e;case Jm:o=14;break e;case es:o=16,r=null;break e}throw Error(Z(130,t==null?t:typeof t,""))}return e=pr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ao(t,e,n,r){return t=pr(7,t,r,e),t.lanes=n,t}function Eh(t,e,n,r){return t=pr(22,t,r,e),t.elementType=n1,t.lanes=n,t.stateNode={isHidden:!1},t}function qf(t,e,n){return t=pr(6,t,null,e),t.lanes=n,t}function Kf(t,e,n){return e=pr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ok(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bf(0),this.expirationTimes=bf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Dg(t,e,n,r,i,s,o,l,u){return t=new ok(t,e,n,l,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=pr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},gg(s),t}function ak(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ta,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function KE(t){if(!t)return Ss;t=t._reactInternals;e:{if(Ro(t)!==t||t.tag!==1)throw Error(Z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(jn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Z(171))}if(t.tag===1){var n=t.type;if(jn(n))return K1(t,n,e)}return e}function GE(t,e,n,r,i,s,o,l,u){return t=Dg(n,r,!0,t,i,s,o,l,u),t.context=KE(null),n=t.current,r=Cn(),i=ys(n),s=Pi(r,i),s.callback=e??null,gs(n,s,i),t.current.lanes=i,Pu(t,i,r),Fn(t,r),t}function Th(t,e,n,r){var i=e.current,s=Cn(),o=ys(i);return n=KE(n),e.context===null?e.context=n:e.pendingContext=n,e=Pi(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=gs(i,e,o),t!==null&&(jr(t,i,o,s),Yc(t,i,o)),o}function Vd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Cw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Og(t,e){Cw(t,e),(t=t.alternate)&&Cw(t,e)}function lk(){return null}var QE=typeof reportError=="function"?reportError:function(t){console.error(t)};function Lg(t){this._internalRoot=t}Ih.prototype.render=Lg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Z(409));Th(t,e,null,null)};Ih.prototype.unmount=Lg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;go(function(){Th(null,t,null,null)}),e[Oi]=null}};function Ih(t){this._internalRoot=t}Ih.prototype.unstable_scheduleHydration=function(t){if(t){var e=A1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ns.length&&e!==0&&e<ns[n].priority;n++);ns.splice(n,0,t),n===0&&k1(t)}};function Mg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Sh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Aw(){}function uk(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var d=Vd(o);s.call(d)}}var o=GE(e,r,t,0,null,!1,!1,"",Aw);return t._reactRootContainer=o,t[Oi]=o.current,nu(t.nodeType===8?t.parentNode:t),go(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var d=Vd(u);l.call(d)}}var u=Dg(t,0,!1,null,null,!1,!1,"",Aw);return t._reactRootContainer=u,t[Oi]=u.current,nu(t.nodeType===8?t.parentNode:t),go(function(){Th(e,u,n,r)}),u}function Ch(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var u=Vd(o);l.call(u)}}Th(e,o,t,i)}else o=uk(n,e,t,i,r);return Vd(o)}S1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=_l(e.pendingLanes);n!==0&&(tg(e,n|1),Fn(e,bt()),!(Be&6)&&(Ra=bt()+500,xs()))}break;case 13:go(function(){var r=Li(t,1);if(r!==null){var i=Cn();jr(r,t,1,i)}}),Og(t,1)}};ng=function(t){if(t.tag===13){var e=Li(t,134217728);if(e!==null){var n=Cn();jr(e,t,134217728,n)}Og(t,134217728)}};C1=function(t){if(t.tag===13){var e=ys(t),n=Li(t,e);if(n!==null){var r=Cn();jr(n,t,e,r)}Og(t,e)}};A1=function(){return Ye};b1=function(t,e){var n=Ye;try{return Ye=t,e()}finally{Ye=n}};Np=function(t,e,n){switch(e){case"input":if(Cp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=mh(r);if(!i)throw Error(Z(90));i1(r),Cp(r,i)}}}break;case"textarea":o1(t,n);break;case"select":e=n.value,e!=null&&pa(t,!!n.multiple,e,!1)}};f1=Pg;p1=go;var ck={usingClientEntryPoint:!1,Events:[xu,oa,mh,d1,h1,Pg]},hl={findFiberByHostInstance:Js,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dk={bundleType:hl.bundleType,version:hl.version,rendererPackageName:hl.rendererPackageName,rendererConfig:hl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ui.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=v1(t),t===null?null:t.stateNode},findFiberByHostInstance:hl.findFiberByHostInstance||lk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lc.isDisabled&&Lc.supportsFiber)try{dh=Lc.inject(dk),ri=Lc}catch{}}tr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ck;tr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mg(e))throw Error(Z(200));return ak(t,e,null,n)};tr.createRoot=function(t,e){if(!Mg(t))throw Error(Z(299));var n=!1,r="",i=QE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Dg(t,1,!1,null,null,n,!1,r,i),t[Oi]=e.current,nu(t.nodeType===8?t.parentNode:t),new Lg(e)};tr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Z(188)):(t=Object.keys(t).join(","),Error(Z(268,t)));return t=v1(e),t=t===null?null:t.stateNode,t};tr.flushSync=function(t){return go(t)};tr.hydrate=function(t,e,n){if(!Sh(e))throw Error(Z(200));return Ch(null,t,e,!0,n)};tr.hydrateRoot=function(t,e,n){if(!Mg(t))throw Error(Z(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=QE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=GE(e,null,t,1,n??null,i,!1,s,o),t[Oi]=e.current,nu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Ih(e)};tr.render=function(t,e,n){if(!Sh(e))throw Error(Z(200));return Ch(null,t,e,!1,n)};tr.unmountComponentAtNode=function(t){if(!Sh(t))throw Error(Z(40));return t._reactRootContainer?(go(function(){Ch(null,null,t,!1,function(){t._reactRootContainer=null,t[Oi]=null})}),!0):!1};tr.unstable_batchedUpdates=Pg;tr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Sh(n))throw Error(Z(200));if(t==null||t._reactInternals===void 0)throw Error(Z(38));return Ch(t,e,n,!1,r)};tr.version="18.3.1-next-f1338f8080-20240426";function YE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(YE)}catch(t){console.error(t)}}YE(),Y_.exports=tr;var Vg=Y_.exports;const hk=zm(Vg),fk=j_({__proto__:null,default:hk},[Vg]);var bw=Vg;yp.createRoot=bw.createRoot,yp.hydrateRoot=bw.hydrateRoot;var XE={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},kw=Ne.createContext&&Ne.createContext(XE),pk=["attr","size","title"];function mk(t,e){if(t==null)return{};var n=gk(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gk(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function jd(){return jd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jd.apply(this,arguments)}function Pw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Pw(Object(n),!0).forEach(function(r){vk(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vk(t,e,n){return e=yk(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yk(t){var e=wk(t,"string");return typeof e=="symbol"?e:e+""}function wk(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JE(t){return t&&t.map((e,n)=>Ne.createElement(e.tag,Fd({key:n},e.attr),JE(e.child)))}function lt(t){return e=>Ne.createElement(_k,jd({attr:Fd({},t.attr)},e),JE(t.child))}function _k(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=mk(t,pk),l=i||n.size||"1em",u;return n.className&&(u=n.className),t.className&&(u=(u?u+" ":"")+t.className),Ne.createElement("svg",jd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:u,style:Fd(Fd({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&Ne.createElement("title",null,s),t.children)};return kw!==void 0?Ne.createElement(kw.Consumer,null,n=>e(n)):e(XE)}function Ek(t){return lt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(t)}function Tk(t){return lt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(t)}function Rw(t){return lt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(t)}function xw(t){return lt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(t)}function Nw(t){return lt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(t)}function Ik(t){return lt({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"},child:[]}]})(t)}function Sk(t){return lt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function Ck(t){return lt({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M204 6.5C101.4 6.5 0 74.9 0 185.6 0 256 39.6 296 63.6 296c9.9 0 15.6-27.6 15.6-35.4 0-9.3-23.7-29.1-23.7-67.8 0-80.4 61.2-137.4 140.4-137.4 68.1 0 118.5 38.7 118.5 109.8 0 53.1-21.3 152.7-90.3 152.7-24.9 0-46.2-18-46.2-43.8 0-37.8 26.4-74.4 26.4-113.4 0-66.2-93.9-54.2-93.9 25.8 0 16.8 2.1 35.4 9.6 50.7-13.8 59.4-42 147.9-42 209.1 0 18.9 2.7 37.5 4.5 56.4 3.4 3.8 1.7 3.4 6.9 1.5 50.4-69 48.6-82.5 71.4-172.8 12.3 23.4 44.1 36 69.3 36 106.2 0 153.9-103.5 153.9-196.8C384 71.3 298.2 6.5 204 6.5z"},child:[]}]})(t)}function Ak(t){return lt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(t)}function bk(t){return lt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(t)}function kk(t){return lt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M12 192h424c6.6 0 12 5.4 12 12v260c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V204c0-6.6 5.4-12 12-12zm436-44v-36c0-26.5-21.5-48-48-48h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v36c0 6.6 5.4 12 12 12h424c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function Pk(t){return lt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M352 160v-32C352 57.42 294.579 0 224 0 153.42 0 96 57.42 96 128v32H0v272c0 44.183 35.817 80 80 80h288c44.183 0 80-35.817 80-80V160h-96zm-192-32c0-35.29 28.71-64 64-64s64 28.71 64 64v32H160v-32zm160 120c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24zm-192 0c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24z"},child:[]}]})(t)}function Rk(t){return lt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function xk(t){return lt({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M631.2 96.5L436.5 0C416.4 27.8 371.9 47.2 320 47.2S223.6 27.8 203.5 0L8.8 96.5c-7.9 4-11.1 13.6-7.2 21.5l57.2 114.5c4 7.9 13.6 11.1 21.5 7.2l56.6-27.7c10.6-5.2 23 2.5 23 14.4V480c0 17.7 14.3 32 32 32h256c17.7 0 32-14.3 32-32V226.3c0-11.8 12.4-19.6 23-14.4l56.6 27.7c7.9 4 17.5.8 21.5-7.2L638.3 118c4-7.9.8-17.6-7.1-21.5z"},child:[]}]})(t)}function Nk(t){return lt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function Dk(t){return lt({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M53.44,43.5,54.12,38A16,16,0,0,1,70,24H186a16,16,0,0,1,15.88,14l.68,5.49a4,4,0,0,1-4,4.5H57.41A4,4,0,0,1,53.44,43.5ZM169,64a32.06,32.06,0,0,0,31,24h3.59a4,4,0,0,0,4-4.5l-2-16a4,4,0,0,0-4-3.5ZM52.41,88H56A32.06,32.06,0,0,0,87,64H54.41a4,4,0,0,0-4,3.5l-2,16A4,4,0,0,0,52.41,88ZM223.88,214,210.56,107.5a4,4,0,0,0-4-3.5H200a48.07,48.07,0,0,1-47.32-40H136v39.73a8.18,8.18,0,0,1-7.47,8.25,8,8,0,0,1-8.53-8V64H103.32A48.07,48.07,0,0,1,56,104H49.41a4,4,0,0,0-4,3.5L32.12,214a16,16,0,0,0,6.71,15.09A16.56,16.56,0,0,0,48.39,232h40.3a16,16,0,0,0,15.51-12.06l23.8-92,23.79,91.94A16,16,0,0,0,167.31,232h40.3a16.54,16.54,0,0,0,9.56-2.89A16,16,0,0,0,223.88,214Z"},child:[]}]})(t)}function Ok(t){return lt({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M70.8,184H32a8,8,0,0,1,0-16H70.8a8,8,0,1,1,0,16Zm32,16H48a8,8,0,0,0,0,16h54.8a8,8,0,1,0,0-16Zm128.36-33.37-28.63-14.31A47.74,47.74,0,0,1,176,109.39V80a8,8,0,0,0-7.93-8A48.05,48.05,0,0,1,120,24.07a8,8,0,0,0-12.83-6.44L45.11,64.68a4,4,0,0,0-.41,6l51.44,51.44a8.19,8.19,0,0,1,.6,11.09,8,8,0,0,1-11.71.43l-53-53a4,4,0,0,0-6.44,1.09,16,16,0,0,0,3.12,18.22L142.4,213.66a8,8,0,0,0,5.66,2.34H224a16,16,0,0,0,16-16V180.94A15.92,15.92,0,0,0,231.16,166.63Z"},child:[]}]})(t)}function Lk(t){return lt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M195.7 53.97c-6.5-.1-16.1 2.87-15.6 9.53.4 5.62 36.7 4.08 36.8-.21.2-6.21-14.1-9.26-21.2-9.32zm-74.6 41.99c-16 7.14-33.09 16.14-45.82 28.34-33.62 35.1-56.12 87.9-50.74 172.6 16.25 22.5 76.46 36.7 108.06 41.7 51.1-22 206.3-45.3 265.1-22.1-1.4-47.7-13.8-105.6-45.1-151.9-19.6-35.8-50.2-62-89.9-75.84-45.6-14.5-97-13.1-141.6 7.2zM151.4 356c30.9 46 62.2 82.9 108.7 101.6 2.6.5 6.6 1.1 9.8-1.3 38.8-29.3 146.8-33.6 212.6-14.8 3.6 1 7.1-4.5 5.1-8.2-17.4-31.7-36.9-63.7-75-90-78.8-32.6-191.1-7.8-261.2 12.7z"},child:[]}]})(t)}function Mk(t){return lt({tag:"svg",attr:{viewBox:"0 0 1024 1024",fill:"currentColor",fillRule:"evenodd"},child:[{tag:"path",attr:{d:"M799.855 166.312c.023.007.043.018.084.059l57.69 57.69c.041.041.052.06.059.084a.118.118 0 0 1 0 .069c-.007.023-.018.042-.059.083L569.926 512l287.703 287.703c.041.04.052.06.059.083a.118.118 0 0 1 0 .07c-.007.022-.018.042-.059.083l-57.69 57.69c-.041.041-.06.052-.084.059a.118.118 0 0 1-.069 0c-.023-.007-.042-.018-.083-.059L512 569.926 224.297 857.629c-.04.041-.06.052-.083.059a.118.118 0 0 1-.07 0c-.022-.007-.042-.018-.083-.059l-57.69-57.69c-.041-.041-.052-.06-.059-.084a.118.118 0 0 1 0-.069c.007-.023.018-.042.059-.083L454.073 512 166.371 224.297c-.041-.04-.052-.06-.059-.083a.118.118 0 0 1 0-.07c.007-.022.018-.042.059-.083l57.69-57.69c.041-.041.06-.052.084-.059a.118.118 0 0 1 .069 0c.023.007.042.018.083.059L512 454.073l287.703-287.702c.04-.041.06-.052.083-.059a.118.118 0 0 1 .07 0Z"},child:[]}]})(t)}function ZE(t){return lt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 294.1L383 167c9.4-9.4 24.6-9.4 33.9 0s9.3 24.6 0 34L273 345c-9.1 9.1-23.7 9.3-33.1.7L95 201.1c-4.7-4.7-7-10.9-7-17s2.3-12.3 7-17c9.4-9.4 24.6-9.4 33.9 0l127.1 127z"},child:[]}]})(t)}function Dw(t){return lt({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M1022.74 942.64l-83.407-503.777c-7.44-65.312-66.977-118.432-132.721-118.432h-70.656v-85.28c0-130.16-92.848-236.033-222.976-236.033-130.096 0-224.943 105.872-224.943 236.032v85.28h-76.672c-65.744 0-125.28 53.12-132.528 117.057l-77.28 504.16c-2.976 26.56 2.224 47.503 15.408 62.288 12.431 13.904 30.527 20.976 53.743 20.976h873.568c32.912 0 51.776-13.216 61.84-24.32 9.216-10.208 19.648-28.144 16.624-57.951zM352.049 235.135c0-94.848 66.127-172.031 160.943-172.031 94.816 0 158.977 77.184 158.977 172.031v85.28h-319.92zm595.119 725.311l-872.498.45c-5.504 0-11.008-2.945-9.712-10.689l77.248-504.096c3.84-33.44 35.504-61.68 69.152-61.68h76.689v72.927c-19.072 11.072-32.048 31.488-32.048 55.137 0 35.344 28.656 64 64 64s64-28.656 64-64c0-23.616-12.928-44-31.952-55.088v-72.992H671.95v72.992c-19.008 11.088-31.952 31.488-31.952 55.088 0 35.344 28.656 64 64 64s64-28.656 64-64c0-23.649-12.976-44.065-32.048-55.153v-72.927h70.656c33.664 0 65.313 28.256 69.408 63.44l83.344 503.28c.4 4.095-2.815 9.31-12.191 9.31z"},child:[]}]})(t)}const e2=new Set,Un=new WeakMap,xa=new WeakMap,vo=new WeakMap,dm=new WeakMap,Vk=new WeakMap,Na=new WeakMap,Ud=new WeakMap,Tl=new WeakSet;let Cs,jg=0,Fg=0;const Ci="__aa_tgt",du="__aa_del",Bd="__aa_new",jk=t=>{const e=Hk(t);e&&e.forEach(n=>Wk(n))},Fk=t=>{t.forEach(e=>{e.target===Cs&&Bk(),Un.has(e.target)&&xo(e.target)})};function Uk(t){const e=dm.get(t);e==null||e.disconnect();let n=Un.get(t),r=0;const i=5;n||(n=Da(t),Un.set(t,n));const{offsetWidth:s,offsetHeight:o}=Cs,u=[n.top-i,s-(n.left+i+n.width),o-(n.top+i+n.height),n.left-i].map(p=>`${-1*Math.floor(p)}px`).join(" "),d=new IntersectionObserver(()=>{++r>1&&xo(t)},{root:Cs,threshold:1,rootMargin:u});d.observe(t),dm.set(t,d)}function xo(t){clearTimeout(Ud.get(t));const e=Ah(t),n=hu(e)?500:e.duration;Ud.set(t,setTimeout(async()=>{const r=vo.get(t);try{await(r==null?void 0:r.finished),Un.set(t,Da(t)),Uk(t)}catch{}},n))}function Bk(){clearTimeout(Ud.get(Cs)),Ud.set(Cs,setTimeout(()=>{e2.forEach(t=>i2(t,e=>t2(()=>xo(e))))},100))}function zk(t){setTimeout(()=>{Vk.set(t,setInterval(()=>t2(xo.bind(null,t)),2e3))},Math.round(2e3*Math.random()))}function t2(t){typeof requestIdleCallback=="function"?requestIdleCallback(()=>t()):requestAnimationFrame(()=>t())}let hm,fa;const $k=typeof window<"u"&&"ResizeObserver"in window;$k&&(Cs=document.documentElement,hm=new MutationObserver(jk),fa=new ResizeObserver(Fk),window.addEventListener("scroll",()=>{Fg=window.scrollY,jg=window.scrollX}),fa.observe(Cs));function Hk(t){return t.reduce((r,i)=>[...r,...Array.from(i.addedNodes),...Array.from(i.removedNodes)],[]).every(r=>r.nodeName==="#comment")?!1:t.reduce((r,i)=>{if(r===!1)return!1;if(i.target instanceof Element){if(Gf(i.target),!r.has(i.target)){r.add(i.target);for(let s=0;s<i.target.children.length;s++){const o=i.target.children.item(s);if(o){if(du in o)return!1;Gf(i.target,o),r.add(o)}}}if(i.removedNodes.length)for(let s=0;s<i.removedNodes.length;s++){const o=i.removedNodes[s];if(du in o)return!1;o instanceof Element&&(r.add(o),Gf(i.target,o),xa.set(o,[i.previousSibling,i.nextSibling]))}}return r},new Set)}function Gf(t,e){!e&&!(Ci in t)?Object.defineProperty(t,Ci,{value:t}):e&&!(Ci in e)&&Object.defineProperty(e,Ci,{value:t})}function Wk(t){var e;const n=t.isConnected,r=Un.has(t);n&&xa.has(t)&&xa.delete(t),vo.has(t)&&((e=vo.get(t))===null||e===void 0||e.cancel()),Bd in t?Ow(t):r&&n?Kk(t):r&&!n?Gk(t):Ow(t)}function Zr(t){return Number(t.replace(/[^0-9.\-]/g,""))}function qk(t){let e=t.parentElement;for(;e;){if(e.scrollLeft||e.scrollTop)return{x:e.scrollLeft,y:e.scrollTop};e=e.parentElement}return{x:0,y:0}}function Da(t){const e=t.getBoundingClientRect(),{x:n,y:r}=qk(t);return{top:e.top+r,left:e.left+n,width:e.width,height:e.height}}function n2(t,e,n){let r=e.width,i=e.height,s=n.width,o=n.height;const l=getComputedStyle(t);if(l.getPropertyValue("box-sizing")==="content-box"){const d=Zr(l.paddingTop)+Zr(l.paddingBottom)+Zr(l.borderTopWidth)+Zr(l.borderBottomWidth),p=Zr(l.paddingLeft)+Zr(l.paddingRight)+Zr(l.borderRightWidth)+Zr(l.borderLeftWidth);r-=p,s-=p,i-=d,o-=d}return[r,s,i,o].map(Math.round)}function Ah(t){return Ci in t&&Na.has(t[Ci])?Na.get(t[Ci]):{duration:250,easing:"ease-in-out"}}function r2(t){if(Ci in t)return t[Ci]}function Ug(t){const e=r2(t);return e?Tl.has(e):!1}function i2(t,...e){e.forEach(n=>n(t,Na.has(t)));for(let n=0;n<t.children.length;n++){const r=t.children.item(n);r&&e.forEach(i=>i(r,Na.has(r)))}}function Bg(t){return Array.isArray(t)?t:[t]}function hu(t){return typeof t=="function"}function Kk(t){const e=Un.get(t),n=Da(t);if(!Ug(t))return Un.set(t,n);let r;if(!e)return;const i=Ah(t);if(typeof i!="function"){const s=e.left-n.left,o=e.top-n.top,[l,u,d,p]=n2(t,e,n),m={transform:`translate(${s}px, ${o}px)`},w={transform:"translate(0, 0)"};l!==u&&(m.width=`${l}px`,w.width=`${u}px`),d!==p&&(m.height=`${d}px`,w.height=`${p}px`),r=t.animate([m,w],{duration:i.duration,easing:i.easing})}else{const[s]=Bg(i(t,"remain",e,n));r=new Animation(s),r.play()}vo.set(t,r),Un.set(t,n),r.addEventListener("finish",xo.bind(null,t))}function Ow(t){Bd in t&&delete t[Bd];const e=Da(t);Un.set(t,e);const n=Ah(t);if(!Ug(t))return;let r;if(typeof n!="function")r=t.animate([{transform:"scale(.98)",opacity:0},{transform:"scale(0.98)",opacity:0,offset:.5},{transform:"scale(1)",opacity:1}],{duration:n.duration*1.5,easing:"ease-in"});else{const[i]=Bg(n(t,"add",e));r=new Animation(i),r.play()}vo.set(t,r),r.addEventListener("finish",xo.bind(null,t))}function Lw(t,e){var n;t.remove(),Un.delete(t),xa.delete(t),vo.delete(t),(n=dm.get(t))===null||n===void 0||n.disconnect(),setTimeout(()=>{if(du in t&&delete t[du],Object.defineProperty(t,Bd,{value:!0,configurable:!0}),e&&t instanceof HTMLElement)for(const r in e)t.style[r]=""},0)}function Gk(t){var e;if(!xa.has(t)||!Un.has(t))return;const[n,r]=xa.get(t);Object.defineProperty(t,du,{value:!0,configurable:!0});const i=window.scrollX,s=window.scrollY;if(r&&r.parentNode&&r.parentNode instanceof Element?r.parentNode.insertBefore(t,r):n&&n.parentNode?n.parentNode.appendChild(t):(e=r2(t))===null||e===void 0||e.appendChild(t),!Ug(t))return Lw(t);const[o,l,u,d]=Yk(t),p=Ah(t),m=Un.get(t);(i!==jg||s!==Fg)&&Qk(t,i,s,p);let w,b={position:"absolute",top:`${o}px`,left:`${l}px`,width:`${u}px`,height:`${d}px`,margin:"0",pointerEvents:"none",transformOrigin:"center",zIndex:"100"};if(!hu(p))Object.assign(t.style,b),w=t.animate([{transform:"scale(1)",opacity:1},{transform:"scale(.98)",opacity:0}],{duration:p.duration,easing:"ease-out"});else{const[x,N]=Bg(p(t,"remove",m));(N==null?void 0:N.styleReset)!==!1&&(b=(N==null?void 0:N.styleReset)||b,Object.assign(t.style,b)),w=new Animation(x),w.play()}vo.set(t,w),w.addEventListener("finish",Lw.bind(null,t,b))}function Qk(t,e,n,r){const i=jg-e,s=Fg-n,o=document.documentElement.style.scrollBehavior;if(getComputedStyle(Cs).scrollBehavior==="smooth"&&(document.documentElement.style.scrollBehavior="auto"),window.scrollTo(window.scrollX+i,window.scrollY+s),!t.parentElement)return;const u=t.parentElement;let d=u.clientHeight,p=u.clientWidth;const m=performance.now();function w(){requestAnimationFrame(()=>{if(!hu(r)){const b=d-u.clientHeight,x=p-u.clientWidth;m+r.duration>performance.now()?(window.scrollTo({left:window.scrollX-x,top:window.scrollY-b}),d=u.clientHeight,p=u.clientWidth,w()):document.documentElement.style.scrollBehavior=o}})}w()}function Yk(t){const e=Un.get(t),[n,,r]=n2(t,e,Da(t));let i=t.parentElement;for(;i&&(getComputedStyle(i).position==="static"||i instanceof HTMLBodyElement);)i=i.parentElement;i||(i=document.body);const s=getComputedStyle(i),o=Un.get(i)||Da(i),l=Math.round(e.top-o.top)-Zr(s.borderTopWidth),u=Math.round(e.left-o.left)-Zr(s.borderLeftWidth);return[l,u,n,r]}function Xk(t,e={}){return hm&&fa&&(window.matchMedia("(prefers-reduced-motion: reduce)").matches&&!hu(e)&&!e.disrespectUserMotionPreference||(Tl.add(t),getComputedStyle(t).position==="static"&&Object.assign(t.style,{position:"relative"}),i2(t,xo,zk,i=>fa==null?void 0:fa.observe(i)),hu(e)?Na.set(t,e):Na.set(t,{duration:250,easing:"ease-in-out",...e}),hm.observe(t,{childList:!0}),e2.add(t))),Object.freeze({parent:t,enable:()=>{Tl.add(t)},disable:()=>{Tl.delete(t)},isEnabled:()=>Tl.has(t)})}function s2(t){const[e,n]=B.useState(),r=B.useMemo(()=>t,[]),i=B.useCallback(o=>{o instanceof HTMLElement?n(Xk(o,r)):n(void 0)},[r]),s=B.useCallback(o=>{e&&(o?e.enable():e.disable())},[e]);return[i,s]}/**
 * @remix-run/router v1.17.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ft(){return ft=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ft.apply(this,arguments)}var Nt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Nt||(Nt={}));const Mw="popstate";function Jk(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return fu("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:yo(i)}return eP(e,n,null,t)}function ke(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Oa(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Zk(){return Math.random().toString(36).substr(2,8)}function Vw(t,e){return{usr:t.state,key:t.key,idx:e}}function fu(t,e,n,r){return n===void 0&&(n=null),ft({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ns(e):e,{state:n,key:e&&e.key||r||Zk()})}function yo(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ns(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function eP(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=Nt.Pop,u=null,d=p();d==null&&(d=0,o.replaceState(ft({},o.state,{idx:d}),""));function p(){return(o.state||{idx:null}).idx}function m(){l=Nt.Pop;let j=p(),P=j==null?null:j-d;d=j,u&&u({action:l,location:N.location,delta:P})}function w(j,P){l=Nt.Push;let T=fu(N.location,j,P);d=p()+1;let k=Vw(T,d),F=N.createHref(T);try{o.pushState(k,"",F)}catch(G){if(G instanceof DOMException&&G.name==="DataCloneError")throw G;i.location.assign(F)}s&&u&&u({action:l,location:N.location,delta:1})}function b(j,P){l=Nt.Replace;let T=fu(N.location,j,P);d=p();let k=Vw(T,d),F=N.createHref(T);o.replaceState(k,"",F),s&&u&&u({action:l,location:N.location,delta:0})}function x(j){let P=i.location.origin!=="null"?i.location.origin:i.location.href,T=typeof j=="string"?j:yo(j);return T=T.replace(/ $/,"%20"),ke(P,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,P)}let N={get action(){return l},get location(){return t(i,o)},listen(j){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Mw,m),u=j,()=>{i.removeEventListener(Mw,m),u=null}},createHref(j){return e(i,j)},createURL:x,encodeLocation(j){let P=x(j);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:w,replace:b,go(j){return o.go(j)}};return N}var et;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(et||(et={}));const tP=new Set(["lazy","caseSensitive","path","id","index","children"]);function nP(t){return t.index===!0}function pu(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,String(s)],l=typeof i.id=="string"?i.id:o.join("-");if(ke(i.index!==!0||!i.children,"Cannot specify children on an index route"),ke(!r[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),nP(i)){let u=ft({},i,e(i),{id:l});return r[l]=u,u}else{let u=ft({},i,e(i),{id:l,children:void 0});return r[l]=u,i.children&&(u.children=pu(i.children,e,o,r)),u}})}function Xs(t,e,n){return n===void 0&&(n="/"),rd(t,e,n,!1)}function rd(t,e,n,r){let i=typeof e=="string"?Ns(e):e,s=Wa(i.pathname||"/",n);if(s==null)return null;let o=o2(t);iP(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let d=mP(s);l=fP(o[u],d,r)}return l}function rP(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function o2(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(ke(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let d=Ri([r,u.relativePath]),p=n.concat(u);s.children&&s.children.length>0&&(ke(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),o2(s.children,e,p,d)),!(s.path==null&&!s.index)&&e.push({path:d,score:dP(d,s.index),routesMeta:p})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let u of a2(s.path))i(s,o,u)}),e}function a2(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=a2(r.join("/")),l=[];return l.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&l.push(...o),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function iP(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:hP(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const sP=/^:[\w-]+$/,oP=3,aP=2,lP=1,uP=10,cP=-2,jw=t=>t==="*";function dP(t,e){let n=t.split("/"),r=n.length;return n.some(jw)&&(r+=cP),e&&(r+=aP),n.filter(i=>!jw(i)).reduce((i,s)=>i+(sP.test(s)?oP:s===""?lP:uP),r)}function hP(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function fP(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let l=0;l<r.length;++l){let u=r[l],d=l===r.length-1,p=s==="/"?e:e.slice(s.length)||"/",m=Fw({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},p),w=u.route;if(!m&&d&&n&&!r[r.length-1].route.index&&(m=Fw({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},p)),!m)return null;Object.assign(i,m.params),o.push({params:i,pathname:Ri([s,m.pathname]),pathnameBase:yP(Ri([s,m.pathnameBase])),route:w}),m.pathnameBase!=="/"&&(s=Ri([s,m.pathnameBase]))}return o}function Fw(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=pP(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((d,p,m)=>{let{paramName:w,isOptional:b}=p;if(w==="*"){let N=l[m]||"";o=s.slice(0,s.length-N.length).replace(/(.)\/+$/,"$1")}const x=l[m];return b&&!x?d[w]=void 0:d[w]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:o,pattern:t}}function pP(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Oa(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function mP(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Oa(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Wa(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function gP(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ns(t):t;return{pathname:n?n.startsWith("/")?n:vP(n,e):e,search:wP(r),hash:_P(i)}}function vP(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Qf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function l2(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function zg(t,e){let n=l2(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function $g(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ns(t):(i=ft({},t),ke(!i.pathname||!i.pathname.includes("?"),Qf("?","pathname","search",i)),ke(!i.pathname||!i.pathname.includes("#"),Qf("#","pathname","hash",i)),ke(!i.search||!i.search.includes("#"),Qf("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let m=e.length-1;if(!r&&o.startsWith("..")){let w=o.split("/");for(;w[0]==="..";)w.shift(),m-=1;i.pathname=w.join("/")}l=m>=0?e[m]:"/"}let u=gP(i,l),d=o&&o!=="/"&&o.endsWith("/"),p=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||p)&&(u.pathname+="/"),u}const Ri=t=>t.join("/").replace(/\/\/+/g,"/"),yP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),wP=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,_P=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Hg{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function bh(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const u2=["post","put","patch","delete"],EP=new Set(u2),TP=["get",...u2],IP=new Set(TP),SP=new Set([301,302,303,307,308]),CP=new Set([307,308]),Yf={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},AP={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},fl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Wg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bP=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),c2="remix-router-transitions";function kP(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;ke(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let M=t.detectErrorBoundary;i=U=>({hasErrorBoundary:M(U)})}else i=bP;let s={},o=pu(t.routes,i,void 0,s),l,u=t.basename||"/",d=t.unstable_dataStrategy||DP,p=t.unstable_patchRoutesOnMiss,m=ft({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,unstable_skipActionErrorRevalidation:!1},t.future),w=null,b=new Set,x=null,N=null,j=null,P=t.hydrationData!=null,T=Xs(o,t.history.location,u),k=null;if(T==null&&!p){let M=Tn(404,{pathname:t.history.location.pathname}),{matches:U,route:z}=Qw(o);T=U,k={[z.id]:M}}T&&p&&or(T,o,t.history.location.pathname).active&&(T=null);let F;if(!T)F=!1,T=[];else if(T.some(M=>M.route.lazy))F=!1;else if(!T.some(M=>M.route.loader))F=!0;else if(m.v7_partialHydration){let M=t.hydrationData?t.hydrationData.loaderData:null,U=t.hydrationData?t.hydrationData.errors:null,z=K=>K.route.loader?typeof K.route.loader=="function"&&K.route.loader.hydrate===!0?!1:M&&M[K.route.id]!==void 0||U&&U[K.route.id]!==void 0:!0;if(U){let K=T.findIndex(ne=>U[ne.route.id]!==void 0);F=T.slice(0,K+1).every(z)}else F=T.every(z)}else F=t.hydrationData!=null;let G,L={historyAction:t.history.action,location:t.history.location,matches:T,initialized:F,navigation:Yf,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||k,fetchers:new Map,blockers:new Map},A=Nt.Pop,E=!1,S,C=!1,D=new Map,V=null,R=!1,Se=!1,ut=[],ze=[],ye=new Map,ee=0,X=-1,ue=new Map,Ee=new Set,pe=new Map,Ce=new Map,H=new Set,Ke=new Map,Ge=new Map,kt=new Map,Tr=!1;function $t(){if(w=t.history.listen(M=>{let{action:U,location:z,delta:K}=M;if(Tr){Tr=!1;return}Oa(Ge.size===0||K!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ne=vi({currentLocation:L.location,nextLocation:z,historyAction:U});if(ne&&K!=null){Tr=!0,t.history.go(K*-1),Ar(ne,{state:"blocked",location:z,proceed(){Ar(ne,{state:"proceeding",proceed:void 0,reset:void 0,location:z}),t.history.go(K)},reset(){let se=new Map(L.blockers);se.set(ne,fl),St({blockers:se})}});return}return on(U,z)}),n){qP(e,D);let M=()=>KP(e,D);e.addEventListener("pagehide",M),V=()=>e.removeEventListener("pagehide",M)}return L.initialized||on(Nt.Pop,L.location,{initialHydration:!0}),G}function kn(){w&&w(),V&&V(),b.clear(),S&&S.abort(),L.fetchers.forEach((M,U)=>Pn(U)),L.blockers.forEach((M,U)=>Hi(U))}function di(M){return b.add(M),()=>b.delete(M)}function St(M,U){U===void 0&&(U={}),L=ft({},L,M);let z=[],K=[];m.v7_fetcherPersist&&L.fetchers.forEach((ne,se)=>{ne.state==="idle"&&(H.has(se)?K.push(se):z.push(se))}),[...b].forEach(ne=>ne(L,{deletedFetchers:K,unstable_viewTransitionOpts:U.viewTransitionOpts,unstable_flushSync:U.flushSync===!0})),m.v7_fetcherPersist&&(z.forEach(ne=>L.fetchers.delete(ne)),K.forEach(ne=>Pn(ne)))}function Hn(M,U,z){var K,ne;let{flushSync:se}=z===void 0?{}:z,ce=L.actionData!=null&&L.navigation.formMethod!=null&&Or(L.navigation.formMethod)&&L.navigation.state==="loading"&&((K=M.state)==null?void 0:K._isRedirect)!==!0,Q;U.actionData?Object.keys(U.actionData).length>0?Q=U.actionData:Q=null:ce?Q=L.actionData:Q=null;let ge=U.loaderData?Kw(L.loaderData,U.loaderData,U.matches||[],U.errors):L.loaderData,le=L.blockers;le.size>0&&(le=new Map(le),le.forEach((Re,Ue)=>le.set(Ue,fl)));let ae=E===!0||L.navigation.formMethod!=null&&Or(L.navigation.formMethod)&&((ne=M.state)==null?void 0:ne._isRedirect)!==!0;l&&(o=l,l=void 0),R||A===Nt.Pop||(A===Nt.Push?t.history.push(M,M.state):A===Nt.Replace&&t.history.replace(M,M.state));let Ae;if(A===Nt.Pop){let Re=D.get(L.location.pathname);Re&&Re.has(M.pathname)?Ae={currentLocation:L.location,nextLocation:M}:D.has(M.pathname)&&(Ae={currentLocation:M,nextLocation:L.location})}else if(C){let Re=D.get(L.location.pathname);Re?Re.add(M.pathname):(Re=new Set([M.pathname]),D.set(L.location.pathname,Re)),Ae={currentLocation:L.location,nextLocation:M}}St(ft({},U,{actionData:Q,loaderData:ge,historyAction:A,location:M,initialized:!0,navigation:Yf,revalidation:"idle",restoreScrollPosition:Hr(M,U.matches||L.matches),preventScrollReset:ae,blockers:le}),{viewTransitionOpts:Ae,flushSync:se===!0}),A=Nt.Pop,E=!1,C=!1,R=!1,Se=!1,ut=[],ze=[]}async function Ir(M,U){if(typeof M=="number"){t.history.go(M);return}let z=fm(L.location,L.matches,u,m.v7_prependBasename,M,m.v7_relativeSplatPath,U==null?void 0:U.fromRouteId,U==null?void 0:U.relative),{path:K,submission:ne,error:se}=Uw(m.v7_normalizeFormMethod,!1,z,U),ce=L.location,Q=fu(L.location,K,U&&U.state);Q=ft({},Q,t.history.encodeLocation(Q));let ge=U&&U.replace!=null?U.replace:void 0,le=Nt.Push;ge===!0?le=Nt.Replace:ge===!1||ne!=null&&Or(ne.formMethod)&&ne.formAction===L.location.pathname+L.location.search&&(le=Nt.Replace);let ae=U&&"preventScrollReset"in U?U.preventScrollReset===!0:void 0,Ae=(U&&U.unstable_flushSync)===!0,Re=vi({currentLocation:ce,nextLocation:Q,historyAction:le});if(Re){Ar(Re,{state:"blocked",location:Q,proceed(){Ar(Re,{state:"proceeding",proceed:void 0,reset:void 0,location:Q}),Ir(M,U)},reset(){let Ue=new Map(L.blockers);Ue.set(Re,fl),St({blockers:Ue})}});return}return await on(le,Q,{submission:ne,pendingError:se,preventScrollReset:ae,replace:U&&U.replace,enableViewTransition:U&&U.unstable_viewTransition,flushSync:Ae})}function hi(){if(ct(),St({revalidation:"loading"}),L.navigation.state!=="submitting"){if(L.navigation.state==="idle"){on(L.historyAction,L.location,{startUninterruptedRevalidation:!0});return}on(A||L.historyAction,L.navigation.location,{overrideNavigation:L.navigation})}}async function on(M,U,z){S&&S.abort(),S=null,A=M,R=(z&&z.startUninterruptedRevalidation)===!0,Pt(L.location,L.matches),E=(z&&z.preventScrollReset)===!0,C=(z&&z.enableViewTransition)===!0;let K=l||o,ne=z&&z.overrideNavigation,se=Xs(K,U,u),ce=(z&&z.flushSync)===!0,Q=or(se,K,U.pathname);if(Q.active&&Q.matches&&(se=Q.matches),!se){let{error:xe,notFoundMatches:ht,route:He}=Rn(U.pathname);Hn(U,{matches:ht,loaderData:{},errors:{[He.id]:xe}},{flushSync:ce});return}if(L.initialized&&!Se&&FP(L.location,U)&&!(z&&z.submission&&Or(z.submission.formMethod))){Hn(U,{matches:se},{flushSync:ce});return}S=new AbortController;let ge=Xo(t.history,U,S.signal,z&&z.submission),le;if(z&&z.pendingError)le=[Fl(se).route.id,{type:et.error,error:z.pendingError}];else if(z&&z.submission&&Or(z.submission.formMethod)){let xe=await Ms(ge,U,z.submission,se,Q.active,{replace:z.replace,flushSync:ce});if(xe.shortCircuited)return;if(xe.pendingActionResult){let[ht,He]=xe.pendingActionResult;if(Kn(He)&&bh(He.error)&&He.error.status===404){S=null,Hn(U,{matches:xe.matches,loaderData:{},errors:{[ht]:He.error}});return}}se=xe.matches||se,le=xe.pendingActionResult,ne=Xf(U,z.submission),ce=!1,Q.active=!1,ge=Xo(t.history,ge.url,ge.signal)}let{shortCircuited:ae,matches:Ae,loaderData:Re,errors:Ue}=await Ht(ge,U,se,Q.active,ne,z&&z.submission,z&&z.fetcherSubmission,z&&z.replace,z&&z.initialHydration===!0,ce,le);ae||(S=null,Hn(U,ft({matches:Ae||se},Gw(le),{loaderData:Re,errors:Ue})))}async function Ms(M,U,z,K,ne,se){se===void 0&&(se={}),ct();let ce=HP(U,z);if(St({navigation:ce},{flushSync:se.flushSync===!0}),ne){let le=await Wr(K,U.pathname,M.signal);if(le.type==="aborted")return{shortCircuited:!0};if(le.type==="error"){let{error:ae,notFoundMatches:Ae,route:Re}=$r(U.pathname,le);return{matches:Ae,pendingActionResult:[Re.id,{type:et.error,error:ae}]}}else if(le.matches)K=le.matches;else{let{notFoundMatches:ae,error:Ae,route:Re}=Rn(U.pathname);return{matches:ae,pendingActionResult:[Re.id,{type:et.error,error:Ae}]}}}let Q,ge=Il(K,U);if(!ge.route.action&&!ge.route.lazy)Q={type:et.error,error:Tn(405,{method:M.method,pathname:U.pathname,routeId:ge.route.id})};else if(Q=(await ir("action",M,[ge],K))[0],M.signal.aborted)return{shortCircuited:!0};if(no(Q)){let le;return se&&se.replace!=null?le=se.replace:le=Hw(Q.response.headers.get("Location"),new URL(M.url),u)===L.location.pathname+L.location.search,await rr(M,Q,{submission:z,replace:le}),{shortCircuited:!0}}if(to(Q))throw Tn(400,{type:"defer-action"});if(Kn(Q)){let le=Fl(K,ge.route.id);return(se&&se.replace)!==!0&&(A=Nt.Push),{matches:K,pendingActionResult:[le.route.id,Q]}}return{matches:K,pendingActionResult:[ge.route.id,Q]}}async function Ht(M,U,z,K,ne,se,ce,Q,ge,le,ae){let Ae=ne||Xf(U,se),Re=se||ce||Jw(Ae),Ue=!R&&(!m.v7_partialHydration||!ge);if(K){if(Ue){let Xe=Sr(ae);St(ft({navigation:Ae},Xe!==void 0?{actionData:Xe}:{}),{flushSync:le})}let we=await Wr(z,U.pathname,M.signal);if(we.type==="aborted")return{shortCircuited:!0};if(we.type==="error"){let{error:Xe,notFoundMatches:Kt,route:Ve}=$r(U.pathname,we);return{matches:Kt,loaderData:{},errors:{[Ve.id]:Xe}}}else if(we.matches)z=we.matches;else{let{error:Xe,notFoundMatches:Kt,route:Ve}=Rn(U.pathname);return{matches:Kt,loaderData:{},errors:{[Ve.id]:Xe}}}}let xe=l||o,[ht,He]=Bw(t.history,L,z,Re,U,m.v7_partialHydration&&ge===!0,m.unstable_skipActionErrorRevalidation,Se,ut,ze,H,pe,Ee,xe,u,ae);if(Ct(we=>!(z&&z.some(Xe=>Xe.route.id===we))||ht&&ht.some(Xe=>Xe.route.id===we)),X=++ee,ht.length===0&&He.length===0){let we=mi();return Hn(U,ft({matches:z,loaderData:{},errors:ae&&Kn(ae[1])?{[ae[0]]:ae[1].error}:null},Gw(ae),we?{fetchers:new Map(L.fetchers)}:{}),{flushSync:le}),{shortCircuited:!0}}if(Ue){let we={};if(!K){we.navigation=Ae;let Xe=Sr(ae);Xe!==void 0&&(we.actionData=Xe)}He.length>0&&(we.fetchers=Lt(He)),St(we,{flushSync:le})}He.forEach(we=>{ye.has(we.key)&&qt(we.key),we.controller&&ye.set(we.key,we.controller)});let qr=()=>He.forEach(we=>qt(we.key));S&&S.signal.addEventListener("abort",qr);let{loaderResults:ar,fetcherResults:Wn}=await wt(L.matches,z,ht,He,M);if(M.signal.aborted)return{shortCircuited:!0};S&&S.signal.removeEventListener("abort",qr),He.forEach(we=>ye.delete(we.key));let br=Yw([...ar,...Wn]);if(br){if(br.idx>=ht.length){let we=He[br.idx-ht.length].key;Ee.add(we)}return await rr(M,br.result,{replace:Q}),{shortCircuited:!0}}let{loaderData:lr,errors:Rt}=qw(L,z,ht,ar,ae,He,Wn,Ke);Ke.forEach((we,Xe)=>{we.subscribe(Kt=>{(Kt||we.done)&&Ke.delete(Xe)})}),m.v7_partialHydration&&ge&&L.errors&&Object.entries(L.errors).filter(we=>{let[Xe]=we;return!ht.some(Kt=>Kt.route.id===Xe)}).forEach(we=>{let[Xe,Kt]=we;Rt=Object.assign(Rt||{},{[Xe]:Kt})});let xn=mi(),Kr=gi(X),Nn=xn||Kr||He.length>0;return ft({matches:z,loaderData:lr,errors:Rt},Nn?{fetchers:new Map(L.fetchers)}:{})}function Sr(M){if(M&&!Kn(M[1]))return{[M[0]]:M[1].data};if(L.actionData)return Object.keys(L.actionData).length===0?null:L.actionData}function Lt(M){return M.forEach(U=>{let z=L.fetchers.get(U.key),K=pl(void 0,z?z.data:void 0);L.fetchers.set(U.key,K)}),new Map(L.fetchers)}function Me(M,U,z,K){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");ye.has(M)&&qt(M);let ne=(K&&K.unstable_flushSync)===!0,se=l||o,ce=fm(L.location,L.matches,u,m.v7_prependBasename,z,m.v7_relativeSplatPath,U,K==null?void 0:K.relative),Q=Xs(se,ce,u),ge=or(Q,se,ce);if(ge.active&&ge.matches&&(Q=ge.matches),!Q){dt(M,U,Tn(404,{pathname:ce}),{flushSync:ne});return}let{path:le,submission:ae,error:Ae}=Uw(m.v7_normalizeFormMethod,!0,ce,K);if(Ae){dt(M,U,Ae,{flushSync:ne});return}let Re=Il(Q,le);if(E=(K&&K.preventScrollReset)===!0,ae&&Or(ae.formMethod)){fi(M,U,le,Re,Q,ge.active,ne,ae);return}pe.set(M,{routeId:U,path:le}),Vs(M,U,le,Re,Q,ge.active,ne,ae)}async function fi(M,U,z,K,ne,se,ce,Q){ct(),pe.delete(M);function ge(Ve){if(!Ve.route.action&&!Ve.route.lazy){let yn=Tn(405,{method:Q.formMethod,pathname:z,routeId:U});return dt(M,U,yn,{flushSync:ce}),!0}return!1}if(!se&&ge(K))return;let le=L.fetchers.get(M);Wt(M,WP(Q,le),{flushSync:ce});let ae=new AbortController,Ae=Xo(t.history,z,ae.signal,Q);if(se){let Ve=await Wr(ne,z,Ae.signal);if(Ve.type==="aborted")return;if(Ve.type==="error"){let{error:yn}=$r(z,Ve);dt(M,U,yn,{flushSync:ce});return}else if(Ve.matches){if(ne=Ve.matches,K=Il(ne,z),ge(K))return}else{dt(M,U,Tn(404,{pathname:z}),{flushSync:ce});return}}ye.set(M,ae);let Re=ee,xe=(await ir("action",Ae,[K],ne))[0];if(Ae.signal.aborted){ye.get(M)===ae&&ye.delete(M);return}if(m.v7_fetcherPersist&&H.has(M)){if(no(xe)||Kn(xe)){Wt(M,Zi(void 0));return}}else{if(no(xe))if(ye.delete(M),X>Re){Wt(M,Zi(void 0));return}else return Ee.add(M),Wt(M,pl(Q)),rr(Ae,xe,{fetcherSubmission:Q});if(Kn(xe)){dt(M,U,xe.error);return}}if(to(xe))throw Tn(400,{type:"defer-action"});let ht=L.navigation.location||L.location,He=Xo(t.history,ht,ae.signal),qr=l||o,ar=L.navigation.state!=="idle"?Xs(qr,L.navigation.location,u):L.matches;ke(ar,"Didn't find any matches after fetcher action");let Wn=++ee;ue.set(M,Wn);let br=pl(Q,xe.data);L.fetchers.set(M,br);let[lr,Rt]=Bw(t.history,L,ar,Q,ht,!1,m.unstable_skipActionErrorRevalidation,Se,ut,ze,H,pe,Ee,qr,u,[K.route.id,xe]);Rt.filter(Ve=>Ve.key!==M).forEach(Ve=>{let yn=Ve.key,Us=L.fetchers.get(yn),jo=pl(void 0,Us?Us.data:void 0);L.fetchers.set(yn,jo),ye.has(yn)&&qt(yn),Ve.controller&&ye.set(yn,Ve.controller)}),St({fetchers:new Map(L.fetchers)});let xn=()=>Rt.forEach(Ve=>qt(Ve.key));ae.signal.addEventListener("abort",xn);let{loaderResults:Kr,fetcherResults:Nn}=await wt(L.matches,ar,lr,Rt,He);if(ae.signal.aborted)return;ae.signal.removeEventListener("abort",xn),ue.delete(M),ye.delete(M),Rt.forEach(Ve=>ye.delete(Ve.key));let we=Yw([...Kr,...Nn]);if(we){if(we.idx>=lr.length){let Ve=Rt[we.idx-lr.length].key;Ee.add(Ve)}return rr(He,we.result)}let{loaderData:Xe,errors:Kt}=qw(L,L.matches,lr,Kr,void 0,Rt,Nn,Ke);if(L.fetchers.has(M)){let Ve=Zi(xe.data);L.fetchers.set(M,Ve)}gi(Wn),L.navigation.state==="loading"&&Wn>X?(ke(A,"Expected pending action"),S&&S.abort(),Hn(L.navigation.location,{matches:ar,loaderData:Xe,errors:Kt,fetchers:new Map(L.fetchers)})):(St({errors:Kt,loaderData:Kw(L.loaderData,Xe,ar,Kt),fetchers:new Map(L.fetchers)}),Se=!1)}async function Vs(M,U,z,K,ne,se,ce,Q){let ge=L.fetchers.get(M);Wt(M,pl(Q,ge?ge.data:void 0),{flushSync:ce});let le=new AbortController,ae=Xo(t.history,z,le.signal);if(se){let xe=await Wr(ne,z,ae.signal);if(xe.type==="aborted")return;if(xe.type==="error"){let{error:ht}=$r(z,xe);dt(M,U,ht,{flushSync:ce});return}else if(xe.matches)ne=xe.matches,K=Il(ne,z);else{dt(M,U,Tn(404,{pathname:z}),{flushSync:ce});return}}ye.set(M,le);let Ae=ee,Ue=(await ir("loader",ae,[K],ne))[0];if(to(Ue)&&(Ue=await m2(Ue,ae.signal,!0)||Ue),ye.get(M)===le&&ye.delete(M),!ae.signal.aborted){if(H.has(M)){Wt(M,Zi(void 0));return}if(no(Ue))if(X>Ae){Wt(M,Zi(void 0));return}else{Ee.add(M),await rr(ae,Ue);return}if(Kn(Ue)){dt(M,U,Ue.error);return}ke(!to(Ue),"Unhandled fetcher deferred data"),Wt(M,Zi(Ue.data))}}async function rr(M,U,z){let{submission:K,fetcherSubmission:ne,replace:se}=z===void 0?{}:z;U.response.headers.has("X-Remix-Revalidate")&&(Se=!0);let ce=U.response.headers.get("Location");ke(ce,"Expected a Location header on the redirect Response"),ce=Hw(ce,new URL(M.url),u);let Q=fu(L.location,ce,{_isRedirect:!0});if(n){let Ue=!1;if(U.response.headers.has("X-Remix-Reload-Document"))Ue=!0;else if(Wg.test(ce)){const xe=t.history.createURL(ce);Ue=xe.origin!==e.location.origin||Wa(xe.pathname,u)==null}if(Ue){se?e.location.replace(ce):e.location.assign(ce);return}}S=null;let ge=se===!0?Nt.Replace:Nt.Push,{formMethod:le,formAction:ae,formEncType:Ae}=L.navigation;!K&&!ne&&le&&ae&&Ae&&(K=Jw(L.navigation));let Re=K||ne;if(CP.has(U.response.status)&&Re&&Or(Re.formMethod))await on(ge,Q,{submission:ft({},Re,{formAction:ce}),preventScrollReset:E});else{let Ue=Xf(Q,K);await on(ge,Q,{overrideNavigation:Ue,fetcherSubmission:ne,preventScrollReset:E})}}async function ir(M,U,z,K){try{let ne=await OP(d,M,U,z,K,s,i);return await Promise.all(ne.map((se,ce)=>{if(BP(se)){let Q=se.result;return{type:et.redirect,response:VP(Q,U,z[ce].route.id,K,u,m.v7_relativeSplatPath)}}return MP(se)}))}catch(ne){return z.map(()=>({type:et.error,error:ne}))}}async function wt(M,U,z,K,ne){let[se,...ce]=await Promise.all([z.length?ir("loader",ne,z,U):[],...K.map(Q=>{if(Q.matches&&Q.match&&Q.controller){let ge=Xo(t.history,Q.path,Q.controller.signal);return ir("loader",ge,[Q.match],Q.matches).then(le=>le[0])}else return Promise.resolve({type:et.error,error:Tn(404,{pathname:Q.path})})})]);return await Promise.all([Xw(M,z,se,se.map(()=>ne.signal),!1,L.loaderData),Xw(M,K.map(Q=>Q.match),ce,K.map(Q=>Q.controller?Q.controller.signal:null),!0)]),{loaderResults:se,fetcherResults:ce}}function ct(){Se=!0,ut.push(...Ct()),pe.forEach((M,U)=>{ye.has(U)&&(ze.push(U),qt(U))})}function Wt(M,U,z){z===void 0&&(z={}),L.fetchers.set(M,U),St({fetchers:new Map(L.fetchers)},{flushSync:(z&&z.flushSync)===!0})}function dt(M,U,z,K){K===void 0&&(K={});let ne=Fl(L.matches,U);Pn(M),St({errors:{[ne.route.id]:z},fetchers:new Map(L.fetchers)},{flushSync:(K&&K.flushSync)===!0})}function sr(M){return m.v7_fetcherPersist&&(Ce.set(M,(Ce.get(M)||0)+1),H.has(M)&&H.delete(M)),L.fetchers.get(M)||AP}function Pn(M){let U=L.fetchers.get(M);ye.has(M)&&!(U&&U.state==="loading"&&ue.has(M))&&qt(M),pe.delete(M),ue.delete(M),Ee.delete(M),H.delete(M),L.fetchers.delete(M)}function pi(M){if(m.v7_fetcherPersist){let U=(Ce.get(M)||0)-1;U<=0?(Ce.delete(M),H.add(M)):Ce.set(M,U)}else Pn(M);St({fetchers:new Map(L.fetchers)})}function qt(M){let U=ye.get(M);ke(U,"Expected fetch controller: "+M),U.abort(),ye.delete(M)}function Cr(M){for(let U of M){let z=sr(U),K=Zi(z.data);L.fetchers.set(U,K)}}function mi(){let M=[],U=!1;for(let z of Ee){let K=L.fetchers.get(z);ke(K,"Expected fetcher: "+z),K.state==="loading"&&(Ee.delete(z),M.push(z),U=!0)}return Cr(M),U}function gi(M){let U=[];for(let[z,K]of ue)if(K<M){let ne=L.fetchers.get(z);ke(ne,"Expected fetcher: "+z),ne.state==="loading"&&(qt(z),ue.delete(z),U.push(z))}return Cr(U),U.length>0}function js(M,U){let z=L.blockers.get(M)||fl;return Ge.get(M)!==U&&Ge.set(M,U),z}function Hi(M){L.blockers.delete(M),Ge.delete(M)}function Ar(M,U){let z=L.blockers.get(M)||fl;ke(z.state==="unblocked"&&U.state==="blocked"||z.state==="blocked"&&U.state==="blocked"||z.state==="blocked"&&U.state==="proceeding"||z.state==="blocked"&&U.state==="unblocked"||z.state==="proceeding"&&U.state==="unblocked","Invalid blocker state transition: "+z.state+" -> "+U.state);let K=new Map(L.blockers);K.set(M,U),St({blockers:K})}function vi(M){let{currentLocation:U,nextLocation:z,historyAction:K}=M;if(Ge.size===0)return;Ge.size>1&&Oa(!1,"A router only supports one blocker at a time");let ne=Array.from(Ge.entries()),[se,ce]=ne[ne.length-1],Q=L.blockers.get(se);if(!(Q&&Q.state==="proceeding")&&ce({currentLocation:U,nextLocation:z,historyAction:K}))return se}function Rn(M){let U=Tn(404,{pathname:M}),z=l||o,{matches:K,route:ne}=Qw(z);return Ct(),{notFoundMatches:K,route:ne,error:U}}function $r(M,U){let z=U.partialMatches,K=z[z.length-1].route,ne=Tn(400,{type:"route-discovery",routeId:K.id,pathname:M,message:U.error!=null&&"message"in U.error?U.error:String(U.error)});return{notFoundMatches:z,route:K,error:ne}}function Ct(M){let U=[];return Ke.forEach((z,K)=>{(!M||M(K))&&(z.cancel(),U.push(K),Ke.delete(K))}),U}function Mt(M,U,z){if(x=M,j=U,N=z||null,!P&&L.navigation===Yf){P=!0;let K=Hr(L.location,L.matches);K!=null&&St({restoreScrollPosition:K})}return()=>{x=null,j=null,N=null}}function Fs(M,U){return N&&N(M,U.map(K=>rP(K,L.loaderData)))||M.key}function Pt(M,U){if(x&&j){let z=Fs(M,U);x[z]=j()}}function Hr(M,U){if(x){let z=Fs(M,U),K=x[z];if(typeof K=="number")return K}return null}function or(M,U,z){if(p)if(M){let K=M[M.length-1].route;if(K.path&&(K.path==="*"||K.path.endsWith("/*")))return{active:!0,matches:rd(U,z,u,!0)}}else return{active:!0,matches:rd(U,z,u,!0)||[]};return{active:!1,matches:null}}async function Wr(M,U,z){let K=M,ne=K.length>0?K[K.length-1].route:null;for(;;){let se=l==null,ce=l||o;try{await NP(p,U,K,ce,s,i,kt,z)}catch(ae){return{type:"error",error:ae,partialMatches:K}}finally{se&&(o=[...o])}if(z.aborted)return{type:"aborted"};let Q=Xs(ce,U,u),ge=!1;if(Q){let ae=Q[Q.length-1].route;if(ae.index)return{type:"success",matches:Q};if(ae.path&&ae.path.length>0)if(ae.path==="*")ge=!0;else return{type:"success",matches:Q}}let le=rd(ce,U,u,!0);if(!le||K.map(ae=>ae.route.id).join("-")===le.map(ae=>ae.route.id).join("-"))return{type:"success",matches:ge?Q:null};if(K=le,ne=K[K.length-1].route,ne.path==="*")return{type:"success",matches:K}}}function fe(M){s={},l=pu(M,i,void 0,s)}function vn(M,U){let z=l==null;h2(M,U,l||o,s,i),z&&(o=[...o],St({}))}return G={get basename(){return u},get future(){return m},get state(){return L},get routes(){return o},get window(){return e},initialize:$t,subscribe:di,enableScrollRestoration:Mt,navigate:Ir,fetch:Me,revalidate:hi,createHref:M=>t.history.createHref(M),encodeLocation:M=>t.history.encodeLocation(M),getFetcher:sr,deleteFetcher:pi,dispose:kn,getBlocker:js,deleteBlocker:Hi,patchRoutes:vn,_internalFetchControllers:ye,_internalActiveDeferreds:Ke,_internalSetRoutes:fe},G}function PP(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function fm(t,e,n,r,i,s,o,l){let u,d;if(o){u=[];for(let m of e)if(u.push(m),m.route.id===o){d=m;break}}else u=e,d=e[e.length-1];let p=$g(i||".",zg(u,s),Wa(t.pathname,n)||t.pathname,l==="path");return i==null&&(p.search=t.search,p.hash=t.hash),(i==null||i===""||i===".")&&d&&d.route.index&&!qg(p.search)&&(p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(p.pathname=p.pathname==="/"?n:Ri([n,p.pathname])),yo(p)}function Uw(t,e,n,r){if(!r||!PP(r))return{path:n};if(r.formMethod&&!$P(r.formMethod))return{path:n,error:Tn(405,{method:r.formMethod})};let i=()=>({path:n,error:Tn(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),l=f2(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Or(o))return i();let w=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((b,x)=>{let[N,j]=x;return""+b+N+"="+j+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:l,formEncType:r.formEncType,formData:void 0,json:void 0,text:w}}}else if(r.formEncType==="application/json"){if(!Or(o))return i();try{let w=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:l,formEncType:r.formEncType,formData:void 0,json:w,text:void 0}}}catch{return i()}}}ke(typeof FormData=="function","FormData is not available in this environment");let u,d;if(r.formData)u=pm(r.formData),d=r.formData;else if(r.body instanceof FormData)u=pm(r.body),d=r.body;else if(r.body instanceof URLSearchParams)u=r.body,d=Ww(u);else if(r.body==null)u=new URLSearchParams,d=new FormData;else try{u=new URLSearchParams(r.body),d=Ww(u)}catch{return i()}let p={formMethod:o,formAction:l,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:d,json:void 0,text:void 0};if(Or(p.formMethod))return{path:n,submission:p};let m=Ns(n);return e&&m.search&&qg(m.search)&&u.append("index",""),m.search="?"+u,{path:yo(m),submission:p}}function RP(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function Bw(t,e,n,r,i,s,o,l,u,d,p,m,w,b,x,N){let j=N?Kn(N[1])?N[1].error:N[1].data:void 0,P=t.createURL(e.location),T=t.createURL(i),k=N&&Kn(N[1])?N[0]:void 0,F=k?RP(n,k):n,G=N?N[1].statusCode:void 0,L=o&&G&&G>=400,A=F.filter((S,C)=>{let{route:D}=S;if(D.lazy)return!0;if(D.loader==null)return!1;if(s)return typeof D.loader!="function"||D.loader.hydrate?!0:e.loaderData[D.id]===void 0&&(!e.errors||e.errors[D.id]===void 0);if(xP(e.loaderData,e.matches[C],S)||u.some(Se=>Se===S.route.id))return!0;let V=e.matches[C],R=S;return zw(S,ft({currentUrl:P,currentParams:V.params,nextUrl:T,nextParams:R.params},r,{actionResult:j,unstable_actionStatus:G,defaultShouldRevalidate:L?!1:l||P.pathname+P.search===T.pathname+T.search||P.search!==T.search||d2(V,R)}))}),E=[];return m.forEach((S,C)=>{if(s||!n.some(ut=>ut.route.id===S.routeId)||p.has(C))return;let D=Xs(b,S.path,x);if(!D){E.push({key:C,routeId:S.routeId,path:S.path,matches:null,match:null,controller:null});return}let V=e.fetchers.get(C),R=Il(D,S.path),Se=!1;w.has(C)?Se=!1:d.includes(C)?Se=!0:V&&V.state!=="idle"&&V.data===void 0?Se=l:Se=zw(R,ft({currentUrl:P,currentParams:e.matches[e.matches.length-1].params,nextUrl:T,nextParams:n[n.length-1].params},r,{actionResult:j,unstable_actionStatus:G,defaultShouldRevalidate:L?!1:l})),Se&&E.push({key:C,routeId:S.routeId,path:S.path,matches:D,match:R,controller:new AbortController})}),[A,E]}function xP(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function d2(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function zw(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function NP(t,e,n,r,i,s,o,l){let u=[e,...n.map(d=>d.route.id)].join("-");try{let d=o.get(u);d||(d=t({path:e,matches:n,patch:(p,m)=>{l.aborted||h2(p,m,r,i,s)}}),o.set(u,d)),d&&UP(d)&&await d}finally{o.delete(u)}}function h2(t,e,n,r,i){if(t){var s;let o=r[t];ke(o,"No route found to patch children into: routeId = "+t);let l=pu(e,i,[t,"patch",String(((s=o.children)==null?void 0:s.length)||"0")],r);o.children?o.children.push(...l):o.children=l}else{let o=pu(e,i,["patch",String(n.length||"0")],r);n.push(...o)}}async function $w(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];ke(i,"No route found in manifest");let s={};for(let o in r){let u=i[o]!==void 0&&o!=="hasErrorBoundary";Oa(!u,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!u&&!tP.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,ft({},e(i),{lazy:void 0}))}function DP(t){return Promise.all(t.matches.map(e=>e.resolve()))}async function OP(t,e,n,r,i,s,o,l){let u=r.reduce((m,w)=>m.add(w.route.id),new Set),d=new Set,p=await t({matches:i.map(m=>{let w=u.has(m.route.id);return ft({},m,{shouldLoad:w,resolve:x=>(d.add(m.route.id),w?LP(e,n,m,s,o,x,l):Promise.resolve({type:et.data,result:void 0}))})}),request:n,params:i[0].params,context:l});return i.forEach(m=>ke(d.has(m.route.id),'`match.resolve()` was not called for route id "'+m.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),p.filter((m,w)=>u.has(i[w].route.id))}async function LP(t,e,n,r,i,s,o){let l,u,d=p=>{let m,w=new Promise((N,j)=>m=j);u=()=>m(),e.signal.addEventListener("abort",u);let b=N=>typeof p!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):p({request:e,params:n.params,context:o},...N!==void 0?[N]:[]),x;return s?x=s(N=>b(N)):x=(async()=>{try{return{type:"data",result:await b()}}catch(N){return{type:"error",result:N}}})(),Promise.race([x,w])};try{let p=n.route[t];if(n.route.lazy)if(p){let m,[w]=await Promise.all([d(p).catch(b=>{m=b}),$w(n.route,i,r)]);if(m!==void 0)throw m;l=w}else if(await $w(n.route,i,r),p=n.route[t],p)l=await d(p);else if(t==="action"){let m=new URL(e.url),w=m.pathname+m.search;throw Tn(405,{method:e.method,pathname:w,routeId:n.route.id})}else return{type:et.data,result:void 0};else if(p)l=await d(p);else{let m=new URL(e.url),w=m.pathname+m.search;throw Tn(404,{pathname:w})}ke(l.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(p){return{type:et.error,result:p}}finally{u&&e.signal.removeEventListener("abort",u)}return l}async function MP(t){let{result:e,type:n,status:r}=t;if(p2(e)){let o;try{let l=e.headers.get("Content-Type");l&&/\bapplication\/json\b/.test(l)?e.body==null?o=null:o=await e.json():o=await e.text()}catch(l){return{type:et.error,error:l}}return n===et.error?{type:et.error,error:new Hg(e.status,e.statusText,o),statusCode:e.status,headers:e.headers}:{type:et.data,data:o,statusCode:e.status,headers:e.headers}}if(n===et.error)return{type:et.error,error:e,statusCode:bh(e)?e.status:r};if(zP(e)){var i,s;return{type:et.deferred,deferredData:e,statusCode:(i=e.init)==null?void 0:i.status,headers:((s=e.init)==null?void 0:s.headers)&&new Headers(e.init.headers)}}return{type:et.data,data:e,statusCode:r}}function VP(t,e,n,r,i,s){let o=t.headers.get("Location");if(ke(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!Wg.test(o)){let l=r.slice(0,r.findIndex(u=>u.route.id===n)+1);o=fm(new URL(e.url),l,i,!0,o,s),t.headers.set("Location",o)}return t}function Hw(t,e,n){if(Wg.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=Wa(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function Xo(t,e,n,r){let i=t.createURL(f2(e)).toString(),s={signal:n};if(r&&Or(r.formMethod)){let{formMethod:o,formEncType:l}=r;s.method=o.toUpperCase(),l==="application/json"?(s.headers=new Headers({"Content-Type":l}),s.body=JSON.stringify(r.json)):l==="text/plain"?s.body=r.text:l==="application/x-www-form-urlencoded"&&r.formData?s.body=pm(r.formData):s.body=r.formData}return new Request(i,s)}function pm(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function Ww(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function jP(t,e,n,r,i,s){let o={},l=null,u,d=!1,p={},m=r&&Kn(r[1])?r[1].error:void 0;return n.forEach((w,b)=>{let x=e[b].route.id;if(ke(!no(w),"Cannot handle redirect results in processLoaderData"),Kn(w)){let N=w.error;m!==void 0&&(N=m,m=void 0),l=l||{};{let j=Fl(t,x);l[j.route.id]==null&&(l[j.route.id]=N)}o[x]=void 0,d||(d=!0,u=bh(w.error)?w.error.status:500),w.headers&&(p[x]=w.headers)}else to(w)?(i.set(x,w.deferredData),o[x]=w.deferredData.data,w.statusCode!=null&&w.statusCode!==200&&!d&&(u=w.statusCode),w.headers&&(p[x]=w.headers)):(o[x]=w.data,w.statusCode&&w.statusCode!==200&&!d&&(u=w.statusCode),w.headers&&(p[x]=w.headers))}),m!==void 0&&r&&(l={[r[0]]:m},o[r[0]]=void 0),{loaderData:o,errors:l,statusCode:u||200,loaderHeaders:p}}function qw(t,e,n,r,i,s,o,l){let{loaderData:u,errors:d}=jP(e,n,r,i,l);for(let p=0;p<s.length;p++){let{key:m,match:w,controller:b}=s[p];ke(o!==void 0&&o[p]!==void 0,"Did not find corresponding fetcher result");let x=o[p];if(!(b&&b.signal.aborted))if(Kn(x)){let N=Fl(t.matches,w==null?void 0:w.route.id);d&&d[N.route.id]||(d=ft({},d,{[N.route.id]:x.error})),t.fetchers.delete(m)}else if(no(x))ke(!1,"Unhandled fetcher revalidation redirect");else if(to(x))ke(!1,"Unhandled fetcher deferred data");else{let N=Zi(x.data);t.fetchers.set(m,N)}}return{loaderData:u,errors:d}}function Kw(t,e,n,r){let i=ft({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function Gw(t){return t?Kn(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Fl(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Qw(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Tn(t,e){let{pathname:n,routeId:r,method:i,type:s,message:o}=e===void 0?{}:e,l="Unknown Server Error",u="Unknown @remix-run/router error";return t===400?(l="Bad Request",s==="route-discovery"?u='Unable to match URL "'+n+'" - the `children()` function for '+("route `"+r+"` threw the following error:\n"+o):i&&n&&r?u="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?u="defer() is not supported in actions":s==="invalid-body"&&(u="Unable to encode submission body")):t===403?(l="Forbidden",u='Route "'+r+'" does not match URL "'+n+'"'):t===404?(l="Not Found",u='No route matches URL "'+n+'"'):t===405&&(l="Method Not Allowed",i&&n&&r?u="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(u='Invalid request method "'+i.toUpperCase()+'"')),new Hg(t||500,l,new Error(u),!0)}function Yw(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(no(n))return{result:n,idx:e}}}function f2(t){let e=typeof t=="string"?Ns(t):t;return yo(ft({},e,{hash:""}))}function FP(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function UP(t){return typeof t=="object"&&t!=null&&"then"in t}function BP(t){return p2(t.result)&&SP.has(t.result.status)}function to(t){return t.type===et.deferred}function Kn(t){return t.type===et.error}function no(t){return(t&&t.type)===et.redirect}function zP(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function p2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function $P(t){return IP.has(t.toLowerCase())}function Or(t){return EP.has(t.toLowerCase())}async function Xw(t,e,n,r,i,s){for(let o=0;o<n.length;o++){let l=n[o],u=e[o];if(!u)continue;let d=t.find(m=>m.route.id===u.route.id),p=d!=null&&!d2(d,u)&&(s&&s[u.route.id])!==void 0;if(to(l)&&(i||p)){let m=r[o];ke(m,"Expected an AbortSignal for revalidating fetcher deferred result"),await m2(l,m,i).then(w=>{w&&(n[o]=w||n[o])})}}}async function m2(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:et.data,data:t.deferredData.unwrappedData}}catch(i){return{type:et.error,error:i}}return{type:et.data,data:t.deferredData.data}}}function qg(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Il(t,e){let n=typeof e=="string"?Ns(e).search:e.search;if(t[t.length-1].route.index&&qg(n||""))return t[t.length-1];let r=l2(t);return r[r.length-1]}function Jw(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function Xf(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function HP(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function pl(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function WP(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Zi(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function qP(t,e){try{let n=t.sessionStorage.getItem(c2);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function KP(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(c2,JSON.stringify(n))}catch(r){Oa(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.24.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zd(){return zd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zd.apply(this,arguments)}const kh=B.createContext(null),g2=B.createContext(null),No=B.createContext(null),Kg=B.createContext(null),Ds=B.createContext({outlet:null,matches:[],isDataRoute:!1}),v2=B.createContext(null);function GP(t,e){let{relative:n}=e===void 0?{}:e;Du()||ke(!1);let{basename:r,navigator:i}=B.useContext(No),{hash:s,pathname:o,search:l}=w2(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:Ri([r,o])),i.createHref({pathname:u,search:l,hash:s})}function Du(){return B.useContext(Kg)!=null}function Ph(){return Du()||ke(!1),B.useContext(Kg).location}function y2(t){B.useContext(No).static||B.useLayoutEffect(t)}function qa(){let{isDataRoute:t}=B.useContext(Ds);return t?lR():QP()}function QP(){Du()||ke(!1);let t=B.useContext(kh),{basename:e,future:n,navigator:r}=B.useContext(No),{matches:i}=B.useContext(Ds),{pathname:s}=Ph(),o=JSON.stringify(zg(i,n.v7_relativeSplatPath)),l=B.useRef(!1);return y2(()=>{l.current=!0}),B.useCallback(function(d,p){if(p===void 0&&(p={}),!l.current)return;if(typeof d=="number"){r.go(d);return}let m=$g(d,JSON.parse(o),s,p.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Ri([e,m.pathname])),(p.replace?r.replace:r.push)(m,p.state,p)},[e,r,o,s,t])}const YP=B.createContext(null);function XP(t){let e=B.useContext(Ds).outlet;return e&&B.createElement(YP.Provider,{value:t},e)}function w2(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=B.useContext(No),{matches:i}=B.useContext(Ds),{pathname:s}=Ph(),o=JSON.stringify(zg(i,r.v7_relativeSplatPath));return B.useMemo(()=>$g(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function JP(t,e,n,r){Du()||ke(!1);let{navigator:i}=B.useContext(No),{matches:s}=B.useContext(Ds),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let d=Ph(),p;p=d;let m=p.pathname||"/",w=m;if(u!=="/"){let N=u.replace(/^\//,"").split("/");w="/"+m.replace(/^\//,"").split("/").slice(N.length).join("/")}let b=Xs(t,{pathname:w});return rR(b&&b.map(N=>Object.assign({},N,{params:Object.assign({},l,N.params),pathname:Ri([u,i.encodeLocation?i.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?u:Ri([u,i.encodeLocation?i.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),s,n,r)}function ZP(){let t=aR(),e=bh(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),n?B.createElement("pre",{style:i},n):null,null)}const eR=B.createElement(ZP,null);class tR extends B.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?B.createElement(Ds.Provider,{value:this.props.routeContext},B.createElement(v2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function nR(t){let{routeContext:e,match:n,children:r}=t,i=B.useContext(kh);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),B.createElement(Ds.Provider,{value:e},r)}function rR(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let p=o.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);p>=0||ke(!1),o=o.slice(0,Math.min(o.length,p+1))}let u=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<o.length;p++){let m=o[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=p),m.route.id){let{loaderData:w,errors:b}=n,x=m.route.loader&&w[m.route.id]===void 0&&(!b||b[m.route.id]===void 0);if(m.route.lazy||x){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((p,m,w)=>{let b,x=!1,N=null,j=null;n&&(b=l&&m.route.id?l[m.route.id]:void 0,N=m.route.errorElement||eR,u&&(d<0&&w===0?(uR("route-fallback"),x=!0,j=null):d===w&&(x=!0,j=m.route.hydrateFallbackElement||null)));let P=e.concat(o.slice(0,w+1)),T=()=>{let k;return b?k=N:x?k=j:m.route.Component?k=B.createElement(m.route.Component,null):m.route.element?k=m.route.element:k=p,B.createElement(nR,{match:m,routeContext:{outlet:p,matches:P,isDataRoute:n!=null},children:k})};return n&&(m.route.ErrorBoundary||m.route.errorElement||w===0)?B.createElement(tR,{location:n.location,revalidation:n.revalidation,component:N,error:b,children:T(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):T()},null)}var _2=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(_2||{}),$d=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}($d||{});function iR(t){let e=B.useContext(kh);return e||ke(!1),e}function sR(t){let e=B.useContext(g2);return e||ke(!1),e}function oR(t){let e=B.useContext(Ds);return e||ke(!1),e}function E2(t){let e=oR(),n=e.matches[e.matches.length-1];return n.route.id||ke(!1),n.route.id}function aR(){var t;let e=B.useContext(v2),n=sR($d.UseRouteError),r=E2($d.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function lR(){let{router:t}=iR(_2.UseNavigateStable),e=E2($d.UseNavigateStable),n=B.useRef(!1);return y2(()=>{n.current=!0}),B.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,zd({fromRouteId:e},s)))},[t,e])}const Zw={};function uR(t,e,n){Zw[t]||(Zw[t]=!0)}function T2(t){return XP(t.context)}function cR(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Nt.Pop,navigator:s,static:o=!1,future:l}=t;Du()&&ke(!1);let u=e.replace(/^\/*/,"/"),d=B.useMemo(()=>({basename:u,navigator:s,static:o,future:zd({v7_relativeSplatPath:!1},l)}),[u,l,s,o]);typeof r=="string"&&(r=Ns(r));let{pathname:p="/",search:m="",hash:w="",state:b=null,key:x="default"}=r,N=B.useMemo(()=>{let j=Wa(p,u);return j==null?null:{location:{pathname:j,search:m,hash:w,state:b,key:x},navigationType:i}},[u,p,m,w,b,x,i]);return N==null?null:B.createElement(No.Provider,{value:d},B.createElement(Kg.Provider,{children:n,value:N}))}new Promise(()=>{});function dR(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:B.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:B.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:B.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.24.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mu(){return mu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mu.apply(this,arguments)}function hR(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function fR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function pR(t,e){return t.button===0&&(!e||e==="_self")&&!fR(t)}const mR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],gR="6";try{window.__reactRouterVersion=gR}catch{}function vR(t,e){return kP({basename:void 0,future:mu({},void 0,{v7_prependBasename:!0}),history:Jk({window:void 0}),hydrationData:yR(),routes:t,mapRouteProperties:dR,unstable_dataStrategy:void 0,unstable_patchRoutesOnMiss:void 0,window:void 0}).initialize()}function yR(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=mu({},e,{errors:wR(e.errors)})),e}function wR(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Hg(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const _R=B.createContext({isTransitioning:!1}),ER=B.createContext(new Map),TR="startTransition",e0=tA[TR],IR="flushSync",t0=fk[IR];function SR(t){e0?e0(t):t()}function ml(t){t0?t0(t):t()}let CR=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function AR(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=B.useState(n.state),[o,l]=B.useState(),[u,d]=B.useState({isTransitioning:!1}),[p,m]=B.useState(),[w,b]=B.useState(),[x,N]=B.useState(),j=B.useRef(new Map),{v7_startTransition:P}=r||{},T=B.useCallback(A=>{P?SR(A):A()},[P]),k=B.useCallback((A,E)=>{let{deletedFetchers:S,unstable_flushSync:C,unstable_viewTransitionOpts:D}=E;S.forEach(R=>j.current.delete(R)),A.fetchers.forEach((R,Se)=>{R.data!==void 0&&j.current.set(Se,R.data)});let V=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!D||V){C?ml(()=>s(A)):T(()=>s(A));return}if(C){ml(()=>{w&&(p&&p.resolve(),w.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:D.currentLocation,nextLocation:D.nextLocation})});let R=n.window.document.startViewTransition(()=>{ml(()=>s(A))});R.finished.finally(()=>{ml(()=>{m(void 0),b(void 0),l(void 0),d({isTransitioning:!1})})}),ml(()=>b(R));return}w?(p&&p.resolve(),w.skipTransition(),N({state:A,currentLocation:D.currentLocation,nextLocation:D.nextLocation})):(l(A),d({isTransitioning:!0,flushSync:!1,currentLocation:D.currentLocation,nextLocation:D.nextLocation}))},[n.window,w,p,j,T]);B.useLayoutEffect(()=>n.subscribe(k),[n,k]),B.useEffect(()=>{u.isTransitioning&&!u.flushSync&&m(new CR)},[u]),B.useEffect(()=>{if(p&&o&&n.window){let A=o,E=p.promise,S=n.window.document.startViewTransition(async()=>{T(()=>s(A)),await E});S.finished.finally(()=>{m(void 0),b(void 0),l(void 0),d({isTransitioning:!1})}),b(S)}},[T,o,p,n.window]),B.useEffect(()=>{p&&o&&i.location.key===o.location.key&&p.resolve()},[p,w,i.location,o]),B.useEffect(()=>{!u.isTransitioning&&x&&(l(x.state),d({isTransitioning:!0,flushSync:!1,currentLocation:x.currentLocation,nextLocation:x.nextLocation}),N(void 0))},[u.isTransitioning,x]),B.useEffect(()=>{},[]);let F=B.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:A=>n.navigate(A),push:(A,E,S)=>n.navigate(A,{state:E,preventScrollReset:S==null?void 0:S.preventScrollReset}),replace:(A,E,S)=>n.navigate(A,{replace:!0,state:E,preventScrollReset:S==null?void 0:S.preventScrollReset})}),[n]),G=n.basename||"/",L=B.useMemo(()=>({router:n,navigator:F,static:!1,basename:G}),[n,F,G]);return B.createElement(B.Fragment,null,B.createElement(kh.Provider,{value:L},B.createElement(g2.Provider,{value:i},B.createElement(ER.Provider,{value:j.current},B.createElement(_R.Provider,{value:u},B.createElement(cR,{basename:G,location:i.location,navigationType:i.historyAction,navigator:F,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},i.initialized||n.future.v7_partialHydration?B.createElement(bR,{routes:n.routes,future:n.future,state:i}):e))))),null)}function bR(t){let{routes:e,future:n,state:r}=t;return JP(e,void 0,r,n)}const kR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",PR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mt=B.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:u,to:d,preventScrollReset:p,unstable_viewTransition:m}=e,w=hR(e,mR),{basename:b}=B.useContext(No),x,N=!1;if(typeof d=="string"&&PR.test(d)&&(x=d,kR))try{let k=new URL(window.location.href),F=d.startsWith("//")?new URL(k.protocol+d):new URL(d),G=Wa(F.pathname,b);F.origin===k.origin&&G!=null?d=G+F.search+F.hash:N=!0}catch{}let j=GP(d,{relative:i}),P=RR(d,{replace:o,state:l,target:u,preventScrollReset:p,relative:i,unstable_viewTransition:m});function T(k){r&&r(k),k.defaultPrevented||P(k)}return B.createElement("a",mu({},w,{href:x||j,onClick:N||s?r:T,ref:n,target:u}))});var n0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(n0||(n0={}));var r0;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(r0||(r0={}));function RR(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:l}=e===void 0?{}:e,u=qa(),d=Ph(),p=w2(t,{relative:o});return B.useCallback(m=>{if(pR(m,n)){m.preventDefault();let w=r!==void 0?r:yo(d)===yo(p);u(t,{replace:w,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:l})}},[d,u,p,r,i,n,t,s,o,l])}var i0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},xR=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},S2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,u=i+2<t.length,d=u?t[i+2]:0,p=s>>2,m=(s&3)<<4|l>>4;let w=(l&15)<<2|d>>6,b=d&63;u||(b=64,o||(w=64)),r.push(n[p],n[m],n[w],n[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(I2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):xR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||d==null||m==null)throw new NR;const w=s<<2|l>>4;if(r.push(w),d!==64){const b=l<<4&240|d>>2;if(r.push(b),m!==64){const x=d<<6&192|m;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class NR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const DR=function(t){const e=I2(t);return S2.encodeByteArray(e,!0)},Hd=function(t){return DR(t).replace(/\./g,"")},C2=function(t){try{return S2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR=()=>OR().__FIREBASE_DEFAULTS__,MR=()=>{if(typeof process>"u"||typeof i0>"u")return;const t=i0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},VR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&C2(t[1]);return e&&JSON.parse(e)},Rh=()=>{try{return LR()||MR()||VR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},A2=t=>{var e,n;return(n=(e=Rh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},b2=t=>{const e=A2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},k2=()=>{var t;return(t=Rh())===null||t===void 0?void 0:t.config},P2=t=>{var e;return(e=Rh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Hd(JSON.stringify(n)),Hd(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function FR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function UR(){var t;const e=(t=Rh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function x2(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function BR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zR(){const t=sn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function $R(){return!UR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function N2(){try{return typeof indexedDB=="object"}catch{return!1}}function D2(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function HR(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR="FirebaseError";class Er extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=WR,Object.setPrototypeOf(this,Er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Do.prototype.create)}}class Do{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?qR(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Er(i,l,r)}}function qR(t,e){return t.replace(KR,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const KR=/\{\$([^}]+)}/g;function GR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function gu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(s0(s)&&s0(o)){if(!gu(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function s0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ou(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Sl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Cl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function QR(t,e){const n=new YR(t,e);return n.subscribe.bind(n)}class YR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");XR(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Jf),i.error===void 0&&(i.error=Jf),i.complete===void 0&&(i.complete=Jf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function XR(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Jf(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=1e3,ZR=2,ex=4*60*60*1e3,tx=.5;function o0(t,e=JR,n=ZR){const r=e*Math.pow(n,t),i=Math.round(tx*r*(Math.random()-.5)*2);return Math.min(ex,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(t){return t&&t._delegate?t._delegate:t}class wr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new jR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ix(e))try{this.getOrInitializeService({instanceIdentifier:Ys})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ys){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ys){return this.instances.has(e)}getOptions(e=Ys){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:rx(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ys){return this.component?this.component.multipleInstances?e:Ys:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rx(t){return t===Ys?void 0:t}function ix(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new nx(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Le||(Le={}));const ox={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},ax=Le.INFO,lx={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},ux=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=lx[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xh{constructor(e){this.name=e,this._logLevel=ax,this._logHandler=ux,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ox[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const cx=(t,e)=>e.some(n=>t instanceof n);let a0,l0;function dx(){return a0||(a0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hx(){return l0||(l0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const O2=new WeakMap,mm=new WeakMap,L2=new WeakMap,Zf=new WeakMap,Gg=new WeakMap;function fx(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(_s(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&O2.set(n,t)}).catch(()=>{}),Gg.set(e,t),e}function px(t){if(mm.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});mm.set(t,e)}let gm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return mm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||L2.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _s(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function mx(t){gm=t(gm)}function gx(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ep(this),e,...n);return L2.set(r,e.sort?e.sort():[e]),_s(r)}:hx().includes(t)?function(...e){return t.apply(ep(this),e),_s(O2.get(this))}:function(...e){return _s(t.apply(ep(this),e))}}function vx(t){return typeof t=="function"?gx(t):(t instanceof IDBTransaction&&px(t),cx(t,dx())?new Proxy(t,gm):t)}function _s(t){if(t instanceof IDBRequest)return fx(t);if(Zf.has(t))return Zf.get(t);const e=vx(t);return e!==t&&(Zf.set(t,e),Gg.set(e,t)),e}const ep=t=>Gg.get(t);function M2(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=_s(o);return r&&o.addEventListener("upgradeneeded",u=>{r(_s(o.result),u.oldVersion,u.newVersion,_s(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const yx=["get","getKey","getAll","getAllKeys","count"],wx=["put","add","delete","clear"],tp=new Map;function u0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(tp.get(e))return tp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=wx.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||yx.includes(n)))return;const s=async function(o,...l){const u=this.transaction(o,i?"readwrite":"readonly");let d=u.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),i&&u.done]))[0]};return tp.set(e,s),s}mx(t=>({...t,get:(e,n,r)=>u0(e,n)||t.get(e,n,r),has:(e,n)=>!!u0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Ex(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Ex(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const vm="@firebase/app",c0="0.10.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo=new xh("@firebase/app"),Tx="@firebase/app-compat",Ix="@firebase/analytics-compat",Sx="@firebase/analytics",Cx="@firebase/app-check-compat",Ax="@firebase/app-check",bx="@firebase/auth",kx="@firebase/auth-compat",Px="@firebase/database",Rx="@firebase/database-compat",xx="@firebase/functions",Nx="@firebase/functions-compat",Dx="@firebase/installations",Ox="@firebase/installations-compat",Lx="@firebase/messaging",Mx="@firebase/messaging-compat",Vx="@firebase/performance",jx="@firebase/performance-compat",Fx="@firebase/remote-config",Ux="@firebase/remote-config-compat",Bx="@firebase/storage",zx="@firebase/storage-compat",$x="@firebase/firestore",Hx="@firebase/vertexai-preview",Wx="@firebase/firestore-compat",qx="firebase",Kx="10.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym="[DEFAULT]",Gx={[vm]:"fire-core",[Tx]:"fire-core-compat",[Sx]:"fire-analytics",[Ix]:"fire-analytics-compat",[Ax]:"fire-app-check",[Cx]:"fire-app-check-compat",[bx]:"fire-auth",[kx]:"fire-auth-compat",[Px]:"fire-rtdb",[Rx]:"fire-rtdb-compat",[xx]:"fire-fn",[Nx]:"fire-fn-compat",[Dx]:"fire-iid",[Ox]:"fire-iid-compat",[Lx]:"fire-fcm",[Mx]:"fire-fcm-compat",[Vx]:"fire-perf",[jx]:"fire-perf-compat",[Fx]:"fire-rc",[Ux]:"fire-rc-compat",[Bx]:"fire-gcs",[zx]:"fire-gcs-compat",[$x]:"fire-fst",[Wx]:"fire-fst-compat",[Hx]:"fire-vertex","fire-js":"fire-js",[qx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wd=new Map,Qx=new Map,wm=new Map;function d0(t,e){try{t.container.addComponent(e)}catch(n){wo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Br(t){const e=t.name;if(wm.has(e))return wo.debug(`There were multiple attempts to register component ${e}.`),!1;wm.set(e,t);for(const n of Wd.values())d0(n,t);for(const n of Qx.values())d0(n,t);return!0}function Os(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Mr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Es=new Do("app","Firebase",Yx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new wr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Es.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo=Kx;function V2(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ym,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Es.create("bad-app-name",{appName:String(i)});if(n||(n=k2()),!n)throw Es.create("no-options");const s=Wd.get(i);if(s){if(gu(n,s.options)&&gu(r,s.config))return s;throw Es.create("duplicate-app",{appName:i})}const o=new sx(i);for(const u of wm.values())o.addComponent(u);const l=new Xx(n,r,o);return Wd.set(i,l),l}function Nh(t=ym){const e=Wd.get(t);if(!e&&t===ym&&k2())return V2();if(!e)throw Es.create("no-app",{appName:t});return e}function Bn(t,e,n){var r;let i=(r=Gx[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),wo.warn(l.join(" "));return}Br(new wr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx="firebase-heartbeat-database",Zx=1,vu="firebase-heartbeat-store";let np=null;function j2(){return np||(np=M2(Jx,Zx,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(vu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Es.create("idb-open",{originalErrorMessage:t.message})})),np}async function e4(t){try{const n=(await j2()).transaction(vu),r=await n.objectStore(vu).get(F2(t));return await n.done,r}catch(e){if(e instanceof Er)wo.warn(e.message);else{const n=Es.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});wo.warn(n.message)}}}async function h0(t,e){try{const r=(await j2()).transaction(vu,"readwrite");await r.objectStore(vu).put(e,F2(t)),await r.done}catch(n){if(n instanceof Er)wo.warn(n.message);else{const r=Es.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});wo.warn(r.message)}}}function F2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t4=1024,n4=30*24*60*60*1e3;class r4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new s4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=f0();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=n4}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=f0(),{heartbeatsToSend:r,unsentEntries:i}=i4(this._heartbeatsCache.heartbeats),s=Hd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function f0(){return new Date().toISOString().substring(0,10)}function i4(t,e=t4){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),p0(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),p0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class s4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return N2()?D2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await e4(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return h0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return h0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function p0(t){return Hd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o4(t){Br(new wr("platform-logger",e=>new _x(e),"PRIVATE")),Br(new wr("heartbeat",e=>new r4(e),"PRIVATE")),Bn(vm,c0,t),Bn(vm,c0,"esm2017"),Bn("fire-js","")}o4("");var a4="firebase",l4="10.12.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bn(a4,l4,"app");function Qg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function U2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const u4=U2,B2=new Do("auth","Firebase",U2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qd=new xh("@firebase/auth");function c4(t,...e){qd.logLevel<=Le.WARN&&qd.warn(`Auth (${Oo}): ${t}`,...e)}function id(t,...e){qd.logLevel<=Le.ERROR&&qd.error(`Auth (${Oo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(t,...e){throw Xg(t,...e)}function Fr(t,...e){return Xg(t,...e)}function Yg(t,e,n){const r=Object.assign(Object.assign({},u4()),{[e]:n});return new Do("auth","Firebase",r).create(e,{appName:t.name})}function xi(t){return Yg(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function d4(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&_r(t,"argument-error"),Yg(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Xg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return B2.create(t,...e)}function me(t,e,...n){if(!t)throw Xg(e,...n)}function Ai(t){const e="INTERNAL ASSERTION FAILED: "+t;throw id(e),new Error(e)}function Vi(t,e){t||Ai(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function h4(){return m0()==="http:"||m0()==="https:"}function m0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(h4()||x2()||"connection"in navigator)?navigator.onLine:!0}function p4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Vi(n>e,"Short delay should be less than long delay!"),this.isMobile=FR()||BR()}get(){return f4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jg(t,e){Vi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ai("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ai("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ai("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4=new Lu(3e4,6e4);function Bi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function zi(t,e,n,r,i={}){return $2(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const l=Ou(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),z2.fetch()(H2(t,t.config.apiHost,n,l),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))})}async function $2(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},m4),e);try{const i=new y4(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Mc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[u,d]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mc(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Mc(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Mc(t,"user-disabled",o);const p=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Yg(t,p,d);_r(t,p)}}catch(i){if(i instanceof Er)throw i;_r(t,"network-request-failed",{message:String(i)})}}async function Mu(t,e,n,r,i={}){const s=await zi(t,e,n,r,i);return"mfaPendingCredential"in s&&_r(t,"multi-factor-auth-required",{_serverResponse:s}),s}function H2(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Jg(t.config,i):`${t.config.apiScheme}://${i}`}function v4(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class y4{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Fr(this.auth,"network-request-failed")),g4.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Mc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Fr(t,e,r);return i.customData._tokenResponse=n,i}function g0(t){return t!==void 0&&t.enterprise!==void 0}class w4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return v4(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function _4(t,e){return zi(t,"GET","/v2/recaptchaConfig",Bi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E4(t,e){return zi(t,"POST","/v1/accounts:delete",e)}async function W2(t,e){return zi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ul(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function T4(t,e=!1){const n=at(t),r=await n.getIdToken(e),i=Zg(r);me(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ul(rp(i.auth_time)),issuedAtTime:Ul(rp(i.iat)),expirationTime:Ul(rp(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function rp(t){return Number(t)*1e3}function Zg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return id("JWT malformed, contained fewer than 3 sections"),null;try{const i=C2(n);return i?JSON.parse(i):(id("Failed to decode base64 JWT payload"),null)}catch(i){return id("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function v0(t){const e=Zg(t);return me(e,"internal-error"),me(typeof e.exp<"u","internal-error"),me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Er&&I4(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function I4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ul(this.lastLoginAt),this.creationTime=Ul(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await yu(t,W2(n,{idToken:r}));me(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?q2(s.providerUserInfo):[],l=A4(t.providerData,o),u=t.isAnonymous,d=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),p=u?d:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new Em(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(t,m)}async function C4(t){const e=at(t);await Kd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function A4(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function q2(t){return t.map(e=>{var{providerId:n}=e,r=Qg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b4(t,e){const n=await $2(t,{},async()=>{const r=Ou({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=H2(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",z2.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function k4(t,e){return zi(t,"POST","/v2/accounts:revokeToken",Bi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){me(e.idToken,"internal-error"),me(typeof e.idToken<"u","internal-error"),me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):v0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){me(e.length!==0,"internal-error");const n=v0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await b4(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new _a;return r&&(me(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(me(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(me(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _a,this.toJSON())}_performRefresh(){return Ai("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(t,e){me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class bi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Qg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new S4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Em(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await yu(this,this.stsTokenManager.getToken(this.auth,e));return me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return T4(this,e)}reload(){return C4(this)}_assign(e){this!==e&&(me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new bi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Kd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mr(this.auth.app))return Promise.reject(xi(this.auth));const e=await this.getIdToken();return await yu(this,E4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,l,u,d,p;const m=(r=n.displayName)!==null&&r!==void 0?r:void 0,w=(i=n.email)!==null&&i!==void 0?i:void 0,b=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,x=(o=n.photoURL)!==null&&o!==void 0?o:void 0,N=(l=n.tenantId)!==null&&l!==void 0?l:void 0,j=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,P=(d=n.createdAt)!==null&&d!==void 0?d:void 0,T=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:k,emailVerified:F,isAnonymous:G,providerData:L,stsTokenManager:A}=n;me(k&&A,e,"internal-error");const E=_a.fromJSON(this.name,A);me(typeof k=="string",e,"internal-error"),Ji(m,e.name),Ji(w,e.name),me(typeof F=="boolean",e,"internal-error"),me(typeof G=="boolean",e,"internal-error"),Ji(b,e.name),Ji(x,e.name),Ji(N,e.name),Ji(j,e.name),Ji(P,e.name),Ji(T,e.name);const S=new bi({uid:k,auth:e,email:w,emailVerified:F,displayName:m,isAnonymous:G,photoURL:x,phoneNumber:b,tenantId:N,stsTokenManager:E,createdAt:P,lastLoginAt:T});return L&&Array.isArray(L)&&(S.providerData=L.map(C=>Object.assign({},C))),j&&(S._redirectEventId=j),S}static async _fromIdTokenResponse(e,n,r=!1){const i=new _a;i.updateFromServerResponse(n);const s=new bi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Kd(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];me(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?q2(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),l=new _a;l.updateFromIdToken(r);const u=new bi({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Em(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,d),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0=new Map;function ki(t){Vi(t instanceof Function,"Expected a class definition");let e=y0.get(t);return e?(Vi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,y0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}K2.type="NONE";const w0=K2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sd(t,e,n){return`firebase:${t}:${e}:${n}`}class Ea{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=sd(this.userKey,i.apiKey,s),this.fullPersistenceKey=sd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?bi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ea(ki(w0),e,r);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let s=i[0]||ki(w0);const o=sd(r,e.config.apiKey,e.name);let l=null;for(const d of n)try{const p=await d._get(o);if(p){const m=bi._fromJSON(e,p);d!==s&&(l=m),s=d;break}}catch{}const u=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Ea(s,e,r):(s=u[0],l&&await s._set(o,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==s)try{await d._remove(o)}catch{}})),new Ea(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Y2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(G2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(J2(e))return"Blackberry";if(Z2(e))return"Webos";if(ev(e))return"Safari";if((e.includes("chrome/")||Q2(e))&&!e.includes("edge/"))return"Chrome";if(X2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function G2(t=sn()){return/firefox\//i.test(t)}function ev(t=sn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Q2(t=sn()){return/crios\//i.test(t)}function Y2(t=sn()){return/iemobile/i.test(t)}function X2(t=sn()){return/android/i.test(t)}function J2(t=sn()){return/blackberry/i.test(t)}function Z2(t=sn()){return/webos/i.test(t)}function Dh(t=sn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function P4(t=sn()){var e;return Dh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function R4(){return zR()&&document.documentMode===10}function eT(t=sn()){return Dh(t)||X2(t)||Z2(t)||J2(t)||/windows phone/i.test(t)||Y2(t)}function x4(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(t,e=[]){let n;switch(t){case"Browser":n=_0(sn());break;case"Worker":n=`${_0(sn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Oo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,l)=>{try{const u=e(s);o(u)}catch(u){l(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D4(t,e={}){return zi(t,"GET","/v2/passwordPolicy",Bi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4=6;class L4{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:O4,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new E0(this),this.idTokenSubscription=new E0(this),this.beforeStateQueue=new N4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=B2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ki(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ea.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await W2(this,{idToken:e}),r=await bi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Mr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===l)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Kd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=p4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Mr(this.app))return Promise.reject(xi(this));const n=e?at(e):null;return n&&me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Mr(this.app)?Promise.reject(xi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Mr(this.app)?Promise.reject(xi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ki(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await D4(this),n=new L4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Do("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await k4(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ki(e)||this._popupRedirectResolver;me(n,this,"argument-error"),this.redirectPersistenceManager=await Ea.create(this,[ki(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(me(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&c4(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function $i(t){return at(t)}class E0{constructor(e){this.auth=e,this.observer=null,this.addObserver=QR(n=>this.observer=n)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function V4(t){Oh=t}function nT(t){return Oh.loadJS(t)}function j4(){return Oh.recaptchaEnterpriseScript}function F4(){return Oh.gapiScript}function U4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const B4="recaptcha-enterprise",z4="NO_RECAPTCHA";class $4{constructor(e){this.type=B4,this.auth=$i(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,l)=>{_4(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new w4(u);return s.tenantId==null?s._agentRecaptchaConfig=d:s._tenantRecaptchaConfigs[s.tenantId]=d,o(d.siteKey)}}).catch(u=>{l(u)})})}function i(s,o,l){const u=window.grecaptcha;g0(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(d=>{o(d)}).catch(()=>{o(z4)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(l=>{if(!n&&g0(window.grecaptcha))i(l,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=j4();u.length!==0&&(u+=l),nT(u).then(()=>{i(l,s,o)}).catch(d=>{o(d)})}}).catch(l=>{o(l)})})}}async function T0(t,e,n,r=!1){const i=new $4(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Gd(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await T0(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await T0(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H4(t,e){const n=Os(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(gu(s,e??{}))return i;_r(i,"already-initialized")}return n.initialize({options:e})}function W4(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ki);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function q4(t,e,n){const r=$i(t);me(r._canInitEmulator,r,"emulator-config-failed"),me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=rT(e),{host:o,port:l}=K4(e),u=l===null?"":`:${l}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),G4()}function rT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function K4(t){const e=rT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:I0(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:I0(o)}}}function I0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function G4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ai("not implemented")}_getIdTokenResponse(e){return Ai("not implemented")}_linkToIdToken(e,n){return Ai("not implemented")}_getReauthenticationResolver(e){return Ai("not implemented")}}async function Q4(t,e){return zi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y4(t,e){return Mu(t,"POST","/v1/accounts:signInWithPassword",Bi(t,e))}async function X4(t,e){return zi(t,"POST","/v1/accounts:sendOobCode",Bi(t,e))}async function J4(t,e){return X4(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z4(t,e){return Mu(t,"POST","/v1/accounts:signInWithEmailLink",Bi(t,e))}async function eN(t,e){return Mu(t,"POST","/v1/accounts:signInWithEmailLink",Bi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu extends tv{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new wu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new wu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gd(e,n,"signInWithPassword",Y4);case"emailLink":return Z4(e,{email:this._email,oobCode:this._password});default:_r(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gd(e,r,"signUpPassword",Q4);case"emailLink":return eN(e,{idToken:n,email:this._email,oobCode:this._password});default:_r(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ta(t,e){return Mu(t,"POST","/v1/accounts:signInWithIdp",Bi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN="http://localhost";class _o extends tv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new _o(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):_r("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Qg(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new _o(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ta(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ta(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ta(e,n)}buildRequest(){const e={requestUri:tN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ou(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nN(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function rN(t){const e=Sl(Cl(t)).link,n=e?Sl(Cl(e)).deep_link_id:null,r=Sl(Cl(t)).deep_link_id;return(r?Sl(Cl(r)).link:null)||r||n||e||t}class nv{constructor(e){var n,r,i,s,o,l;const u=Sl(Cl(e)),d=(n=u.apiKey)!==null&&n!==void 0?n:null,p=(r=u.oobCode)!==null&&r!==void 0?r:null,m=nN((i=u.mode)!==null&&i!==void 0?i:null);me(d&&p&&m,"argument-error"),this.apiKey=d,this.operation=m,this.code=p,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=u.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=rN(e);try{return new nv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(){this.providerId=Ka.PROVIDER_ID}static credential(e,n){return wu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=nv.parseLink(n);return me(r,"argument-error"),wu._fromEmailAndCode(e,r.code,r.tenantId)}}Ka.PROVIDER_ID="password";Ka.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ka.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu extends rv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends Vu{constructor(){super("facebook.com")}static credential(e){return _o._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return is.credential(e.oauthAccessToken)}catch{return null}}}is.FACEBOOK_SIGN_IN_METHOD="facebook.com";is.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti extends Vu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return _o._fromParams({providerId:ti.PROVIDER_ID,signInMethod:ti.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ti.credentialFromTaggedObject(e)}static credentialFromError(e){return ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ti.credential(n,r)}catch{return null}}}ti.GOOGLE_SIGN_IN_METHOD="google.com";ti.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends Vu{constructor(){super("github.com")}static credential(e){return _o._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ss.credential(e.oauthAccessToken)}catch{return null}}}ss.GITHUB_SIGN_IN_METHOD="github.com";ss.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends Vu{constructor(){super("twitter.com")}static credential(e,n){return _o._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return os.credential(n,r)}catch{return null}}}os.TWITTER_SIGN_IN_METHOD="twitter.com";os.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iN(t,e){return Mu(t,"POST","/v1/accounts:signUp",Bi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await bi._fromIdTokenResponse(e,r,i),o=S0(r);return new Eo({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=S0(r);return new Eo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function S0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd extends Er{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Qd.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Qd(e,n,r,i)}}function iT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Qd._fromErrorAndOperation(t,s,e,r):s})}async function sN(t,e,n=!1){const r=await yu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Eo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oN(t,e,n=!1){const{auth:r}=t;if(Mr(r.app))return Promise.reject(xi(r));const i="reauthenticate";try{const s=await yu(t,iT(r,i,e,t),n);me(s.idToken,r,"internal-error");const o=Zg(s.idToken);me(o,r,"internal-error");const{sub:l}=o;return me(t.uid===l,r,"user-mismatch"),Eo._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&_r(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sT(t,e,n=!1){if(Mr(t.app))return Promise.reject(xi(t));const r="signIn",i=await iT(t,r,e),s=await Eo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function aN(t,e){return sT($i(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oT(t){const e=$i(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function lN(t,e,n){const r=$i(t);await Gd(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",J4)}async function aT(t,e,n){if(Mr(t.app))return Promise.reject(xi(t));const r=$i(t),o=await Gd(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",iN).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&oT(t),u}),l=await Eo._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function lT(t,e,n){return Mr(t.app)?Promise.reject(xi(t)):aN(at(t),Ka.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&oT(t),r})}function uN(t,e,n,r){return at(t).onIdTokenChanged(e,n,r)}function cN(t,e,n){return at(t).beforeAuthStateChanged(e,n)}function dN(t,e,n,r){return at(t).onAuthStateChanged(e,n,r)}function hN(t){return at(t).signOut()}const Yd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Yd,"1"),this.storage.removeItem(Yd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(){const t=sn();return ev(t)||Dh(t)}const pN=1e3,mN=10;class cT extends uT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=fN()&&x4(),this.fallbackToPolling=eT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,u)=>{this.notifyListeners(o,u)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);R4()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,mN):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},pN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}cT.type="LOCAL";const gN=cT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT extends uT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}dT.type="SESSION";const hT=dT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vN(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Lh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async d=>d(n.origin,s)),u=await vN(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Lh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,u)=>{const d=iv("",20);i.port1.start();const p=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(m){const w=m;if(w.data.eventId===d)switch(w.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(w.data.response);break;default:clearTimeout(p),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(){return window}function wN(t){si().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(){return typeof si().WorkerGlobalScope<"u"&&typeof si().importScripts=="function"}async function _N(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function EN(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function TN(){return fT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT="firebaseLocalStorageDb",IN=1,Xd="firebaseLocalStorage",mT="fbase_key";class ju{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Mh(t,e){return t.transaction([Xd],e?"readwrite":"readonly").objectStore(Xd)}function SN(){const t=indexedDB.deleteDatabase(pT);return new ju(t).toPromise()}function Tm(){const t=indexedDB.open(pT,IN);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Xd,{keyPath:mT})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Xd)?e(r):(r.close(),await SN(),e(await Tm()))})})}async function C0(t,e,n){const r=Mh(t,!0).put({[mT]:e,value:n});return new ju(r).toPromise()}async function CN(t,e){const n=Mh(t,!1).get(e),r=await new ju(n).toPromise();return r===void 0?null:r.value}function A0(t,e){const n=Mh(t,!0).delete(e);return new ju(n).toPromise()}const AN=800,bN=3;class gT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Tm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>bN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return fT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Lh._getInstance(TN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await _N(),!this.activeServiceWorker)return;this.sender=new yN(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||EN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Tm();return await C0(e,Yd,"1"),await A0(e,Yd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>C0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>CN(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>A0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Mh(i,!1).getAll();return new ju(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),AN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}gT.type="LOCAL";const kN=gT;new Lu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(t,e){return e?ki(e):(me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv extends tv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ta(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ta(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ta(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function PN(t){return sT(t.auth,new sv(t),t.bypassAuthState)}function RN(t){const{auth:e,user:n}=t;return me(n,e,"internal-error"),oN(n,new sv(t),t.bypassAuthState)}async function xN(t){const{auth:e,user:n}=t;return me(n,e,"internal-error"),sN(n,new sv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return PN;case"linkViaPopup":case"linkViaRedirect":return xN;case"reauthViaPopup":case"reauthViaRedirect":return RN;default:_r(this.auth,"internal-error")}}resolve(e){Vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN=new Lu(2e3,1e4);async function wT(t,e,n){if(Mr(t.app))return Promise.reject(Fr(t,"operation-not-supported-in-this-environment"));const r=$i(t);d4(t,e,rv);const i=vT(r,n);return new ro(r,"signInViaPopup",e,i).executeNotNull()}class ro extends yT{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ro.currentPopupAction&&ro.currentPopupAction.cancel(),ro.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return me(e,this.auth,"internal-error"),e}async onExecution(){Vi(this.filter.length===1,"Popup operations only handle one event");const e=iv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Fr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Fr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ro.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,NN.get())};e()}}ro.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN="pendingRedirect",od=new Map;class ON extends yT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=od.get(this.auth._key());if(!e){try{const r=await LN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}od.set(this.auth._key(),e)}return this.bypassAuthState||od.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function LN(t,e){const n=jN(e),r=VN(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function MN(t,e){od.set(t._key(),e)}function VN(t){return ki(t._redirectPersistence)}function jN(t){return sd(DN,t.config.apiKey,t.name)}async function FN(t,e,n=!1){if(Mr(t.app))return Promise.reject(xi(t));const r=$i(t),i=vT(r,e),o=await new ON(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN=10*60*1e3;class BN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!zN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!_T(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Fr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=UN&&this.cachedEventUids.clear(),this.cachedEventUids.has(b0(e))}saveEventToCache(e){this.cachedEventUids.add(b0(e)),this.lastProcessedEventTime=Date.now()}}function b0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function _T({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function zN(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _T(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $N(t,e={}){return zi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,WN=/^https?/;async function qN(t){if(t.config.emulator)return;const{authorizedDomains:e}=await $N(t);for(const n of e)try{if(KN(n))return}catch{}_r(t,"unauthorized-domain")}function KN(t){const e=_m(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!WN.test(n))return!1;if(HN.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN=new Lu(3e4,6e4);function k0(){const t=si().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function QN(t){return new Promise((e,n)=>{var r,i,s;function o(){k0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{k0(),n(Fr(t,"network-request-failed"))},timeout:GN.get()})}if(!((i=(r=si().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=si().gapi)===null||s===void 0)&&s.load)o();else{const l=U4("iframefcb");return si()[l]=()=>{gapi.load?o():n(Fr(t,"network-request-failed"))},nT(`${F4()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw ad=null,e})}let ad=null;function YN(t){return ad=ad||QN(t),ad}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN=new Lu(5e3,15e3),JN="__/auth/iframe",ZN="emulator/auth/iframe",eD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nD(t){const e=t.config;me(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Jg(e,ZN):`https://${t.config.authDomain}/${JN}`,r={apiKey:e.apiKey,appName:t.name,v:Oo},i=tD.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ou(r).slice(1)}`}async function rD(t){const e=await YN(t),n=si().gapi;return me(n,t,"internal-error"),e.open({where:document.body,url:nD(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:eD,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Fr(t,"network-request-failed"),l=si().setTimeout(()=>{s(o)},XN.get());function u(){si().clearTimeout(l),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sD=500,oD=600,aD="_blank",lD="http://localhost";class P0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function uD(t,e,n,r=sD,i=oD){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const u=Object.assign(Object.assign({},iD),{width:r.toString(),height:i.toString(),top:s,left:o}),d=sn().toLowerCase();n&&(l=Q2(d)?aD:n),G2(d)&&(e=e||lD,u.scrollbars="yes");const p=Object.entries(u).reduce((w,[b,x])=>`${w}${b}=${x},`,"");if(P4(d)&&l!=="_self")return cD(e||"",l),new P0(null);const m=window.open(e||"",l,p);me(m,t,"popup-blocked");try{m.focus()}catch{}return new P0(m)}function cD(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD="__/auth/handler",hD="emulator/auth/handler",fD=encodeURIComponent("fac");async function R0(t,e,n,r,i,s){me(t.config.authDomain,t,"auth-domain-config-required"),me(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Oo,eventId:i};if(e instanceof rv){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",GR(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,m]of Object.entries({}))o[p]=m}if(e instanceof Vu){const p=e.getScopes().filter(m=>m!=="");p.length>0&&(o.scopes=p.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const p of Object.keys(l))l[p]===void 0&&delete l[p];const u=await t._getAppCheckToken(),d=u?`#${fD}=${encodeURIComponent(u)}`:"";return`${pD(t)}?${Ou(l).slice(1)}${d}`}function pD({config:t}){return t.emulator?Jg(t,hD):`https://${t.authDomain}/${dD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip="webStorageSupport";class mD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hT,this._completeRedirectFn=FN,this._overrideRedirectResult=MN}async _openPopup(e,n,r,i){var s;Vi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await R0(e,n,r,_m(),i);return uD(e,o,iv())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await R0(e,n,r,_m(),i);return wN(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Vi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await rD(e),r=new BN(e);return n.register("authEvent",i=>(me(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ip,{type:ip},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[ip];o!==void 0&&n(!!o),_r(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=qN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return eT()||ev()||Dh()}}const gD=mD;var x0="@firebase/auth",N0="1.7.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wD(t){Br(new wr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;me(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tT(t)},d=new M4(r,i,s,u);return W4(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Br(new wr("auth-internal",e=>{const n=$i(e.getProvider("auth").getImmediate());return(r=>new vD(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Bn(x0,N0,yD(t)),Bn(x0,N0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D=5*60,ED=P2("authIdTokenMaxAge")||_D;let D0=null;const TD=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>ED)return;const i=n==null?void 0:n.token;D0!==i&&(D0=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function ID(t=Nh()){const e=Os(t,"auth");if(e.isInitialized())return e.getImmediate();const n=H4(t,{popupRedirectResolver:gD,persistence:[kN,gN,hT]}),r=P2("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=TD(s.toString());cN(n,o,()=>o(n.currentUser)),uN(n,l=>o(l))}}const i=A2("auth");return i&&q4(n,`http://${i}`),n}function SD(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}V4({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Fr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",SD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});wD("Browser");var O0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lo,ET;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,E){function S(){}S.prototype=E.prototype,A.D=E.prototype,A.prototype=new S,A.prototype.constructor=A,A.C=function(C,D,V){for(var R=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)R[Se-2]=arguments[Se];return E.prototype[D].apply(C,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,E,S){S||(S=0);var C=Array(16);if(typeof E=="string")for(var D=0;16>D;++D)C[D]=E.charCodeAt(S++)|E.charCodeAt(S++)<<8|E.charCodeAt(S++)<<16|E.charCodeAt(S++)<<24;else for(D=0;16>D;++D)C[D]=E[S++]|E[S++]<<8|E[S++]<<16|E[S++]<<24;E=A.g[0],S=A.g[1],D=A.g[2];var V=A.g[3],R=E+(V^S&(D^V))+C[0]+3614090360&4294967295;E=S+(R<<7&4294967295|R>>>25),R=V+(D^E&(S^D))+C[1]+3905402710&4294967295,V=E+(R<<12&4294967295|R>>>20),R=D+(S^V&(E^S))+C[2]+606105819&4294967295,D=V+(R<<17&4294967295|R>>>15),R=S+(E^D&(V^E))+C[3]+3250441966&4294967295,S=D+(R<<22&4294967295|R>>>10),R=E+(V^S&(D^V))+C[4]+4118548399&4294967295,E=S+(R<<7&4294967295|R>>>25),R=V+(D^E&(S^D))+C[5]+1200080426&4294967295,V=E+(R<<12&4294967295|R>>>20),R=D+(S^V&(E^S))+C[6]+2821735955&4294967295,D=V+(R<<17&4294967295|R>>>15),R=S+(E^D&(V^E))+C[7]+4249261313&4294967295,S=D+(R<<22&4294967295|R>>>10),R=E+(V^S&(D^V))+C[8]+1770035416&4294967295,E=S+(R<<7&4294967295|R>>>25),R=V+(D^E&(S^D))+C[9]+2336552879&4294967295,V=E+(R<<12&4294967295|R>>>20),R=D+(S^V&(E^S))+C[10]+4294925233&4294967295,D=V+(R<<17&4294967295|R>>>15),R=S+(E^D&(V^E))+C[11]+2304563134&4294967295,S=D+(R<<22&4294967295|R>>>10),R=E+(V^S&(D^V))+C[12]+1804603682&4294967295,E=S+(R<<7&4294967295|R>>>25),R=V+(D^E&(S^D))+C[13]+4254626195&4294967295,V=E+(R<<12&4294967295|R>>>20),R=D+(S^V&(E^S))+C[14]+2792965006&4294967295,D=V+(R<<17&4294967295|R>>>15),R=S+(E^D&(V^E))+C[15]+1236535329&4294967295,S=D+(R<<22&4294967295|R>>>10),R=E+(D^V&(S^D))+C[1]+4129170786&4294967295,E=S+(R<<5&4294967295|R>>>27),R=V+(S^D&(E^S))+C[6]+3225465664&4294967295,V=E+(R<<9&4294967295|R>>>23),R=D+(E^S&(V^E))+C[11]+643717713&4294967295,D=V+(R<<14&4294967295|R>>>18),R=S+(V^E&(D^V))+C[0]+3921069994&4294967295,S=D+(R<<20&4294967295|R>>>12),R=E+(D^V&(S^D))+C[5]+3593408605&4294967295,E=S+(R<<5&4294967295|R>>>27),R=V+(S^D&(E^S))+C[10]+38016083&4294967295,V=E+(R<<9&4294967295|R>>>23),R=D+(E^S&(V^E))+C[15]+3634488961&4294967295,D=V+(R<<14&4294967295|R>>>18),R=S+(V^E&(D^V))+C[4]+3889429448&4294967295,S=D+(R<<20&4294967295|R>>>12),R=E+(D^V&(S^D))+C[9]+568446438&4294967295,E=S+(R<<5&4294967295|R>>>27),R=V+(S^D&(E^S))+C[14]+3275163606&4294967295,V=E+(R<<9&4294967295|R>>>23),R=D+(E^S&(V^E))+C[3]+4107603335&4294967295,D=V+(R<<14&4294967295|R>>>18),R=S+(V^E&(D^V))+C[8]+1163531501&4294967295,S=D+(R<<20&4294967295|R>>>12),R=E+(D^V&(S^D))+C[13]+2850285829&4294967295,E=S+(R<<5&4294967295|R>>>27),R=V+(S^D&(E^S))+C[2]+4243563512&4294967295,V=E+(R<<9&4294967295|R>>>23),R=D+(E^S&(V^E))+C[7]+1735328473&4294967295,D=V+(R<<14&4294967295|R>>>18),R=S+(V^E&(D^V))+C[12]+2368359562&4294967295,S=D+(R<<20&4294967295|R>>>12),R=E+(S^D^V)+C[5]+4294588738&4294967295,E=S+(R<<4&4294967295|R>>>28),R=V+(E^S^D)+C[8]+2272392833&4294967295,V=E+(R<<11&4294967295|R>>>21),R=D+(V^E^S)+C[11]+1839030562&4294967295,D=V+(R<<16&4294967295|R>>>16),R=S+(D^V^E)+C[14]+4259657740&4294967295,S=D+(R<<23&4294967295|R>>>9),R=E+(S^D^V)+C[1]+2763975236&4294967295,E=S+(R<<4&4294967295|R>>>28),R=V+(E^S^D)+C[4]+1272893353&4294967295,V=E+(R<<11&4294967295|R>>>21),R=D+(V^E^S)+C[7]+4139469664&4294967295,D=V+(R<<16&4294967295|R>>>16),R=S+(D^V^E)+C[10]+3200236656&4294967295,S=D+(R<<23&4294967295|R>>>9),R=E+(S^D^V)+C[13]+681279174&4294967295,E=S+(R<<4&4294967295|R>>>28),R=V+(E^S^D)+C[0]+3936430074&4294967295,V=E+(R<<11&4294967295|R>>>21),R=D+(V^E^S)+C[3]+3572445317&4294967295,D=V+(R<<16&4294967295|R>>>16),R=S+(D^V^E)+C[6]+76029189&4294967295,S=D+(R<<23&4294967295|R>>>9),R=E+(S^D^V)+C[9]+3654602809&4294967295,E=S+(R<<4&4294967295|R>>>28),R=V+(E^S^D)+C[12]+3873151461&4294967295,V=E+(R<<11&4294967295|R>>>21),R=D+(V^E^S)+C[15]+530742520&4294967295,D=V+(R<<16&4294967295|R>>>16),R=S+(D^V^E)+C[2]+3299628645&4294967295,S=D+(R<<23&4294967295|R>>>9),R=E+(D^(S|~V))+C[0]+4096336452&4294967295,E=S+(R<<6&4294967295|R>>>26),R=V+(S^(E|~D))+C[7]+1126891415&4294967295,V=E+(R<<10&4294967295|R>>>22),R=D+(E^(V|~S))+C[14]+2878612391&4294967295,D=V+(R<<15&4294967295|R>>>17),R=S+(V^(D|~E))+C[5]+4237533241&4294967295,S=D+(R<<21&4294967295|R>>>11),R=E+(D^(S|~V))+C[12]+1700485571&4294967295,E=S+(R<<6&4294967295|R>>>26),R=V+(S^(E|~D))+C[3]+2399980690&4294967295,V=E+(R<<10&4294967295|R>>>22),R=D+(E^(V|~S))+C[10]+4293915773&4294967295,D=V+(R<<15&4294967295|R>>>17),R=S+(V^(D|~E))+C[1]+2240044497&4294967295,S=D+(R<<21&4294967295|R>>>11),R=E+(D^(S|~V))+C[8]+1873313359&4294967295,E=S+(R<<6&4294967295|R>>>26),R=V+(S^(E|~D))+C[15]+4264355552&4294967295,V=E+(R<<10&4294967295|R>>>22),R=D+(E^(V|~S))+C[6]+2734768916&4294967295,D=V+(R<<15&4294967295|R>>>17),R=S+(V^(D|~E))+C[13]+1309151649&4294967295,S=D+(R<<21&4294967295|R>>>11),R=E+(D^(S|~V))+C[4]+4149444226&4294967295,E=S+(R<<6&4294967295|R>>>26),R=V+(S^(E|~D))+C[11]+3174756917&4294967295,V=E+(R<<10&4294967295|R>>>22),R=D+(E^(V|~S))+C[2]+718787259&4294967295,D=V+(R<<15&4294967295|R>>>17),R=S+(V^(D|~E))+C[9]+3951481745&4294967295,A.g[0]=A.g[0]+E&4294967295,A.g[1]=A.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,A.g[2]=A.g[2]+D&4294967295,A.g[3]=A.g[3]+V&4294967295}r.prototype.u=function(A,E){E===void 0&&(E=A.length);for(var S=E-this.blockSize,C=this.B,D=this.h,V=0;V<E;){if(D==0)for(;V<=S;)i(this,A,V),V+=this.blockSize;if(typeof A=="string"){for(;V<E;)if(C[D++]=A.charCodeAt(V++),D==this.blockSize){i(this,C),D=0;break}}else for(;V<E;)if(C[D++]=A[V++],D==this.blockSize){i(this,C),D=0;break}}this.h=D,this.o+=E},r.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var E=1;E<A.length-8;++E)A[E]=0;var S=8*this.o;for(E=A.length-8;E<A.length;++E)A[E]=S&255,S/=256;for(this.u(A),A=Array(16),E=S=0;4>E;++E)for(var C=0;32>C;C+=8)A[S++]=this.g[E]>>>C&255;return A};function s(A,E){var S=l;return Object.prototype.hasOwnProperty.call(S,A)?S[A]:S[A]=E(A)}function o(A,E){this.h=E;for(var S=[],C=!0,D=A.length-1;0<=D;D--){var V=A[D]|0;C&&V==E||(S[D]=V,C=!1)}this.g=S}var l={};function u(A){return-128<=A&&128>A?s(A,function(E){return new o([E|0],0>E?-1:0)}):new o([A|0],0>A?-1:0)}function d(A){if(isNaN(A)||!isFinite(A))return m;if(0>A)return j(d(-A));for(var E=[],S=1,C=0;A>=S;C++)E[C]=A/S|0,S*=4294967296;return new o(E,0)}function p(A,E){if(A.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(A.charAt(0)=="-")return j(p(A.substring(1),E));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=d(Math.pow(E,8)),C=m,D=0;D<A.length;D+=8){var V=Math.min(8,A.length-D),R=parseInt(A.substring(D,D+V),E);8>V?(V=d(Math.pow(E,V)),C=C.j(V).add(d(R))):(C=C.j(S),C=C.add(d(R)))}return C}var m=u(0),w=u(1),b=u(16777216);t=o.prototype,t.m=function(){if(N(this))return-j(this).m();for(var A=0,E=1,S=0;S<this.g.length;S++){var C=this.i(S);A+=(0<=C?C:4294967296+C)*E,E*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(x(this))return"0";if(N(this))return"-"+j(this).toString(A);for(var E=d(Math.pow(A,6)),S=this,C="";;){var D=F(S,E).g;S=P(S,D.j(E));var V=((0<S.g.length?S.g[0]:S.h)>>>0).toString(A);if(S=D,x(S))return V+C;for(;6>V.length;)V="0"+V;C=V+C}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function x(A){if(A.h!=0)return!1;for(var E=0;E<A.g.length;E++)if(A.g[E]!=0)return!1;return!0}function N(A){return A.h==-1}t.l=function(A){return A=P(this,A),N(A)?-1:x(A)?0:1};function j(A){for(var E=A.g.length,S=[],C=0;C<E;C++)S[C]=~A.g[C];return new o(S,~A.h).add(w)}t.abs=function(){return N(this)?j(this):this},t.add=function(A){for(var E=Math.max(this.g.length,A.g.length),S=[],C=0,D=0;D<=E;D++){var V=C+(this.i(D)&65535)+(A.i(D)&65535),R=(V>>>16)+(this.i(D)>>>16)+(A.i(D)>>>16);C=R>>>16,V&=65535,R&=65535,S[D]=R<<16|V}return new o(S,S[S.length-1]&-2147483648?-1:0)};function P(A,E){return A.add(j(E))}t.j=function(A){if(x(this)||x(A))return m;if(N(this))return N(A)?j(this).j(j(A)):j(j(this).j(A));if(N(A))return j(this.j(j(A)));if(0>this.l(b)&&0>A.l(b))return d(this.m()*A.m());for(var E=this.g.length+A.g.length,S=[],C=0;C<2*E;C++)S[C]=0;for(C=0;C<this.g.length;C++)for(var D=0;D<A.g.length;D++){var V=this.i(C)>>>16,R=this.i(C)&65535,Se=A.i(D)>>>16,ut=A.i(D)&65535;S[2*C+2*D]+=R*ut,T(S,2*C+2*D),S[2*C+2*D+1]+=V*ut,T(S,2*C+2*D+1),S[2*C+2*D+1]+=R*Se,T(S,2*C+2*D+1),S[2*C+2*D+2]+=V*Se,T(S,2*C+2*D+2)}for(C=0;C<E;C++)S[C]=S[2*C+1]<<16|S[2*C];for(C=E;C<2*E;C++)S[C]=0;return new o(S,0)};function T(A,E){for(;(A[E]&65535)!=A[E];)A[E+1]+=A[E]>>>16,A[E]&=65535,E++}function k(A,E){this.g=A,this.h=E}function F(A,E){if(x(E))throw Error("division by zero");if(x(A))return new k(m,m);if(N(A))return E=F(j(A),E),new k(j(E.g),j(E.h));if(N(E))return E=F(A,j(E)),new k(j(E.g),E.h);if(30<A.g.length){if(N(A)||N(E))throw Error("slowDivide_ only works with positive integers.");for(var S=w,C=E;0>=C.l(A);)S=G(S),C=G(C);var D=L(S,1),V=L(C,1);for(C=L(C,2),S=L(S,2);!x(C);){var R=V.add(C);0>=R.l(A)&&(D=D.add(S),V=R),C=L(C,1),S=L(S,1)}return E=P(A,D.j(E)),new k(D,E)}for(D=m;0<=A.l(E);){for(S=Math.max(1,Math.floor(A.m()/E.m())),C=Math.ceil(Math.log(S)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),V=d(S),R=V.j(E);N(R)||0<R.l(A);)S-=C,V=d(S),R=V.j(E);x(V)&&(V=w),D=D.add(V),A=P(A,R)}return new k(D,A)}t.A=function(A){return F(this,A).h},t.and=function(A){for(var E=Math.max(this.g.length,A.g.length),S=[],C=0;C<E;C++)S[C]=this.i(C)&A.i(C);return new o(S,this.h&A.h)},t.or=function(A){for(var E=Math.max(this.g.length,A.g.length),S=[],C=0;C<E;C++)S[C]=this.i(C)|A.i(C);return new o(S,this.h|A.h)},t.xor=function(A){for(var E=Math.max(this.g.length,A.g.length),S=[],C=0;C<E;C++)S[C]=this.i(C)^A.i(C);return new o(S,this.h^A.h)};function G(A){for(var E=A.g.length+1,S=[],C=0;C<E;C++)S[C]=A.i(C)<<1|A.i(C-1)>>>31;return new o(S,A.h)}function L(A,E){var S=E>>5;E%=32;for(var C=A.g.length-S,D=[],V=0;V<C;V++)D[V]=0<E?A.i(V+S)>>>E|A.i(V+S+1)<<32-E:A.i(V+S);return new o(D,A.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,ET=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=p,lo=o}).apply(typeof O0<"u"?O0:typeof self<"u"?self:typeof window<"u"?window:{});var Vc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var TT,IT,Al,ST,ld,Im,CT,AT,bT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,f,g){return a==Array.prototype||a==Object.prototype||(a[f]=g.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vc=="object"&&Vc];for(var f=0;f<a.length;++f){var g=a[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function i(a,f){if(f)e:{var g=r;a=a.split(".");for(var I=0;I<a.length-1;I++){var $=a[I];if(!($ in g))break e;g=g[$]}a=a[a.length-1],I=g[a],f=f(I),f!=I&&f!=null&&e(g,a,{configurable:!0,writable:!0,value:f})}}function s(a,f){a instanceof String&&(a+="");var g=0,I=!1,$={next:function(){if(!I&&g<a.length){var q=g++;return{value:f(q,a[q]),done:!1}}return I=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}i("Array.prototype.values",function(a){return a||function(){return s(this,function(f,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function u(a){var f=typeof a;return f=f!="object"?f:a?Array.isArray(a)?"array":f:"null",f=="array"||f=="object"&&typeof a.length=="number"}function d(a){var f=typeof a;return f=="object"&&a!=null||f=="function"}function p(a,f,g){return a.call.apply(a.bind,arguments)}function m(a,f,g){if(!a)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,I),a.apply(f,$)}}return function(){return a.apply(f,arguments)}}function w(a,f,g){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:m,w.apply(null,arguments)}function b(a,f){var g=Array.prototype.slice.call(arguments,1);return function(){var I=g.slice();return I.push.apply(I,arguments),a.apply(this,I)}}function x(a,f){function g(){}g.prototype=f.prototype,a.aa=f.prototype,a.prototype=new g,a.prototype.constructor=a,a.Qb=function(I,$,q){for(var te=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)te[$e-2]=arguments[$e];return f.prototype[$].apply(I,te)}}function N(a){const f=a.length;if(0<f){const g=Array(f);for(let I=0;I<f;I++)g[I]=a[I];return g}return[]}function j(a,f){for(let g=1;g<arguments.length;g++){const I=arguments[g];if(u(I)){const $=a.length||0,q=I.length||0;a.length=$+q;for(let te=0;te<q;te++)a[$+te]=I[te]}else a.push(I)}}class P{constructor(f,g){this.i=f,this.j=g,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function T(a){return/^[\s\xa0]*$/.test(a)}function k(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function F(a){return F[" "](a),a}F[" "]=function(){};var G=k().indexOf("Gecko")!=-1&&!(k().toLowerCase().indexOf("webkit")!=-1&&k().indexOf("Edge")==-1)&&!(k().indexOf("Trident")!=-1||k().indexOf("MSIE")!=-1)&&k().indexOf("Edge")==-1;function L(a,f,g){for(const I in a)f.call(g,a[I],I,a)}function A(a,f){for(const g in a)f.call(void 0,a[g],g,a)}function E(a){const f={};for(const g in a)f[g]=a[g];return f}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(a,f){let g,I;for(let $=1;$<arguments.length;$++){I=arguments[$];for(g in I)a[g]=I[g];for(let q=0;q<S.length;q++)g=S[q],Object.prototype.hasOwnProperty.call(I,g)&&(a[g]=I[g])}}function D(a){var f=1;a=a.split(":");const g=[];for(;0<f&&a.length;)g.push(a.shift()),f--;return a.length&&g.push(a.join(":")),g}function V(a){l.setTimeout(()=>{throw a},0)}function R(){var a=X;let f=null;return a.g&&(f=a.g,a.g=a.g.next,a.g||(a.h=null),f.next=null),f}class Se{constructor(){this.h=this.g=null}add(f,g){const I=ut.get();I.set(f,g),this.h?this.h.next=I:this.g=I,this.h=I}}var ut=new P(()=>new ze,a=>a.reset());class ze{constructor(){this.next=this.g=this.h=null}set(f,g){this.h=f,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let ye,ee=!1,X=new Se,ue=()=>{const a=l.Promise.resolve(void 0);ye=()=>{a.then(Ee)}};var Ee=()=>{for(var a;a=R();){try{a.h.call(a.g)}catch(g){V(g)}var f=ut;f.j(a),100>f.h&&(f.h++,a.next=f.g,f.g=a)}ee=!1};function pe(){this.s=this.s,this.C=this.C}pe.prototype.s=!1,pe.prototype.ma=function(){this.s||(this.s=!0,this.N())},pe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ce(a,f){this.type=a,this.g=this.target=f,this.defaultPrevented=!1}Ce.prototype.h=function(){this.defaultPrevented=!0};var H=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,f=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const g=()=>{};l.addEventListener("test",g,f),l.removeEventListener("test",g,f)}catch{}return a}();function Ke(a,f){if(Ce.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var g=this.type=a.type,I=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=f,f=a.relatedTarget){if(G){e:{try{F(f.nodeName);var $=!0;break e}catch{}$=!1}$||(f=null)}}else g=="mouseover"?f=a.fromElement:g=="mouseout"&&(f=a.toElement);this.relatedTarget=f,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:Ge[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Ke.aa.h.call(this)}}x(Ke,Ce);var Ge={2:"touch",3:"pen",4:"mouse"};Ke.prototype.h=function(){Ke.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var kt="closure_listenable_"+(1e6*Math.random()|0),Tr=0;function $t(a,f,g,I,$){this.listener=a,this.proxy=null,this.src=f,this.type=g,this.capture=!!I,this.ha=$,this.key=++Tr,this.da=this.fa=!1}function kn(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function di(a){this.src=a,this.g={},this.h=0}di.prototype.add=function(a,f,g,I,$){var q=a.toString();a=this.g[q],a||(a=this.g[q]=[],this.h++);var te=Hn(a,f,I,$);return-1<te?(f=a[te],g||(f.fa=!1)):(f=new $t(f,this.src,q,!!I,$),f.fa=g,a.push(f)),f};function St(a,f){var g=f.type;if(g in a.g){var I=a.g[g],$=Array.prototype.indexOf.call(I,f,void 0),q;(q=0<=$)&&Array.prototype.splice.call(I,$,1),q&&(kn(f),a.g[g].length==0&&(delete a.g[g],a.h--))}}function Hn(a,f,g,I){for(var $=0;$<a.length;++$){var q=a[$];if(!q.da&&q.listener==f&&q.capture==!!g&&q.ha==I)return $}return-1}var Ir="closure_lm_"+(1e6*Math.random()|0),hi={};function on(a,f,g,I,$){if(Array.isArray(f)){for(var q=0;q<f.length;q++)on(a,f[q],g,I,$);return null}return g=ir(g),a&&a[kt]?a.K(f,g,d(I)?!!I.capture:!!I,$):Ms(a,f,g,!1,I,$)}function Ms(a,f,g,I,$,q){if(!f)throw Error("Invalid event type");var te=d($)?!!$.capture:!!$,$e=Vs(a);if($e||(a[Ir]=$e=new di(a)),g=$e.add(f,g,I,te,q),g.proxy)return g;if(I=Ht(),g.proxy=I,I.src=a,I.listener=g,a.addEventListener)H||($=te),$===void 0&&($=!1),a.addEventListener(f.toString(),I,$);else if(a.attachEvent)a.attachEvent(Me(f.toString()),I);else if(a.addListener&&a.removeListener)a.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Ht(){function a(g){return f.call(a.src,a.listener,g)}const f=fi;return a}function Sr(a,f,g,I,$){if(Array.isArray(f))for(var q=0;q<f.length;q++)Sr(a,f[q],g,I,$);else I=d(I)?!!I.capture:!!I,g=ir(g),a&&a[kt]?(a=a.i,f=String(f).toString(),f in a.g&&(q=a.g[f],g=Hn(q,g,I,$),-1<g&&(kn(q[g]),Array.prototype.splice.call(q,g,1),q.length==0&&(delete a.g[f],a.h--)))):a&&(a=Vs(a))&&(f=a.g[f.toString()],a=-1,f&&(a=Hn(f,g,I,$)),(g=-1<a?f[a]:null)&&Lt(g))}function Lt(a){if(typeof a!="number"&&a&&!a.da){var f=a.src;if(f&&f[kt])St(f.i,a);else{var g=a.type,I=a.proxy;f.removeEventListener?f.removeEventListener(g,I,a.capture):f.detachEvent?f.detachEvent(Me(g),I):f.addListener&&f.removeListener&&f.removeListener(I),(g=Vs(f))?(St(g,a),g.h==0&&(g.src=null,f[Ir]=null)):kn(a)}}}function Me(a){return a in hi?hi[a]:hi[a]="on"+a}function fi(a,f){if(a.da)a=!0;else{f=new Ke(f,this);var g=a.listener,I=a.ha||a.src;a.fa&&Lt(a),a=g.call(I,f)}return a}function Vs(a){return a=a[Ir],a instanceof di?a:null}var rr="__closure_events_fn_"+(1e9*Math.random()>>>0);function ir(a){return typeof a=="function"?a:(a[rr]||(a[rr]=function(f){return a.handleEvent(f)}),a[rr])}function wt(){pe.call(this),this.i=new di(this),this.M=this,this.F=null}x(wt,pe),wt.prototype[kt]=!0,wt.prototype.removeEventListener=function(a,f,g,I){Sr(this,a,f,g,I)};function ct(a,f){var g,I=a.F;if(I)for(g=[];I;I=I.F)g.push(I);if(a=a.M,I=f.type||f,typeof f=="string")f=new Ce(f,a);else if(f instanceof Ce)f.target=f.target||a;else{var $=f;f=new Ce(I,a),C(f,$)}if($=!0,g)for(var q=g.length-1;0<=q;q--){var te=f.g=g[q];$=Wt(te,I,!0,f)&&$}if(te=f.g=a,$=Wt(te,I,!0,f)&&$,$=Wt(te,I,!1,f)&&$,g)for(q=0;q<g.length;q++)te=f.g=g[q],$=Wt(te,I,!1,f)&&$}wt.prototype.N=function(){if(wt.aa.N.call(this),this.i){var a=this.i,f;for(f in a.g){for(var g=a.g[f],I=0;I<g.length;I++)kn(g[I]);delete a.g[f],a.h--}}this.F=null},wt.prototype.K=function(a,f,g,I){return this.i.add(String(a),f,!1,g,I)},wt.prototype.L=function(a,f,g,I){return this.i.add(String(a),f,!0,g,I)};function Wt(a,f,g,I){if(f=a.i.g[String(f)],!f)return!0;f=f.concat();for(var $=!0,q=0;q<f.length;++q){var te=f[q];if(te&&!te.da&&te.capture==g){var $e=te.listener,Vt=te.ha||te.src;te.fa&&St(a.i,te),$=$e.call(Vt,I)!==!1&&$}}return $&&!I.defaultPrevented}function dt(a,f,g){if(typeof a=="function")g&&(a=w(a,g));else if(a&&typeof a.handleEvent=="function")a=w(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:l.setTimeout(a,f||0)}function sr(a){a.g=dt(()=>{a.g=null,a.i&&(a.i=!1,sr(a))},a.l);const f=a.h;a.h=null,a.m.apply(null,f)}class Pn extends pe{constructor(f,g){super(),this.m=f,this.l=g,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:sr(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pi(a){pe.call(this),this.h=a,this.g={}}x(pi,pe);var qt=[];function Cr(a){L(a.g,function(f,g){this.g.hasOwnProperty(g)&&Lt(f)},a),a.g={}}pi.prototype.N=function(){pi.aa.N.call(this),Cr(this)},pi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mi=l.JSON.stringify,gi=l.JSON.parse,js=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function Hi(){}Hi.prototype.h=null;function Ar(a){return a.h||(a.h=a.i())}function vi(){}var Rn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $r(){Ce.call(this,"d")}x($r,Ce);function Ct(){Ce.call(this,"c")}x(Ct,Ce);var Mt={},Fs=null;function Pt(){return Fs=Fs||new wt}Mt.La="serverreachability";function Hr(a){Ce.call(this,Mt.La,a)}x(Hr,Ce);function or(a){const f=Pt();ct(f,new Hr(f))}Mt.STAT_EVENT="statevent";function Wr(a,f){Ce.call(this,Mt.STAT_EVENT,a),this.stat=f}x(Wr,Ce);function fe(a){const f=Pt();ct(f,new Wr(f,a))}Mt.Ma="timingevent";function vn(a,f){Ce.call(this,Mt.Ma,a),this.size=f}x(vn,Ce);function M(a,f){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},f)}function U(){this.g=!0}U.prototype.xa=function(){this.g=!1};function z(a,f,g,I,$,q){a.info(function(){if(a.g)if(q)for(var te="",$e=q.split("&"),Vt=0;Vt<$e.length;Vt++){var je=$e[Vt].split("=");if(1<je.length){var Gt=je[0];je=je[1];var jt=Gt.split("_");te=2<=jt.length&&jt[1]=="type"?te+(Gt+"="+je+"&"):te+(Gt+"=redacted&")}}else te=null;else te=q;return"XMLHTTP REQ ("+I+") [attempt "+$+"]: "+f+`
`+g+`
`+te})}function K(a,f,g,I,$,q,te){a.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+$+"]: "+f+`
`+g+`
`+q+" "+te})}function ne(a,f,g,I){a.info(function(){return"XMLHTTP TEXT ("+f+"): "+ce(a,g)+(I?" "+I:"")})}function se(a,f){a.info(function(){return"TIMEOUT: "+f})}U.prototype.info=function(){};function ce(a,f){if(!a.g)return f;if(!f)return null;try{var g=JSON.parse(f);if(g){for(a=0;a<g.length;a++)if(Array.isArray(g[a])){var I=g[a];if(!(2>I.length)){var $=I[1];if(Array.isArray($)&&!(1>$.length)){var q=$[0];if(q!="noop"&&q!="stop"&&q!="close")for(var te=1;te<$.length;te++)$[te]=""}}}}return mi(g)}catch{return f}}var Q={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ge={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},le;function ae(){}x(ae,Hi),ae.prototype.g=function(){return new XMLHttpRequest},ae.prototype.i=function(){return{}},le=new ae;function Ae(a,f,g,I){this.j=a,this.i=f,this.l=g,this.R=I||1,this.U=new pi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Re}function Re(){this.i=null,this.g="",this.h=!1}var Ue={},xe={};function ht(a,f,g){a.L=1,a.v=Bs(kr(f)),a.m=g,a.P=!0,He(a,null)}function He(a,f){a.F=Date.now(),Wn(a),a.A=kr(a.v);var g=a.A,I=a.R;Array.isArray(I)||(I=[String(I)]),Yu(g.i,"t",I),a.C=0,g=a.j.J,a.h=new Re,a.g=rl(a.j,g?f:null,!a.m),0<a.O&&(a.M=new Pn(w(a.Y,a,a.g),a.O)),f=a.U,g=a.g,I=a.ca;var $="readystatechange";Array.isArray($)||($&&(qt[0]=$.toString()),$=qt);for(var q=0;q<$.length;q++){var te=on(g,$[q],I||f.handleEvent,!1,f.h||f);if(!te)break;f.g[te.key]=te}f=a.H?E(a.H):{},a.m?(a.u||(a.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,f)):(a.u="GET",a.g.ea(a.A,a.u,null,f)),or(),z(a.i,a.u,a.A,a.l,a.R,a.m)}Ae.prototype.ca=function(a){a=a.target;const f=this.M;f&&an(a)==3?f.j():this.Y(a)},Ae.prototype.Y=function(a){try{if(a==this.g)e:{const jt=an(this.g);var f=this.g.Ba();const Qi=this.g.Z();if(!(3>jt)&&(jt!=3||this.g&&(this.h.h||this.g.oa()||ic(this.g)))){this.J||jt!=4||f==7||(f==8||0>=Qi?or(3):or(2)),lr(this);var g=this.g.Z();this.X=g;t:if(qr(this)){var I=ic(this.g);a="";var $=I.length,q=an(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xn(this),Rt(this);var te="";break t}this.h.i=new l.TextDecoder}for(f=0;f<$;f++)this.h.h=!0,a+=this.h.i.decode(I[f],{stream:!(q&&f==$-1)});I.length=0,this.h.g+=a,this.C=0,te=this.h.g}else te=this.g.oa();if(this.o=g==200,K(this.i,this.u,this.A,this.l,this.R,jt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var $e,Vt=this.g;if(($e=Vt.g?Vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T($e)){var je=$e;break t}}je=null}if(g=je)ne(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Kr(this,g);else{this.o=!1,this.s=3,fe(12),xn(this),Rt(this);break e}}if(this.P){g=!0;let _n;for(;!this.J&&this.C<te.length;)if(_n=ar(this,te),_n==xe){jt==4&&(this.s=4,fe(14),g=!1),ne(this.i,this.l,null,"[Incomplete Response]");break}else if(_n==Ue){this.s=4,fe(15),ne(this.i,this.l,te,"[Invalid Chunk]"),g=!1;break}else ne(this.i,this.l,_n,null),Kr(this,_n);if(qr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),jt!=4||te.length!=0||this.h.h||(this.s=1,fe(16),g=!1),this.o=this.o&&g,!g)ne(this.i,this.l,te,"[Invalid Chunked Response]"),xn(this),Rt(this);else if(0<te.length&&!this.W){this.W=!0;var Gt=this.j;Gt.g==this&&Gt.ba&&!Gt.M&&(Gt.j.info("Great, no buffering proxy detected. Bytes received: "+te.length),tl(Gt),Gt.M=!0,fe(11))}}else ne(this.i,this.l,te,null),Kr(this,te);jt==4&&xn(this),this.o&&!this.J&&(jt==4?nl(this.j,this):(this.o=!1,Wn(this)))}else sc(this.g),g==400&&0<te.indexOf("Unknown SID")?(this.s=3,fe(12)):(this.s=0,fe(13)),xn(this),Rt(this)}}}catch{}finally{}};function qr(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function ar(a,f){var g=a.C,I=f.indexOf(`
`,g);return I==-1?xe:(g=Number(f.substring(g,I)),isNaN(g)?Ue:(I+=1,I+g>f.length?xe:(f=f.slice(I,I+g),a.C=I+g,f)))}Ae.prototype.cancel=function(){this.J=!0,xn(this)};function Wn(a){a.S=Date.now()+a.I,br(a,a.I)}function br(a,f){if(a.B!=null)throw Error("WatchDog timer not null");a.B=M(w(a.ba,a),f)}function lr(a){a.B&&(l.clearTimeout(a.B),a.B=null)}Ae.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(se(this.i,this.A),this.L!=2&&(or(),fe(17)),xn(this),this.s=2,Rt(this)):br(this,this.S-a)};function Rt(a){a.j.G==0||a.J||nl(a.j,a)}function xn(a){lr(a);var f=a.M;f&&typeof f.ma=="function"&&f.ma(),a.M=null,Cr(a.U),a.g&&(f=a.g,a.g=null,f.abort(),f.ma())}function Kr(a,f){try{var g=a.j;if(g.G!=0&&(g.g==a||Ve(g.h,a))){if(!a.K&&Ve(g.h,a)&&g.G==3){try{var I=g.Da.g.parse(f)}catch{I=null}if(Array.isArray(I)&&I.length==3){var $=I;if($[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<a.F)qo(g),$o(g);else break e;Wo(g),fe(18)}}else g.za=$[1],0<g.za-g.T&&37500>$[2]&&g.F&&g.v==0&&!g.C&&(g.C=M(w(g.Za,g),6e3));if(1>=Kt(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else wi(g,11)}else if((a.K||g.g==a)&&qo(g),!T(f))for($=g.Da.g.parse(f),f=0;f<$.length;f++){let je=$[f];if(g.T=je[0],je=je[1],g.G==2)if(je[0]=="c"){g.K=je[1],g.ia=je[2];const Gt=je[3];Gt!=null&&(g.la=Gt,g.j.info("VER="+g.la));const jt=je[4];jt!=null&&(g.Aa=jt,g.j.info("SVER="+g.Aa));const Qi=je[5];Qi!=null&&typeof Qi=="number"&&0<Qi&&(I=1.5*Qi,g.L=I,g.j.info("backChannelRequestTimeoutMs_="+I)),I=g;const _n=a.g;if(_n){const qs=_n.g?_n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qs){var q=I.h;q.g||qs.indexOf("spdy")==-1&&qs.indexOf("quic")==-1&&qs.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(yn(q,q.h),q.h=null))}if(I.D){const Go=_n.g?_n.g.getResponseHeader("X-HTTP-Session-Id"):null;Go&&(I.ya=Go,We(I.I,I.D,Go))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-a.F,g.j.info("Handshake RTT: "+g.R+"ms")),I=g;var te=a;if(I.qa=hc(I,I.J?I.ia:null,I.W),te.K){Us(I.h,te);var $e=te,Vt=I.L;Vt&&($e.I=Vt),$e.B&&(lr($e),Wn($e)),I.g=te}else cc(I);0<g.i.length&&Ho(g)}else je[0]!="stop"&&je[0]!="close"||wi(g,7);else g.G==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?wi(g,7):el(g):je[0]!="noop"&&g.l&&g.l.ta(je),g.v=0)}}or(4)}catch{}}var Nn=class{constructor(a,f){this.g=a,this.map=f}};function we(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xe(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Kt(a){return a.h?1:a.g?a.g.size:0}function Ve(a,f){return a.h?a.h==f:a.g?a.g.has(f):!1}function yn(a,f){a.g?a.g.add(f):a.h=f}function Us(a,f){a.h&&a.h==f?a.h=null:a.g&&a.g.has(f)&&a.g.delete(f)}we.prototype.cancel=function(){if(this.i=jo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function jo(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let f=a.i;for(const g of a.g.values())f=f.concat(g.D);return f}return N(a.i)}function of(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var f=[],g=a.length,I=0;I<g;I++)f.push(a[I]);return f}f=[],g=0;for(I in a)f[g++]=a[I];return f}function af(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var f=[];a=a.length;for(var g=0;g<a;g++)f.push(g);return f}f=[],g=0;for(const I in a)f[g++]=I;return f}}}function Qe(a,f){if(a.forEach&&typeof a.forEach=="function")a.forEach(f,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,f,void 0);else for(var g=af(a),I=of(a),$=I.length,q=0;q<$;q++)f.call(void 0,I[q],g&&g[q],a)}var qu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lf(a,f){if(a){a=a.split("&");for(var g=0;g<a.length;g++){var I=a[g].indexOf("="),$=null;if(0<=I){var q=a[g].substring(0,I);$=a[g].substring(I+1)}else q=a[g];f(q,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function yi(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof yi){this.h=a.h,Fo(this,a.j),this.o=a.o,this.g=a.g,Uo(this,a.s),this.l=a.l;var f=a.i,g=new zs;g.i=f.i,f.g&&(g.g=new Map(f.g),g.h=f.h),Bo(this,g),this.m=a.m}else a&&(f=String(a).match(qu))?(this.h=!1,Fo(this,f[1]||"",!0),this.o=Gr(f[2]||""),this.g=Gr(f[3]||"",!0),Uo(this,f[4]),this.l=Gr(f[5]||"",!0),Bo(this,f[6]||"",!0),this.m=Gr(f[7]||"")):(this.h=!1,this.i=new zs(null,this.h))}yi.prototype.toString=function(){var a=[],f=this.j;f&&a.push(Je(f,Ku,!0),":");var g=this.g;return(g||f=="file")&&(a.push("//"),(f=this.o)&&a.push(Je(f,Ku,!0),"@"),a.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&a.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&a.push("/"),a.push(Je(g,g.charAt(0)=="/"?Gu:cf,!0))),(g=this.i.toString())&&a.push("?",g),(g=this.m)&&a.push("#",Je(g,hf)),a.join("")};function kr(a){return new yi(a)}function Fo(a,f,g){a.j=g?Gr(f,!0):f,a.j&&(a.j=a.j.replace(/:$/,""))}function Uo(a,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);a.s=f}else a.s=null}function Bo(a,f,g){f instanceof zs?(a.i=f,ff(a.i,a.h)):(g||(f=Je(f,df)),a.i=new zs(f,a.h))}function We(a,f,g){a.i.set(f,g)}function Bs(a){return We(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Gr(a,f){return a?f?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Je(a,f,g){return typeof a=="string"?(a=encodeURI(a).replace(f,uf),g&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function uf(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Ku=/[#\/\?@]/g,cf=/[#\?:]/g,Gu=/[#\?]/g,df=/[#\?@]/g,hf=/#/g;function zs(a,f){this.h=this.g=null,this.i=a||null,this.j=!!f}function Pr(a){a.g||(a.g=new Map,a.h=0,a.i&&lf(a.i,function(f,g){a.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}t=zs.prototype,t.add=function(a,f){Pr(this),this.i=null,a=Wi(this,a);var g=this.g.get(a);return g||this.g.set(a,g=[]),g.push(f),this.h+=1,this};function Qu(a,f){Pr(a),f=Wi(a,f),a.g.has(f)&&(a.i=null,a.h-=a.g.get(f).length,a.g.delete(f))}function Xa(a,f){return Pr(a),f=Wi(a,f),a.g.has(f)}t.forEach=function(a,f){Pr(this),this.g.forEach(function(g,I){g.forEach(function($){a.call(f,$,I,this)},this)},this)},t.na=function(){Pr(this);const a=Array.from(this.g.values()),f=Array.from(this.g.keys()),g=[];for(let I=0;I<f.length;I++){const $=a[I];for(let q=0;q<$.length;q++)g.push(f[I])}return g},t.V=function(a){Pr(this);let f=[];if(typeof a=="string")Xa(this,a)&&(f=f.concat(this.g.get(Wi(this,a))));else{a=Array.from(this.g.values());for(let g=0;g<a.length;g++)f=f.concat(a[g])}return f},t.set=function(a,f){return Pr(this),this.i=null,a=Wi(this,a),Xa(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[f]),this.h+=1,this},t.get=function(a,f){return a?(a=this.V(a),0<a.length?String(a[0]):f):f};function Yu(a,f,g){Qu(a,f),0<g.length&&(a.i=null,a.g.set(Wi(a,f),N(g)),a.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],f=Array.from(this.g.keys());for(var g=0;g<f.length;g++){var I=f[g];const q=encodeURIComponent(String(I)),te=this.V(I);for(I=0;I<te.length;I++){var $=q;te[I]!==""&&($+="="+encodeURIComponent(String(te[I]))),a.push($)}}return this.i=a.join("&")};function Wi(a,f){return f=String(f),a.j&&(f=f.toLowerCase()),f}function ff(a,f){f&&!a.j&&(Pr(a),a.i=null,a.g.forEach(function(g,I){var $=I.toLowerCase();I!=$&&(Qu(this,I),Yu(this,$,g))},a)),a.j=f}function pf(a,f){const g=new U;if(l.Image){const I=new Image;I.onload=b(Qr,g,"TestLoadImage: loaded",!0,f,I),I.onerror=b(Qr,g,"TestLoadImage: error",!1,f,I),I.onabort=b(Qr,g,"TestLoadImage: abort",!1,f,I),I.ontimeout=b(Qr,g,"TestLoadImage: timeout",!1,f,I),l.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=a}else f(!1)}function mf(a,f){const g=new U,I=new AbortController,$=setTimeout(()=>{I.abort(),Qr(g,"TestPingServer: timeout",!1,f)},1e4);fetch(a,{signal:I.signal}).then(q=>{clearTimeout($),q.ok?Qr(g,"TestPingServer: ok",!0,f):Qr(g,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout($),Qr(g,"TestPingServer: error",!1,f)})}function Qr(a,f,g,I,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),I(g)}catch{}}function gf(){this.g=new js}function Xu(a,f,g){const I=g||"";try{Qe(a,function($,q){let te=$;d($)&&(te=mi($)),f.push(I+q+"="+encodeURIComponent(te))})}catch($){throw f.push(I+"type="+encodeURIComponent("_badmap")),$}}function $s(a){this.l=a.Ub||null,this.j=a.eb||!1}x($s,Hi),$s.prototype.g=function(){return new Hs(this.l,this.j)},$s.prototype.i=function(a){return function(){return a}}({});function Hs(a,f){wt.call(this),this.D=a,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Hs,wt),t=Hs.prototype,t.open=function(a,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=f,this.readyState=1,ur(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(f.body=a),(this.D||l).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ws(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,ur(this)),this.g&&(this.readyState=3,ur(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ju(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ju(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var f=a.value?a.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!a.done}))&&(this.response=this.responseText+=f)}a.done?Ws(this):ur(this),this.readyState==3&&Ju(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,Ws(this))},t.Qa=function(a){this.g&&(this.response=a,Ws(this))},t.ga=function(){this.g&&Ws(this)};function Ws(a){a.readyState=4,a.l=null,a.j=null,a.v=null,ur(a)}t.setRequestHeader=function(a,f){this.u.append(a,f)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],f=this.h.entries();for(var g=f.next();!g.done;)g=g.value,a.push(g[0]+": "+g[1]),g=f.next();return a.join(`\r
`)};function ur(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Hs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Ja(a){let f="";return L(a,function(g,I){f+=I,f+=":",f+=g,f+=`\r
`}),f}function Za(a,f,g){e:{for(I in g){var I=!1;break e}I=!0}I||(g=Ja(g),typeof a=="string"?g!=null&&encodeURIComponent(String(g)):We(a,f,g))}function Ze(a){wt.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Ze,wt);var Zu=/^https?$/i,vf=["POST","PUT"];t=Ze.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,f,g,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);f=f?f.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():le.g(),this.v=this.o?Ar(this.o):Ar(le),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(f,String(a),!0),this.B=!1}catch(q){ec(this,q);return}if(a=g||"",g=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var $ in I)g.set($,I[$]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const q of I.keys())g.set(q,I.get(q));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(g.keys()).find(q=>q.toLowerCase()=="content-type"),$=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(vf,f,void 0))||I||$||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,te]of g)this.g.setRequestHeader(q,te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{rc(this),this.u=!0,this.g.send(a),this.u=!1}catch(q){ec(this,q)}};function ec(a,f){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=f,a.m=5,tc(a),zo(a)}function tc(a){a.A||(a.A=!0,ct(a,"complete"),ct(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,ct(this,"complete"),ct(this,"abort"),zo(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zo(this,!0)),Ze.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?nc(this):this.bb())},t.bb=function(){nc(this)};function nc(a){if(a.h&&typeof o<"u"&&(!a.v[1]||an(a)!=4||a.Z()!=2)){if(a.u&&an(a)==4)dt(a.Ea,0,a);else if(ct(a,"readystatechange"),an(a)==4){a.h=!1;try{const te=a.Z();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var g;if(!(g=f)){var I;if(I=te===0){var $=String(a.D).match(qu)[1]||null;!$&&l.self&&l.self.location&&($=l.self.location.protocol.slice(0,-1)),I=!Zu.test($?$.toLowerCase():"")}g=I}if(g)ct(a,"complete"),ct(a,"success");else{a.m=6;try{var q=2<an(a)?a.g.statusText:""}catch{q=""}a.l=q+" ["+a.Z()+"]",tc(a)}}finally{zo(a)}}}}function zo(a,f){if(a.g){rc(a);const g=a.g,I=a.v[0]?()=>{}:null;a.g=null,a.v=null,f||ct(a,"ready");try{g.onreadystatechange=I}catch{}}}function rc(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function an(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<an(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var f=this.g.responseText;return a&&f.indexOf(a)==0&&(f=f.substring(a.length)),gi(f)}};function ic(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function sc(a){const f={};a=(a.g&&2<=an(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<a.length;I++){if(T(a[I]))continue;var g=D(a[I]);const $=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const q=f[$]||[];f[$]=q,q.push(g)}A(f,function(I){return I.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function qi(a,f,g){return g&&g.internalChannelParams&&g.internalChannelParams[a]||f}function oc(a){this.Aa=0,this.i=[],this.j=new U,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qi("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qi("baseRetryDelayMs",5e3,a),this.cb=qi("retryDelaySeedMs",1e4,a),this.Wa=qi("forwardChannelMaxRetries",2,a),this.wa=qi("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new we(a&&a.concurrentRequestLimit),this.Da=new gf,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=oc.prototype,t.la=8,t.G=1,t.connect=function(a,f,g,I){fe(0),this.W=a,this.H=f||{},g&&I!==void 0&&(this.H.OSID=g,this.H.OAID=I),this.F=this.X,this.I=hc(this,null,this.W),Ho(this)};function el(a){if(ac(a),a.G==3){var f=a.U++,g=kr(a.I);if(We(g,"SID",a.K),We(g,"RID",f),We(g,"TYPE","terminate"),cr(a,g),f=new Ae(a,a.j,f),f.L=2,f.v=Bs(kr(g)),g=!1,l.navigator&&l.navigator.sendBeacon)try{g=l.navigator.sendBeacon(f.v.toString(),"")}catch{}!g&&l.Image&&(new Image().src=f.v,g=!0),g||(f.g=rl(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Wn(f)}dc(a)}function $o(a){a.g&&(tl(a),a.g.cancel(),a.g=null)}function ac(a){$o(a),a.u&&(l.clearTimeout(a.u),a.u=null),qo(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function Ho(a){if(!Xe(a.h)&&!a.s){a.s=!0;var f=a.Ga;ye||ue(),ee||(ye(),ee=!0),X.add(f,a),a.B=0}}function yf(a,f){return Kt(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=f.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=M(w(a.Ga,a,f),Ki(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const $=new Ae(this,this.j,a);let q=this.o;if(this.S&&(q?(q=E(q),C(q,this.S)):q=this.S),this.m!==null||this.O||($.H=q,q=null),this.P)e:{for(var f=0,g=0;g<this.i.length;g++){t:{var I=this.i[g];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(f+=I,4096<f){f=g;break e}if(f===4096||g===this.i.length-1){f=g+1;break e}}f=1e3}else f=1e3;f=uc(this,$,f),g=kr(this.I),We(g,"RID",a),We(g,"CVER",22),this.D&&We(g,"X-HTTP-Session-Id",this.D),cr(this,g),q&&(this.O?f="headers="+encodeURIComponent(String(Ja(q)))+"&"+f:this.m&&Za(g,this.m,q)),yn(this.h,$),this.Ua&&We(g,"TYPE","init"),this.P?(We(g,"$req",f),We(g,"SID","null"),$.T=!0,ht($,g,null)):ht($,g,f),this.G=2}}else this.G==3&&(a?lc(this,a):this.i.length==0||Xe(this.h)||lc(this))};function lc(a,f){var g;f?g=f.l:g=a.U++;const I=kr(a.I);We(I,"SID",a.K),We(I,"RID",g),We(I,"AID",a.T),cr(a,I),a.m&&a.o&&Za(I,a.m,a.o),g=new Ae(a,a.j,g,a.B+1),a.m===null&&(g.H=a.o),f&&(a.i=f.D.concat(a.i)),f=uc(a,g,1e3),g.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),yn(a.h,g),ht(g,I,f)}function cr(a,f){a.H&&L(a.H,function(g,I){We(f,I,g)}),a.l&&Qe({},function(g,I){We(f,I,g)})}function uc(a,f,g){g=Math.min(a.i.length,g);var I=a.l?w(a.l.Na,a.l,a):null;e:{var $=a.i;let q=-1;for(;;){const te=["count="+g];q==-1?0<g?(q=$[0].g,te.push("ofs="+q)):q=0:te.push("ofs="+q);let $e=!0;for(let Vt=0;Vt<g;Vt++){let je=$[Vt].g;const Gt=$[Vt].map;if(je-=q,0>je)q=Math.max(0,$[Vt].g-100),$e=!1;else try{Xu(Gt,te,"req"+je+"_")}catch{I&&I(Gt)}}if($e){I=te.join("&");break e}}}return a=a.i.splice(0,g),f.D=a,I}function cc(a){if(!a.g&&!a.u){a.Y=1;var f=a.Fa;ye||ue(),ee||(ye(),ee=!0),X.add(f,a),a.v=0}}function Wo(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=M(w(a.Fa,a),Ki(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,Rr(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=M(w(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,fe(10),$o(this),Rr(this))};function tl(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function Rr(a){a.g=new Ae(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var f=kr(a.qa);We(f,"RID","rpc"),We(f,"SID",a.K),We(f,"AID",a.T),We(f,"CI",a.F?"0":"1"),!a.F&&a.ja&&We(f,"TO",a.ja),We(f,"TYPE","xmlhttp"),cr(a,f),a.m&&a.o&&Za(f,a.m,a.o),a.L&&(a.g.I=a.L);var g=a.g;a=a.ia,g.L=1,g.v=Bs(kr(f)),g.m=null,g.P=!0,He(g,a)}t.Za=function(){this.C!=null&&(this.C=null,$o(this),Wo(this),fe(19))};function qo(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function nl(a,f){var g=null;if(a.g==f){qo(a),tl(a),a.g=null;var I=2}else if(Ve(a.h,f))g=f.D,Us(a.h,f),I=1;else return;if(a.G!=0){if(f.o)if(I==1){g=f.m?f.m.length:0,f=Date.now()-f.F;var $=a.B;I=Pt(),ct(I,new vn(I,g)),Ho(a)}else cc(a);else if($=f.s,$==3||$==0&&0<f.X||!(I==1&&yf(a,f)||I==2&&Wo(a)))switch(g&&0<g.length&&(f=a.h,f.i=f.i.concat(g)),$){case 1:wi(a,5);break;case 4:wi(a,10);break;case 3:wi(a,6);break;default:wi(a,2)}}}function Ki(a,f){let g=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(g*=2),g*f}function wi(a,f){if(a.j.info("Error code "+f),f==2){var g=w(a.fb,a),I=a.Xa;const $=!I;I=new yi(I||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Fo(I,"https"),Bs(I),$?pf(I.toString(),g):mf(I.toString(),g)}else fe(2);a.G=0,a.l&&a.l.sa(f),dc(a),ac(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),fe(2)):(this.j.info("Failed to ping google.com"),fe(1))};function dc(a){if(a.G=0,a.ka=[],a.l){const f=jo(a.h);(f.length!=0||a.i.length!=0)&&(j(a.ka,f),j(a.ka,a.i),a.h.i.length=0,N(a.i),a.i.length=0),a.l.ra()}}function hc(a,f,g){var I=g instanceof yi?kr(g):new yi(g);if(I.g!="")f&&(I.g=f+"."+I.g),Uo(I,I.s);else{var $=l.location;I=$.protocol,f=f?f+"."+$.hostname:$.hostname,$=+$.port;var q=new yi(null);I&&Fo(q,I),f&&(q.g=f),$&&Uo(q,$),g&&(q.l=g),I=q}return g=a.D,f=a.ya,g&&f&&We(I,g,f),We(I,"VER",a.la),cr(a,I),I}function rl(a,f,g){if(f&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=a.Ca&&!a.pa?new Ze(new $s({eb:g})):new Ze(a.pa),f.Ha(a.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function _i(){}t=_i.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ko(){}Ko.prototype.g=function(a,f){return new wn(a,f)};function wn(a,f){wt.call(this),this.g=new oc(f),this.l=a,this.h=f&&f.messageUrlParams||null,a=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(a?a["X-WebChannel-Content-Type"]=f.messageContentType:a={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(a?a["X-WebChannel-Client-Profile"]=f.va:a={"X-WebChannel-Client-Profile":f.va}),this.g.S=a,(a=f&&f.Sb)&&!T(a)&&(this.g.m=a),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!T(f)&&(this.g.D=f,a=this.h,a!==null&&f in a&&(a=this.h,f in a&&delete a[f])),this.j=new Gi(this)}x(wn,wt),wn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){el(this.g)},wn.prototype.o=function(a){var f=this.g;if(typeof a=="string"){var g={};g.__data__=a,a=g}else this.u&&(g={},g.__data__=mi(a),a=g);f.i.push(new Nn(f.Ya++,a)),f.G==3&&Ho(f)},wn.prototype.N=function(){this.g.l=null,delete this.j,el(this.g),delete this.g,wn.aa.N.call(this)};function fc(a){$r.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var f=a.__sm__;if(f){e:{for(const g in f){a=g;break e}a=void 0}(this.i=a)&&(a=this.i,f=f!==null&&a in f?f[a]:void 0),this.data=f}else this.data=a}x(fc,$r);function pc(){Ct.call(this),this.status=1}x(pc,Ct);function Gi(a){this.g=a}x(Gi,_i),Gi.prototype.ua=function(){ct(this.g,"a")},Gi.prototype.ta=function(a){ct(this.g,new fc(a))},Gi.prototype.sa=function(a){ct(this.g,new pc)},Gi.prototype.ra=function(){ct(this.g,"b")},Ko.prototype.createWebChannel=Ko.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,bT=function(){return new Ko},AT=function(){return Pt()},CT=Mt,Im={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Q.NO_ERROR=0,Q.TIMEOUT=8,Q.HTTP_ERROR=6,ld=Q,ge.COMPLETE="complete",ST=ge,vi.EventType=Rn,Rn.OPEN="a",Rn.CLOSE="b",Rn.ERROR="c",Rn.MESSAGE="d",wt.prototype.listen=wt.prototype.K,Al=vi,IT=$s,Ze.prototype.listenOnce=Ze.prototype.L,Ze.prototype.getLastError=Ze.prototype.Ka,Ze.prototype.getLastErrorCode=Ze.prototype.Ba,Ze.prototype.getStatus=Ze.prototype.Z,Ze.prototype.getResponseJson=Ze.prototype.Oa,Ze.prototype.getResponseText=Ze.prototype.oa,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Ha,TT=Ze}).apply(typeof Vc<"u"?Vc:typeof self<"u"?self:typeof window<"u"?window:{});const L0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ga="10.12.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To=new xh("@firebase/firestore");function gl(){return To.logLevel}function oe(t,...e){if(To.logLevel<=Le.DEBUG){const n=e.map(ov);To.debug(`Firestore (${Ga}): ${t}`,...n)}}function ji(t,...e){if(To.logLevel<=Le.ERROR){const n=e.map(ov);To.error(`Firestore (${Ga}): ${t}`,...n)}}function La(t,...e){if(To.logLevel<=Le.WARN){const n=e.map(ov);To.warn(`Firestore (${Ga}): ${t}`,...n)}}function ov(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(t="Unexpected state"){const e=`FIRESTORE (${Ga}) INTERNAL ASSERTION FAILED: `+t;throw ji(e),new Error(e)}function nt(t,e){t||ve()}function Ie(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Er{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class CD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(dn.UNAUTHENTICATED))}shutdown(){}}class AD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class bD{constructor(e){this.t=e,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new Ni;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ni,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ni)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(nt(typeof r.accessToken=="string"),new kT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return nt(e===null||typeof e=="string"),new dn(e)}}class kD{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class PD{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new kD(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(dn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class RD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xD{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,oe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(nt(typeof n.token=="string"),this.R=n.token,new RD(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ND(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=ND(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function qe(t,e){return t<e?-1:t>e?1:0}function Ma(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new de(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return zt.fromMillis(Date.now())}static fromDate(e){return zt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new zt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.timestamp=e}static fromTimestamp(e){return new _e(e)}static min(){return new _e(new zt(0,0))}static max(){return new _e(new zt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,n,r){n===void 0?n=0:n>e.length&&ve(),r===void 0?r=e.length-n:r>e.length-n&&ve(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return _u.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof _u?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ot extends _u{construct(e,n,r){return new ot(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new de(Y.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ot(n)}static emptyPath(){return new ot([])}}const DD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends _u{construct(e,n,r){return new en(e,n,r)}static isValidIdentifier(e){return DD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new en(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new de(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new de(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new de(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new de(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(n)}static emptyPath(){return new en([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.path=e}static fromPath(e){return new he(ot.fromString(e))}static fromName(e){return new he(ot.fromString(e).popFirst(5))}static empty(){return new he(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new he(new ot(e.slice()))}}function OD(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=_e.fromTimestamp(r===1e9?new zt(n+1,0):new zt(n,r));return new As(i,he.empty(),e)}function LD(t){return new As(t.readTime,t.key,-1)}class As{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new As(_e.min(),he.empty(),-1)}static max(){return new As(_e.max(),he.empty(),-1)}}function MD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=he.comparator(t.documentKey,e.documentKey),n!==0?n:qe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fu(t){if(t.code!==Y.FAILED_PRECONDITION||t.message!==VD)throw t;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ve(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):J.reject(n)}static resolve(e){return new J((n,r)=>{n(e)})}static reject(e){return new J((n,r)=>{r(e)})}static waitFor(e){return new J((n,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=J.resolve(!1);for(const r of e)n=n.next(i=>i?J.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new J((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let u=0;u<s;u++){const d=u;n(e[d]).next(p=>{o[d]=p,++l,l===s&&r(o)},p=>i(p))}})}static doWhile(e,n){return new J((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function FD(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Uu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}av.oe=-1;function Vh(t){return t==null}function Jd(t){return t===0&&1/t==-1/0}function UD(t){return typeof t=="number"&&Number.isInteger(t)&&!Jd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Lo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function RT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,n){this.comparator=e,this.root=n||Zt.EMPTY}insert(e,n){return new yt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jc(this.root,e,this.comparator,!1)}getReverseIterator(){return new jc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jc(this.root,e,this.comparator,!0)}}class jc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Zt.RED,this.left=i??Zt.EMPTY,this.right=s??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Zt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Zt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ve();const e=this.left.check();if(e!==this.right.check())throw ve();return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw ve()}get value(){throw ve()}get color(){throw ve()}get left(){throw ve()}get right(){throw ve()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Zt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new V0(this.data.getIterator())}getIteratorFrom(e){return new V0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof nn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new nn(this.comparator);return n.data=e,n}}class V0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new Qn([])}unionWith(e){let n=new nn(en.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Qn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ma(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new xT("Invalid base64 string: "+s):s}}(e);return new gn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new gn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gn.EMPTY_BYTE_STRING=new gn("");const BD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bs(t){if(nt(!!t),typeof t=="string"){let e=0;const n=BD.exec(t);if(nt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Dt(t.seconds),nanos:Dt(t.nanos)}}function Dt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Io(t){return typeof t=="string"?gn.fromBase64String(t):gn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function uv(t){const e=t.mapValue.fields.__previous_value__;return lv(e)?uv(e):e}function Eu(t){const e=bs(t.mapValue.fields.__local_write_time__.timestampValue);return new zt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e,n,r,i,s,o,l,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=d}}class Tu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Tu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Tu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function So(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?lv(t)?4:$D(t)?9007199254740991:10:ve()}function li(t,e){if(t===e)return!0;const n=So(t);if(n!==So(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Eu(t).isEqual(Eu(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=bs(i.timestampValue),l=bs(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Io(i.bytesValue).isEqual(Io(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Dt(i.geoPointValue.latitude)===Dt(s.geoPointValue.latitude)&&Dt(i.geoPointValue.longitude)===Dt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Dt(i.integerValue)===Dt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Dt(i.doubleValue),l=Dt(s.doubleValue);return o===l?Jd(o)===Jd(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return Ma(t.arrayValue.values||[],e.arrayValue.values||[],li);case 10:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(M0(o)!==M0(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!li(o[u],l[u])))return!1;return!0}(t,e);default:return ve()}}function Iu(t,e){return(t.values||[]).find(n=>li(n,e))!==void 0}function Va(t,e){if(t===e)return 0;const n=So(t),r=So(e);if(n!==r)return qe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return qe(t.booleanValue,e.booleanValue);case 2:return function(s,o){const l=Dt(s.integerValue||s.doubleValue),u=Dt(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return j0(t.timestampValue,e.timestampValue);case 4:return j0(Eu(t),Eu(e));case 5:return qe(t.stringValue,e.stringValue);case 6:return function(s,o){const l=Io(s),u=Io(o);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),u=o.split("/");for(let d=0;d<l.length&&d<u.length;d++){const p=qe(l[d],u[d]);if(p!==0)return p}return qe(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const l=qe(Dt(s.latitude),Dt(o.latitude));return l!==0?l:qe(Dt(s.longitude),Dt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const l=s.values||[],u=o.values||[];for(let d=0;d<l.length&&d<u.length;++d){const p=Va(l[d],u[d]);if(p)return p}return qe(l.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Fc.mapValue&&o===Fc.mapValue)return 0;if(s===Fc.mapValue)return 1;if(o===Fc.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),d=o.fields||{},p=Object.keys(d);u.sort(),p.sort();for(let m=0;m<u.length&&m<p.length;++m){const w=qe(u[m],p[m]);if(w!==0)return w;const b=Va(l[u[m]],d[p[m]]);if(b!==0)return b}return qe(u.length,p.length)}(t.mapValue,e.mapValue);default:throw ve()}}function j0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return qe(t,e);const n=bs(t),r=bs(e),i=qe(n.seconds,r.seconds);return i!==0?i:qe(n.nanos,r.nanos)}function ja(t){return Sm(t)}function Sm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=bs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Io(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return he.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Sm(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Sm(n.fields[o])}`;return i+"}"}(t.mapValue):ve()}function Cm(t){return!!t&&"integerValue"in t}function cv(t){return!!t&&"arrayValue"in t}function F0(t){return!!t&&"nullValue"in t}function U0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ud(t){return!!t&&"mapValue"in t}function Bl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Lo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Bl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Bl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function $D(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.value=e}static empty(){return new On({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ud(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bl(n)}setAll(e){let n=en.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=Bl(o):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());ud(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return li(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ud(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Lo(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new On(Bl(this.value))}}function NT(t){const e=[];return Lo(t.fields,(n,r)=>{const i=new en([n]);if(ud(r)){const s=NT(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Qn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,n,r,i,s,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new fn(e,0,_e.min(),_e.min(),_e.min(),On.empty(),0)}static newFoundDocument(e,n,r,i){return new fn(e,1,n,_e.min(),r,i,0)}static newNoDocument(e,n){return new fn(e,2,n,_e.min(),_e.min(),On.empty(),0)}static newUnknownDocument(e,n){return new fn(e,3,n,_e.min(),_e.min(),On.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(_e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=On.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=On.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e,n){this.position=e,this.inclusive=n}}function B0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=he.comparator(he.fromName(o.referenceValue),n.key):r=Va(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function z0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!li(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,n="asc"){this.field=e,this.dir=n}}function HD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{}class Ut extends DT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new qD(e,n,r):n==="array-contains"?new QD(e,r):n==="in"?new YD(e,r):n==="not-in"?new XD(e,r):n==="array-contains-any"?new JD(e,r):new Ut(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new KD(e,r):new GD(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Va(n,this.value)):n!==null&&So(this.value)===So(n)&&this.matchesComparison(Va(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ui extends DT{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new ui(e,n)}matches(e){return OT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function OT(t){return t.op==="and"}function LT(t){return WD(t)&&OT(t)}function WD(t){for(const e of t.filters)if(e instanceof ui)return!1;return!0}function Am(t){if(t instanceof Ut)return t.field.canonicalString()+t.op.toString()+ja(t.value);if(LT(t))return t.filters.map(e=>Am(e)).join(",");{const e=t.filters.map(n=>Am(n)).join(",");return`${t.op}(${e})`}}function MT(t,e){return t instanceof Ut?function(r,i){return i instanceof Ut&&r.op===i.op&&r.field.isEqual(i.field)&&li(r.value,i.value)}(t,e):t instanceof ui?function(r,i){return i instanceof ui&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,l)=>s&&MT(o,i.filters[l]),!0):!1}(t,e):void ve()}function VT(t){return t instanceof Ut?function(n){return`${n.field.canonicalString()} ${n.op} ${ja(n.value)}`}(t):t instanceof ui?function(n){return n.op.toString()+" {"+n.getFilters().map(VT).join(" ,")+"}"}(t):"Filter"}class qD extends Ut{constructor(e,n,r){super(e,n,r),this.key=he.fromName(r.referenceValue)}matches(e){const n=he.comparator(e.key,this.key);return this.matchesComparison(n)}}class KD extends Ut{constructor(e,n){super(e,"in",n),this.keys=jT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class GD extends Ut{constructor(e,n){super(e,"not-in",n),this.keys=jT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function jT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>he.fromName(r.referenceValue))}class QD extends Ut{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return cv(n)&&Iu(n.arrayValue,this.value)}}class YD extends Ut{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Iu(this.value.arrayValue,n)}}class XD extends Ut{constructor(e,n){super(e,"not-in",n)}matches(e){if(Iu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Iu(this.value.arrayValue,n)}}class JD extends Ut{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!cv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Iu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.ue=null}}function $0(t,e=null,n=[],r=[],i=null,s=null,o=null){return new ZD(t,e,n,r,i,s,o)}function dv(t){const e=Ie(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Am(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Vh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ja(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ja(r)).join(",")),e.ue=n}return e.ue}function hv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!HD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!MT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!z0(t.startAt,e.startAt)&&z0(t.endAt,e.endAt)}function bm(t){return he.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function eO(t,e,n,r,i,s,o,l){return new jh(t,e,n,r,i,s,o,l)}function fv(t){return new jh(t)}function H0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function tO(t){return t.collectionGroup!==null}function zl(t){const e=Ie(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new nn(en.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(l=l.add(d.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new eh(s,r))}),n.has(en.keyField().canonicalString())||e.ce.push(new eh(en.keyField(),r))}return e.ce}function oi(t){const e=Ie(t);return e.le||(e.le=nO(e,zl(t))),e.le}function nO(t,e){if(t.limitType==="F")return $0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new eh(i.field,s)});const n=t.endAt?new Zd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Zd(t.startAt.position,t.startAt.inclusive):null;return $0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function km(t,e,n){return new jh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Fh(t,e){return hv(oi(t),oi(e))&&t.limitType===e.limitType}function FT(t){return`${dv(oi(t))}|lt:${t.limitType}`}function Jo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>VT(i)).join(", ")}]`),Vh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ja(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ja(i)).join(",")),`Target(${r})`}(oi(t))}; limitType=${t.limitType})`}function Uh(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):he.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of zl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,l,u){const d=B0(o,l,u);return o.inclusive?d<=0:d<0}(r.startAt,zl(r),i)||r.endAt&&!function(o,l,u){const d=B0(o,l,u);return o.inclusive?d>=0:d>0}(r.endAt,zl(r),i))}(t,e)}function rO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function UT(t){return(e,n)=>{let r=!1;for(const i of zl(t)){const s=iO(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function iO(t,e,n){const r=t.field.isKeyField()?he.comparator(e.key,n.key):function(s,o,l){const u=o.data.field(s),d=l.data.field(s);return u!==null&&d!==null?Va(u,d):ve()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Lo(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return RT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO=new yt(he.comparator);function Fi(){return sO}const BT=new yt(he.comparator);function bl(...t){let e=BT;for(const n of t)e=e.insert(n.key,n);return e}function zT(t){let e=BT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function io(){return $l()}function $T(){return $l()}function $l(){return new Qa(t=>t.toString(),(t,e)=>t.isEqual(e))}const oO=new yt(he.comparator),aO=new nn(he.comparator);function De(...t){let e=aO;for(const n of t)e=e.add(n);return e}const lO=new nn(qe);function uO(){return lO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jd(e)?"-0":e}}function WT(t){return{integerValue:""+t}}function cO(t,e){return UD(e)?WT(e):HT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(){this._=void 0}}function dO(t,e,n){return t instanceof th?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&lv(s)&&(s=uv(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Su?KT(t,e):t instanceof Cu?GT(t,e):function(i,s){const o=qT(i,s),l=W0(o)+W0(i.Pe);return Cm(o)&&Cm(i.Pe)?WT(l):HT(i.serializer,l)}(t,e)}function hO(t,e,n){return t instanceof Su?KT(t,e):t instanceof Cu?GT(t,e):n}function qT(t,e){return t instanceof nh?function(r){return Cm(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class th extends Bh{}class Su extends Bh{constructor(e){super(),this.elements=e}}function KT(t,e){const n=QT(e);for(const r of t.elements)n.some(i=>li(i,r))||n.push(r);return{arrayValue:{values:n}}}class Cu extends Bh{constructor(e){super(),this.elements=e}}function GT(t,e){let n=QT(e);for(const r of t.elements)n=n.filter(i=>!li(i,r));return{arrayValue:{values:n}}}class nh extends Bh{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function W0(t){return Dt(t.integerValue||t.doubleValue)}function QT(t){return cv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function fO(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Su&&i instanceof Su||r instanceof Cu&&i instanceof Cu?Ma(r.elements,i.elements,li):r instanceof nh&&i instanceof nh?li(r.Pe,i.Pe):r instanceof th&&i instanceof th}(t.transform,e.transform)}class pO{constructor(e,n){this.version=e,this.transformResults=n}}class gr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new gr}static exists(e){return new gr(void 0,e)}static updateTime(e){return new gr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class zh{}function YT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new pv(t.key,gr.none()):new Bu(t.key,t.data,gr.none());{const n=t.data,r=On.empty();let i=new nn(en.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ls(t.key,r,new Qn(i.toArray()),gr.none())}}function mO(t,e,n){t instanceof Bu?function(i,s,o){const l=i.value.clone(),u=K0(i.fieldTransforms,s,o.transformResults);l.setAll(u),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Ls?function(i,s,o){if(!cd(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=K0(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(XT(i)),u.setAll(l),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Hl(t,e,n,r){return t instanceof Bu?function(s,o,l,u){if(!cd(s.precondition,o))return l;const d=s.value.clone(),p=G0(s.fieldTransforms,u,o);return d.setAll(p),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ls?function(s,o,l,u){if(!cd(s.precondition,o))return l;const d=G0(s.fieldTransforms,u,o),p=o.data;return p.setAll(XT(s)),p.setAll(d),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(s,o,l){return cd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function gO(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=qT(r.transform,i||null);s!=null&&(n===null&&(n=On.empty()),n.set(r.field,s))}return n||null}function q0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ma(r,i,(s,o)=>fO(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Bu extends zh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ls extends zh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function XT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function K0(t,e,n){const r=new Map;nt(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,hO(o,l,n[i]))}return r}function G0(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,dO(s,o,e))}return r}class pv extends zh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vO extends zh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&mO(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Hl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Hl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=$T();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const u=YT(o,l);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(_e.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),De())}isEqual(e){return this.batchId===e.batchId&&Ma(this.mutations,e.mutations,(n,r)=>q0(n,r))&&Ma(this.baseMutations,e.baseMutations,(n,r)=>q0(n,r))}}class mv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){nt(e.mutations.length===r.length);let i=function(){return oO}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new mv(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt,Fe;function EO(t){switch(t){default:return ve();case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0}}function JT(t){if(t===void 0)return ji("GRPC error has no .code"),Y.UNKNOWN;switch(t){case xt.OK:return Y.OK;case xt.CANCELLED:return Y.CANCELLED;case xt.UNKNOWN:return Y.UNKNOWN;case xt.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case xt.INTERNAL:return Y.INTERNAL;case xt.UNAVAILABLE:return Y.UNAVAILABLE;case xt.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case xt.NOT_FOUND:return Y.NOT_FOUND;case xt.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case xt.ABORTED:return Y.ABORTED;case xt.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case xt.DATA_LOSS:return Y.DATA_LOSS;default:return ve()}}(Fe=xt||(xt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO=new lo([4294967295,4294967295],0);function Q0(t){const e=TO().encode(t),n=new ET;return n.update(e),new Uint8Array(n.digest())}function Y0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new lo([n,r],0),new lo([i,s],0)]}class gv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new kl(`Invalid padding: ${n}`);if(r<0)throw new kl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new kl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new kl(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=lo.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(lo.fromNumber(r)));return i.compare(IO)===1&&(i=new lo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Q0(e),[r,i]=Y0(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new gv(s,i,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Ie===0)return;const n=Q0(e),[r,i]=Y0(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,zu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new $h(_e.min(),i,new yt(qe),Fi(),De())}}class zu{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new zu(r,n,De(),De(),De())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class ZT{constructor(e,n){this.targetId=e,this.me=n}}class eI{constructor(e,n,r=gn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class X0{constructor(){this.fe=0,this.ge=Z0(),this.pe=gn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=De(),n=De(),r=De();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ve()}}),new zu(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=Z0()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,nt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class SO{constructor(e){this.Le=e,this.Be=new Map,this.ke=Fi(),this.qe=J0(),this.Qe=new yt(qe)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ve()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(bm(s))if(r===0){const o=new he(s.path);this.Ue(n,o,fn.newNoDocument(o,_e.min()))}else nt(r===1);else{const o=this.Ye(n);if(o!==r){const l=this.Ze(e),u=l?this.Xe(l,e,o):1;if(u!==0){this.je(n);const d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,d)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,l;try{o=Io(r).toUint8Array()}catch(u){if(u instanceof xT)return La("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new gv(o,i,s)}catch(u){return La(u instanceof kl?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const l=this.Je(o);if(l){if(s.current&&bm(l.target)){const u=new he(l.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,fn.newNoDocument(u,e))}s.be&&(n.set(o,s.Ce()),s.ve())}});let r=De();this.qe.forEach((s,o)=>{let l=!0;o.forEachWhile(u=>{const d=this.Je(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new $h(e,n,this.Qe,this.ke,r);return this.ke=Fi(),this.qe=J0(),this.Qe=new yt(qe),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new X0,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new nn(qe),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||oe("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new X0),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function J0(){return new yt(he.comparator)}function Z0(){return new yt(he.comparator)}const CO={asc:"ASCENDING",desc:"DESCENDING"},AO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bO={and:"AND",or:"OR"};class kO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Pm(t,e){return t.useProto3Json||Vh(e)?e:{value:e}}function rh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function PO(t,e){return rh(t,e.toTimestamp())}function ai(t){return nt(!!t),_e.fromTimestamp(function(n){const r=bs(n);return new zt(r.seconds,r.nanos)}(t))}function vv(t,e){return Rm(t,e).canonicalString()}function Rm(t,e){const n=function(i){return new ot(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function nI(t){const e=ot.fromString(t);return nt(aI(e)),e}function xm(t,e){return vv(t.databaseId,e.path)}function sp(t,e){const n=nI(e);if(n.get(1)!==t.databaseId.projectId)throw new de(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new de(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new he(iI(n))}function rI(t,e){return vv(t.databaseId,e)}function RO(t){const e=nI(t);return e.length===4?ot.emptyPath():iI(e)}function Nm(t){return new ot(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function iI(t){return nt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function e_(t,e,n){return{name:xm(t,e),fields:n.value.mapValue.fields}}function xO(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ve()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(d,p){return d.useProto3Json?(nt(p===void 0||typeof p=="string"),gn.fromBase64String(p||"")):(nt(p===void 0||p instanceof Buffer||p instanceof Uint8Array),gn.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(d){const p=d.code===void 0?Y.UNKNOWN:JT(d.code);return new de(p,d.message||"")}(o);n=new eI(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=sp(t,r.document.name),s=ai(r.document.updateTime),o=r.document.createTime?ai(r.document.createTime):_e.min(),l=new On({mapValue:{fields:r.document.fields}}),u=fn.newFoundDocument(i,s,o,l),d=r.targetIds||[],p=r.removedTargetIds||[];n=new dd(d,p,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=sp(t,r.document),s=r.readTime?ai(r.readTime):_e.min(),o=fn.newNoDocument(i,s),l=r.removedTargetIds||[];n=new dd([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=sp(t,r.document),s=r.removedTargetIds||[];n=new dd([],s,i,null)}else{if(!("filter"in e))return ve();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new _O(i,s),l=r.targetId;n=new ZT(l,o)}}return n}function NO(t,e){let n;if(e instanceof Bu)n={update:e_(t,e.key,e.value)};else if(e instanceof pv)n={delete:xm(t,e.key)};else if(e instanceof Ls)n={update:e_(t,e.key,e.data),updateMask:BO(e.fieldMask)};else{if(!(e instanceof vO))return ve();n={verify:xm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const l=o.transform;if(l instanceof th)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Su)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Cu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof nh)return{fieldPath:o.field.canonicalString(),increment:l.Pe};throw ve()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:PO(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ve()}(t,e.precondition)),n}function DO(t,e){return t&&t.length>0?(nt(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?ai(i.updateTime):ai(s);return o.isEqual(_e.min())&&(o=ai(s)),new pO(o,i.transformResults||[])}(n,e))):[]}function OO(t,e){return{documents:[rI(t,e.path)]}}function LO(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=rI(t,i);const s=function(d){if(d.length!==0)return oI(ui.create(d,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(d){if(d.length!==0)return d.map(p=>function(w){return{field:Zo(w.field),direction:jO(w.dir)}}(p))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=Pm(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:n,parent:i}}function MO(t){let e=RO(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){nt(r===1);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];n.where&&(s=function(m){const w=sI(m);return w instanceof ui&&LT(w)?w.getFilters():[w]}(n.where));let o=[];n.orderBy&&(o=function(m){return m.map(w=>function(x){return new eh(ea(x.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(w))}(n.orderBy));let l=null;n.limit&&(l=function(m){let w;return w=typeof m=="object"?m.value:m,Vh(w)?null:w}(n.limit));let u=null;n.startAt&&(u=function(m){const w=!!m.before,b=m.values||[];return new Zd(b,w)}(n.startAt));let d=null;return n.endAt&&(d=function(m){const w=!m.before,b=m.values||[];return new Zd(b,w)}(n.endAt)),eO(e,i,o,s,l,"F",u,d)}function VO(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function sI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ea(n.unaryFilter.field);return Ut.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ea(n.unaryFilter.field);return Ut.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ea(n.unaryFilter.field);return Ut.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ea(n.unaryFilter.field);return Ut.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ve()}}(t):t.fieldFilter!==void 0?function(n){return Ut.create(ea(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ve()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ui.create(n.compositeFilter.filters.map(r=>sI(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ve()}}(n.compositeFilter.op))}(t):ve()}function jO(t){return CO[t]}function FO(t){return AO[t]}function UO(t){return bO[t]}function Zo(t){return{fieldPath:t.canonicalString()}}function ea(t){return en.fromServerFormat(t.fieldPath)}function oI(t){return t instanceof Ut?function(n){if(n.op==="=="){if(U0(n.value))return{unaryFilter:{field:Zo(n.field),op:"IS_NAN"}};if(F0(n.value))return{unaryFilter:{field:Zo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(U0(n.value))return{unaryFilter:{field:Zo(n.field),op:"IS_NOT_NAN"}};if(F0(n.value))return{unaryFilter:{field:Zo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zo(n.field),op:FO(n.op),value:n.value}}}(t):t instanceof ui?function(n){const r=n.getFilters().map(i=>oI(i));return r.length===1?r[0]:{compositeFilter:{op:UO(n.op),filters:r}}}(t):ve()}function BO(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function aI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e,n,r,i,s=_e.min(),o=_e.min(),l=gn.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new cs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new cs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e){this.ct=e}}function $O(t){const e=MO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?km(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(){this._n=new WO}addToCollectionParentIndex(e,n){return this._n.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(As.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(As.min())}updateCollectionGroup(e,n,r){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class WO{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new nn(ot.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new nn(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Fa(0)}static Ln(){return new Fa(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(){this.changes=new Qa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?J.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Hl(r.mutation,i,Qn.empty(),zt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,De()).next(()=>r))}getLocalViewOfDocuments(e,n,r=De()){const i=io();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=bl();return s.forEach((l,u)=>{o=o.insert(l,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=io();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,De()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,i){let s=Fi();const o=$l(),l=function(){return $l()}();return n.forEach((u,d)=>{const p=r.get(d.key);i.has(d.key)&&(p===void 0||p.mutation instanceof Ls)?s=s.insert(d.key,d):p!==void 0?(o.set(d.key,p.mutation.getFieldMask()),Hl(p.mutation,d,p.mutation.getFieldMask(),zt.now())):o.set(d.key,Qn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((d,p)=>o.set(d,p)),n.forEach((d,p)=>{var m;return l.set(d,new KO(p,(m=o.get(d))!==null&&m!==void 0?m:null))}),l))}recalculateAndSaveOverlays(e,n){const r=$l();let i=new yt((o,l)=>o-l),s=De();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(u=>{const d=n.get(u);if(d===null)return;let p=r.get(u)||Qn.empty();p=l.applyToLocalView(d,p),r.set(u,p);const m=(i.get(l.batchId)||De()).add(u);i=i.insert(l.batchId,m)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),d=u.key,p=u.value,m=$T();p.forEach(w=>{if(!s.has(w)){const b=YT(n.get(w),r.get(w));b!==null&&m.set(w,b),s=s.add(w)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,m))}return J.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return he.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):tO(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):J.resolve(io());let l=-1,u=s;return o.next(d=>J.forEach(d,(p,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),s.get(p)?J.resolve():this.remoteDocumentCache.getEntry(e,p).next(w=>{u=u.insert(p,w)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,u,d,De())).next(p=>({batchId:l,changes:zT(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new he(n)).next(r=>{let i=bl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=bl();return this.indexManager.getCollectionParents(e,s).next(l=>J.forEach(l,u=>{const d=function(m,w){return new jh(w,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(p=>{p.forEach((m,w)=>{o=o.insert(m,w)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,d)=>{const p=d.getKey();o.get(p)===null&&(o=o.insert(p,fn.newInvalidDocument(p)))});let l=bl();return o.forEach((u,d)=>{const p=s.get(u);p!==void 0&&Hl(p.mutation,d,Qn.empty(),zt.now()),Uh(n,d)&&(l=l.insert(u,d))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return J.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ai(i.createTime)}}(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:$O(i.bundledQuery),readTime:ai(i.readTime)}}(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(){this.overlays=new yt(he.comparator),this.hr=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const r=io();return J.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),J.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),J.resolve()}getOverlaysForCollection(e,n,r){const i=io(),s=n.length+1,o=new he(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return J.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new yt((d,p)=>d-p);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let p=s.get(d.largestBatchId);p===null&&(p=io(),s=s.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}const l=io(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,p)=>l.set(d,p)),!(l.size()>=i)););return J.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new wO(n,r));let s=this.hr.get(n);s===void 0&&(s=De(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(){this.Pr=new nn(Qt.Ir),this.Tr=new nn(Qt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new Qt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Qt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new he(new ot([])),r=new Qt(n,e),i=new Qt(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new he(new ot([])),r=new Qt(n,e),i=new Qt(n,e+1);let s=De();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Qt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Qt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return he.comparator(e.key,n.key)||qe(e.pr,n.pr)}static Er(e,n){return qe(e.pr,n.pr)||he.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new nn(Qt.Ir)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new yO(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.wr=this.wr.add(new Qt(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return J.resolve(o)}lookupMutationBatch(e,n){return J.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return J.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Qt(n,0),i=new Qt(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const l=this.Sr(o.pr);s.push(l)}),J.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new nn(qe);return n.forEach(i=>{const s=new Qt(i,0),o=new Qt(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],l=>{r=r.add(l.pr)})}),J.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;he.isDocumentKey(s)||(s=s.child(""));const o=new Qt(new he(s),0);let l=new nn(qe);return this.wr.forEachWhile(u=>{const d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(l=l.add(u.pr)),!0)},o),J.resolve(this.Dr(l))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){nt(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return J.forEach(n.mutations,i=>{const s=new Qt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new Qt(n,0),i=this.wr.firstAfterOrEqual(r);return J.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e){this.vr=e,this.docs=function(){return new yt(he.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return J.resolve(r?r.document.mutableCopy():fn.newInvalidDocument(n))}getEntries(e,n){let r=Fi();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():fn.newInvalidDocument(i))}),J.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Fi();const o=n.path,l=new he(o.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:d,value:{document:p}}=u.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||MD(LD(p),r)<=0||(i.has(p.key)||Uh(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return J.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ve()}Fr(e,n){return J.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new ZO(this)}getSize(e){return J.resolve(this.size)}}class ZO extends qO{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),J.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(e){this.persistence=e,this.Mr=new Qa(n=>dv(n),hv),this.lastRemoteSnapshotVersion=_e.min(),this.highestTargetId=0,this.Or=0,this.Nr=new yv,this.targetCount=0,this.Lr=Fa.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),J.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new Fa(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.qn(n),J.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),J.waitFor(s).next(()=>i)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return J.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),J.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),J.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),J.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return J.resolve(r)}containsKey(e,n){return J.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(e,n){this.Br={},this.overlays={},this.kr=new av(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new eL(this),this.indexManager=new HO,this.remoteDocumentCache=function(i){return new JO(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new zO(n),this.$r=new QO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new YO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new XO(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){oe("MemoryPersistence","Starting transaction:",e);const i=new nL(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return J.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class nL extends jD{constructor(e){super(),this.currentSequenceNumber=e}}class wv{constructor(e){this.persistence=e,this.zr=new yv,this.jr=null}static Hr(e){return new wv(e)}get Jr(){if(this.jr)return this.jr;throw ve()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),J.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),J.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.Jr,r=>{const i=he.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,_e.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return J.or([()=>J.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=De(),i=De();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new _v(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return $R()?8:FD(sn())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new rL;return this.Ji(e,n,o).next(l=>{if(s.result=l,this.Ui)return this.Yi(e,n,o,l.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(gl()<=Le.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",Jo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),J.resolve()):(gl()<=Le.DEBUG&&oe("QueryEngine","Query:",Jo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(gl()<=Le.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",Jo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,oi(n))):J.resolve())}ji(e,n){if(H0(n))return J.resolve(null);let r=oi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=km(n,null,"F"),r=oi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=De(...s);return this.zi.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const d=this.Zi(n,l);return this.Xi(n,d,o,u.readTime)?this.ji(e,km(n,null,"F")):this.es(e,d,n,u)}))})))}Hi(e,n,r,i){return H0(n)||i.isEqual(_e.min())?J.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?J.resolve(null):(gl()<=Le.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Jo(n)),this.es(e,o,n,OD(i,-1)).next(l=>l))})}Zi(e,n){let r=new nn(UT(e));return n.forEach((i,s)=>{Uh(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return gl()<=Le.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",Jo(n)),this.zi.getDocumentsMatchingQuery(e,n,As.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new yt(qe),this.rs=new Qa(s=>dv(s),hv),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new GO(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function oL(t,e,n,r){return new sL(t,e,n,r)}async function lI(t,e){const n=Ie(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let u=De();for(const d of i){o.push(d.batchId);for(const p of d.mutations)u=u.add(p.key)}for(const d of s){l.push(d.batchId);for(const p of d.mutations)u=u.add(p.key)}return n.localDocuments.getDocuments(r,u).next(d=>({us:d,removedBatchIds:o,addedBatchIds:l}))})})}function aL(t,e){const n=Ie(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(l,u,d,p){const m=d.batch,w=m.keys();let b=J.resolve();return w.forEach(x=>{b=b.next(()=>p.getEntry(u,x)).next(N=>{const j=d.docVersions.get(x);nt(j!==null),N.version.compareTo(j)<0&&(m.applyToRemoteDocument(N,d),N.isValidDocument()&&(N.setReadTime(d.commitVersion),p.addEntry(N)))})}),b.next(()=>l.mutationQueue.removeMutationBatch(u,m))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=De();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(u=u.add(l.batch.mutations[d].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function uI(t){const e=Ie(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function lL(t,e){const n=Ie(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const l=[];e.targetChanges.forEach((p,m)=>{const w=i.get(m);if(!w)return;l.push(n.Qr.removeMatchingKeys(s,p.removedDocuments,m).next(()=>n.Qr.addMatchingKeys(s,p.addedDocuments,m)));let b=w.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?b=b.withResumeToken(gn.EMPTY_BYTE_STRING,_e.min()).withLastLimboFreeSnapshotVersion(_e.min()):p.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(p.resumeToken,r)),i=i.insert(m,b),function(N,j,P){return N.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0}(w,b,p)&&l.push(n.Qr.updateTargetData(s,b))});let u=Fi(),d=De();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))}),l.push(uL(s,o,e.documentUpdates).next(p=>{u=p.cs,d=p.ls})),!r.isEqual(_e.min())){const p=n.Qr.getLastRemoteSnapshotVersion(s).next(m=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(p)}return J.waitFor(l).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,d)).next(()=>u)}).then(s=>(n.ns=i,s))}function uL(t,e,n){let r=De(),i=De();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Fi();return n.forEach((l,u)=>{const d=s.get(l);u.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(_e.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):oe("LocalStore","Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",u.version)}),{cs:o,ls:i}})}function cL(t,e){const n=Ie(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function dL(t,e){const n=Ie(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,J.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new cs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function Dm(t,e,n){const r=Ie(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Uu(o))throw o;oe("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function t_(t,e,n){const r=Ie(t);let i=_e.min(),s=De();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,d,p){const m=Ie(u),w=m.rs.get(p);return w!==void 0?J.resolve(m.ns.get(w)):m.Qr.getTargetData(d,p)}(r,o,oi(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,l.targetId).next(u=>{s=u})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:_e.min(),n?s:De())).next(l=>(hL(r,rO(e),l),{documents:l,hs:s})))}function hL(t,e,n){let r=t.ss.get(e)||_e.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class n_{constructor(){this.activeTargetIds=uO()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fL{constructor(){this.no=new n_,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new n_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){oe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){oe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uc=null;function op(){return Uc===null?Uc=function(){return 268435456+Math.round(2147483648*Math.random())}():Uc++,"0x"+Uc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn="WebChannelConnection";class vL extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Do(){return!1}Co(n,r,i,s,o){const l=op(),u=this.vo(n,r.toUriEncodedString());oe("RestConnection",`Sending RPC '${n}' ${l}:`,u,i);const d={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(d,s,o),this.Mo(n,u,d,i).then(p=>(oe("RestConnection",`Received RPC '${n}' ${l}: `,p),p),p=>{throw La("RestConnection",`RPC '${n}' ${l} failed with error: `,p,"url: ",u,"request:",i),p})}xo(n,r,i,s,o,l){return this.Co(n,r,i,s,o)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ga}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}vo(n,r){const i=mL[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){const s=op();return new Promise((o,l)=>{const u=new TT;u.setWithCredentials(!0),u.listenOnce(ST.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case ld.NO_ERROR:const p=u.getResponseJson();oe(cn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),o(p);break;case ld.TIMEOUT:oe(cn,`RPC '${e}' ${s} timed out`),l(new de(Y.DEADLINE_EXCEEDED,"Request time out"));break;case ld.HTTP_ERROR:const m=u.getStatus();if(oe(cn,`RPC '${e}' ${s} failed with status:`,m,"response text:",u.getResponseText()),m>0){let w=u.getResponseJson();Array.isArray(w)&&(w=w[0]);const b=w==null?void 0:w.error;if(b&&b.status&&b.message){const x=function(j){const P=j.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(P)>=0?P:Y.UNKNOWN}(b.status);l(new de(x,b.message))}else l(new de(Y.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new de(Y.UNAVAILABLE,"Connection failed."));break;default:ve()}}finally{oe(cn,`RPC '${e}' ${s} completed.`)}});const d=JSON.stringify(i);oe(cn,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",d,r,15)})}Oo(e,n,r){const i=op(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=bT(),l=AT(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.xmlHttpFactory=new IT({})),this.Fo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const p=s.join("");oe(cn,`Creating RPC '${e}' stream ${i}: ${p}`,u);const m=o.createWebChannel(p,u);let w=!1,b=!1;const x=new gL({lo:j=>{b?oe(cn,`Not sending because RPC '${e}' stream ${i} is closed:`,j):(w||(oe(cn,`Opening RPC '${e}' stream ${i} transport.`),m.open(),w=!0),oe(cn,`RPC '${e}' stream ${i} sending:`,j),m.send(j))},ho:()=>m.close()}),N=(j,P,T)=>{j.listen(P,k=>{try{T(k)}catch(F){setTimeout(()=>{throw F},0)}})};return N(m,Al.EventType.OPEN,()=>{b||(oe(cn,`RPC '${e}' stream ${i} transport opened.`),x.mo())}),N(m,Al.EventType.CLOSE,()=>{b||(b=!0,oe(cn,`RPC '${e}' stream ${i} transport closed`),x.po())}),N(m,Al.EventType.ERROR,j=>{b||(b=!0,La(cn,`RPC '${e}' stream ${i} transport errored:`,j),x.po(new de(Y.UNAVAILABLE,"The operation could not be completed")))}),N(m,Al.EventType.MESSAGE,j=>{var P;if(!b){const T=j.data[0];nt(!!T);const k=T,F=k.error||((P=k[0])===null||P===void 0?void 0:P.error);if(F){oe(cn,`RPC '${e}' stream ${i} received error:`,F);const G=F.status;let L=function(S){const C=xt[S];if(C!==void 0)return JT(C)}(G),A=F.message;L===void 0&&(L=Y.INTERNAL,A="Unknown error status: "+G+" with message "+F.message),b=!0,x.po(new de(L,A)),m.close()}else oe(cn,`RPC '${e}' stream ${i} received:`,T),x.yo(T)}}),N(l,CT.STAT_EVENT,j=>{j.stat===Im.PROXY?oe(cn,`RPC '${e}' stream ${i} detected buffering proxy`):j.stat===Im.NOPROXY&&oe(cn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{x.fo()},0),x}}function ap(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hh(t){return new kO(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&oe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e,n,r,i,s,o,l,u){this.oi=e,this.Go=r,this.zo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new cI(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===Y.RESOURCE_EXHAUSTED?(ji(n.toString()),ji("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(n)}__(){}auth(){this.state=1;const e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{const i=new de(Y.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){const r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(e){return oe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(oe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class yL extends dI{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();const n=xO(this.serializer,e),r=function(s){if(!("targetChange"in s))return _e.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?_e.min():o.readTime?ai(o.readTime):_e.min()}(e);return this.listener.h_(n,r)}P_(e){const n={};n.database=Nm(this.serializer),n.addTarget=function(s,o){let l;const u=o.target;if(l=bm(u)?{documents:OO(s,u)}:{query:LO(s,u)._t},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=tI(s,o.resumeToken);const d=Pm(s,o.expectedCount);d!==null&&(l.expectedCount=d)}else if(o.snapshotVersion.compareTo(_e.min())>0){l.readTime=rh(s,o.snapshotVersion.toTimestamp());const d=Pm(s,o.expectedCount);d!==null&&(l.expectedCount=d)}return l}(this.serializer,e);const r=VO(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){const n={};n.database=Nm(this.serializer),n.removeTarget=e,this.i_(n)}}class wL extends dI{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(nt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const n=DO(e.writeResults,e.commitTime),r=ai(e.commitTime);return this.listener.A_(r,n)}return nt(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=Nm(this.serializer),this.i_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>NO(this.serializer,r))};this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new de(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,Rm(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new de(Y.UNKNOWN,s.toString())})}xo(e,n,r,i,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.xo(e,Rm(n,r),i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new de(Y.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class EL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(ji(n),this.y_=!1):oe("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(o=>{r.enqueueAndForget(async()=>{Mo(this)&&(oe("RemoteStore","Restarting streams for network reachability change."),await async function(u){const d=Ie(u);d.M_.add(4),await $u(d),d.N_.set("Unknown"),d.M_.delete(4),await Wh(d)}(this))})}),this.N_=new EL(r,i)}}async function Wh(t){if(Mo(t))for(const e of t.x_)await e(!0)}async function $u(t){for(const e of t.x_)await e(!1)}function hI(t,e){const n=Ie(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),Sv(n)?Iv(n):Ya(n).Xo()&&Tv(n,e))}function Ev(t,e){const n=Ie(t),r=Ya(n);n.F_.delete(e),r.Xo()&&fI(n,e),n.F_.size===0&&(r.Xo()?r.n_():Mo(n)&&n.N_.set("Unknown"))}function Tv(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_e.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ya(t).P_(e)}function fI(t,e){t.L_.xe(e),Ya(t).I_(e)}function Iv(t){t.L_=new SO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ya(t).start(),t.N_.w_()}function Sv(t){return Mo(t)&&!Ya(t).Zo()&&t.F_.size>0}function Mo(t){return Ie(t).M_.size===0}function pI(t){t.L_=void 0}async function IL(t){t.N_.set("Online")}async function SL(t){t.F_.forEach((e,n)=>{Tv(t,e)})}async function CL(t,e){pI(t),Sv(t)?(t.N_.D_(e),Iv(t)):t.N_.set("Unknown")}async function AL(t,e,n){if(t.N_.set("Online"),e instanceof eI&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const l of s.targetIds)i.F_.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.F_.delete(l),i.L_.removeTarget(l))}(t,e)}catch(r){oe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ih(t,r)}else if(e instanceof dd?t.L_.Ke(e):e instanceof ZT?t.L_.He(e):t.L_.We(e),!n.isEqual(_e.min()))try{const r=await uI(t.localStore);n.compareTo(r)>=0&&await function(s,o){const l=s.L_.rt(o);return l.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){const p=s.F_.get(d);p&&s.F_.set(d,p.withResumeToken(u.resumeToken,o))}}),l.targetMismatches.forEach((u,d)=>{const p=s.F_.get(u);if(!p)return;s.F_.set(u,p.withResumeToken(gn.EMPTY_BYTE_STRING,p.snapshotVersion)),fI(s,u);const m=new cs(p.target,u,d,p.sequenceNumber);Tv(s,m)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){oe("RemoteStore","Failed to raise snapshot:",r),await ih(t,r)}}async function ih(t,e,n){if(!Uu(e))throw e;t.M_.add(1),await $u(t),t.N_.set("Offline"),n||(n=()=>uI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{oe("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await Wh(t)})}function mI(t,e){return e().catch(n=>ih(t,n,e))}async function qh(t){const e=Ie(t),n=ks(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;bL(e);)try{const i=await cL(e.localStore,r);if(i===null){e.v_.length===0&&n.n_();break}r=i.batchId,kL(e,i)}catch(i){await ih(e,i)}gI(e)&&vI(e)}function bL(t){return Mo(t)&&t.v_.length<10}function kL(t,e){t.v_.push(e);const n=ks(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function gI(t){return Mo(t)&&!ks(t).Zo()&&t.v_.length>0}function vI(t){ks(t).start()}async function PL(t){ks(t).V_()}async function RL(t){const e=ks(t);for(const n of t.v_)e.d_(n.mutations)}async function xL(t,e,n){const r=t.v_.shift(),i=mv.from(r,e,n);await mI(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await qh(t)}async function NL(t,e){e&&ks(t).E_&&await async function(r,i){if(function(o){return EO(o)&&o!==Y.ABORTED}(i.code)){const s=r.v_.shift();ks(r).t_(),await mI(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await qh(r)}}(t,e),gI(t)&&vI(t)}async function i_(t,e){const n=Ie(t);n.asyncQueue.verifyOperationInProgress(),oe("RemoteStore","RemoteStore received new credentials");const r=Mo(n);n.M_.add(3),await $u(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await Wh(n)}async function DL(t,e){const n=Ie(t);e?(n.M_.delete(2),await Wh(n)):e||(n.M_.add(2),await $u(n),n.N_.set("Unknown"))}function Ya(t){return t.B_||(t.B_=function(n,r,i){const s=Ie(n);return s.f_(),new yL(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:IL.bind(null,t),To:SL.bind(null,t),Ao:CL.bind(null,t),h_:AL.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.t_(),Sv(t)?Iv(t):t.N_.set("Unknown")):(await t.B_.stop(),pI(t))})),t.B_}function ks(t){return t.k_||(t.k_=function(n,r,i){const s=Ie(n);return s.f_(),new wL(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:PL.bind(null,t),Ao:NL.bind(null,t),R_:RL.bind(null,t),A_:xL.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.t_(),await qh(t)):(await t.k_.stop(),t.v_.length>0&&(oe("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ni,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new Cv(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Av(t,e){if(ji("AsyncQueue",`${e}: ${t}`),Uu(t))return new de(Y.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e){this.comparator=e?(n,r)=>e(n,r)||he.comparator(n.key,r.key):(n,r)=>he.comparator(n.key,r.key),this.keyedMap=bl(),this.sortedSet=new yt(this.comparator)}static emptySet(e){return new Ia(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ia)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ia;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(){this.q_=new yt(he.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):ve():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ua{constructor(e,n,r,i,s,o,l,u,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new Ua(e,n,Ia.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class LL{constructor(){this.queries=new Qa(e=>FT(e),Fh),this.onlineState="Unknown",this.z_=new Set}}async function yI(t,e){const n=Ie(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.W_()&&e.G_()&&(r=2):(s=new OL,r=e.G_()?0:1);try{switch(r){case 0:s.K_=await n.onListen(i,!0);break;case 1:s.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const l=Av(o,`Initialization of query '${Jo(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.U_.push(e),e.j_(n.onlineState),s.K_&&e.H_(s.K_)&&bv(n)}async function wI(t,e){const n=Ie(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.U_.indexOf(e);o>=0&&(s.U_.splice(o,1),s.U_.length===0?i=e.G_()?0:1:!s.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function ML(t,e){const n=Ie(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.U_)l.H_(i)&&(r=!0);o.K_=i}}r&&bv(n)}function VL(t,e,n){const r=Ie(t),i=r.queries.get(e);if(i)for(const s of i.U_)s.onError(n);r.queries.delete(e)}function bv(t){t.z_.forEach(e=>{e.next()})}var Om,o_;(o_=Om||(Om={})).J_="default",o_.Cache="cache";class _I{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ua(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=Ua.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==Om.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e){this.key=e}}class TI{constructor(e){this.key=e}}class jL{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=De(),this.mutatedKeys=De(),this.Ia=UT(e),this.Ta=new Ia(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new s_,i=n?n.Ta:this.Ta;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,m)=>{const w=i.get(p),b=Uh(this.query,m)?m:null,x=!!w&&this.mutatedKeys.has(w.key),N=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let j=!1;w&&b?w.data.isEqual(b.data)?x!==N&&(r.track({type:3,doc:b}),j=!0):this.Ra(w,b)||(r.track({type:2,doc:b}),j=!0,(u&&this.Ia(b,u)>0||d&&this.Ia(b,d)<0)&&(l=!0)):!w&&b?(r.track({type:0,doc:b}),j=!0):w&&!b&&(r.track({type:1,doc:w}),j=!0,(u||d)&&(l=!0)),j&&(b?(o=o.add(b),s=N?s.add(p):s.delete(p)):(o=o.delete(p),s=s.delete(p)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const p=this.query.limitType==="F"?o.last():o.first();o=o.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{Ta:o,Aa:r,Xi:l,mutatedKeys:s}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const o=e.Aa.Q_();o.sort((p,m)=>function(b,x){const N=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve()}};return N(b)-N(x)}(p.type,m.type)||this.Ia(p.doc,m.doc)),this.Va(r),i=i!=null&&i;const l=n&&!i?this.ma():[],u=this.Pa.size===0&&this.current&&!i?1:0,d=u!==this.ha;return this.ha=u,o.length!==0||d?{snapshot:new Ua(this.query,e.Ta,s,o,e.mutatedKeys,u===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:l}:{fa:l}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new s_,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=De(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new TI(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new EI(r))}),n}pa(e){this.la=e.hs,this.Pa=De();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return Ua.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class FL{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class UL{constructor(e){this.key=e,this.wa=!1}}class BL{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new Qa(l=>FT(l),Fh),this.Da=new Map,this.Ca=new Set,this.va=new yt(he.comparator),this.Fa=new Map,this.Ma=new yv,this.xa={},this.Oa=new Map,this.Na=Fa.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function zL(t,e,n=!0){const r=kI(t);let i;const s=r.ba.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=await II(r,e,n,!0),i}async function $L(t,e){const n=kI(t);await II(n,e,!0,!1)}async function II(t,e,n,r){const i=await dL(t.localStore,oi(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let l;return r&&(l=await HL(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&hI(t.remoteStore,i),l}async function HL(t,e,n,r,i){t.Ba=(m,w,b)=>async function(N,j,P,T){let k=j.view.da(P);k.Xi&&(k=await t_(N.localStore,j.query,!1).then(({documents:A})=>j.view.da(A,k)));const F=T&&T.targetChanges.get(j.targetId),G=T&&T.targetMismatches.get(j.targetId)!=null,L=j.view.applyChanges(k,N.isPrimaryClient,F,G);return l_(N,j.targetId,L.fa),L.snapshot}(t,m,w,b);const s=await t_(t.localStore,e,!0),o=new jL(e,s.hs),l=o.da(s.documents),u=zu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=o.applyChanges(l,t.isPrimaryClient,u);l_(t,n,d.fa);const p=new FL(e,n,o);return t.ba.set(e,p),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),d.snapshot}async function WL(t,e,n){const r=Ie(t),i=r.ba.get(e),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter(o=>!Fh(o,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Dm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Ev(r.remoteStore,i.targetId),Lm(r,i.targetId)}).catch(Fu)):(Lm(r,i.targetId),await Dm(r.localStore,i.targetId,!0))}async function qL(t,e){const n=Ie(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ev(n.remoteStore,r.targetId))}async function KL(t,e,n){const r=e5(t);try{const i=await function(o,l){const u=Ie(o),d=zt.now(),p=l.reduce((b,x)=>b.add(x.key),De());let m,w;return u.persistence.runTransaction("Locally write mutations","readwrite",b=>{let x=Fi(),N=De();return u.os.getEntries(b,p).next(j=>{x=j,x.forEach((P,T)=>{T.isValidDocument()||(N=N.add(P))})}).next(()=>u.localDocuments.getOverlayedDocuments(b,x)).next(j=>{m=j;const P=[];for(const T of l){const k=gO(T,m.get(T.key).overlayedDocument);k!=null&&P.push(new Ls(T.key,k,NT(k.value.mapValue),gr.exists(!0)))}return u.mutationQueue.addMutationBatch(b,d,P,l)}).next(j=>{w=j;const P=j.applyToLocalDocumentSet(m,N);return u.documentOverlayCache.saveOverlays(b,j.batchId,P)})}).then(()=>({batchId:w.batchId,changes:zT(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,l,u){let d=o.xa[o.currentUser.toKey()];d||(d=new yt(qe)),d=d.insert(l,u),o.xa[o.currentUser.toKey()]=d}(r,i.batchId,n),await Hu(r,i.changes),await qh(r.remoteStore)}catch(i){const s=Av(i,"Failed to persist write");n.reject(s)}}async function SI(t,e){const n=Ie(t);try{const r=await lL(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Fa.get(s);o&&(nt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.wa=!0:i.modifiedDocuments.size>0?nt(o.wa):i.removedDocuments.size>0&&(nt(o.wa),o.wa=!1))}),await Hu(n,r,e)}catch(r){await Fu(r)}}function a_(t,e,n){const r=Ie(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ba.forEach((s,o)=>{const l=o.view.j_(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const u=Ie(o);u.onlineState=l;let d=!1;u.queries.forEach((p,m)=>{for(const w of m.U_)w.j_(l)&&(d=!0)}),d&&bv(u)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function GL(t,e,n){const r=Ie(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Fa.get(e),s=i&&i.key;if(s){let o=new yt(he.comparator);o=o.insert(s,fn.newNoDocument(s,_e.min()));const l=De().add(s),u=new $h(_e.min(),new Map,new yt(qe),o,l);await SI(r,u),r.va=r.va.remove(s),r.Fa.delete(e),kv(r)}else await Dm(r.localStore,e,!1).then(()=>Lm(r,e,n)).catch(Fu)}async function QL(t,e){const n=Ie(t),r=e.batch.batchId;try{const i=await aL(n.localStore,e);AI(n,r,null),CI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Hu(n,i)}catch(i){await Fu(i)}}async function YL(t,e,n){const r=Ie(t);try{const i=await function(o,l){const u=Ie(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let p;return u.mutationQueue.lookupMutationBatch(d,l).next(m=>(nt(m!==null),p=m.keys(),u.mutationQueue.removeMutationBatch(d,m))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,p,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,p)).next(()=>u.localDocuments.getDocuments(d,p))})}(r.localStore,e);AI(r,e,n),CI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Hu(r,i)}catch(i){await Fu(i)}}function CI(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function AI(t,e,n){const r=Ie(t);let i=r.xa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function Lm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||bI(t,r)})}function bI(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(Ev(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),kv(t))}function l_(t,e,n){for(const r of n)r instanceof EI?(t.Ma.addReference(r.key,e),XL(t,r)):r instanceof TI?(oe("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||bI(t,r.key)):ve()}function XL(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(oe("SyncEngine","New document in limbo: "+n),t.Ca.add(r),kv(t))}function kv(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new he(ot.fromString(e)),r=t.Na.next();t.Fa.set(r,new UL(n)),t.va=t.va.insert(n,r),hI(t.remoteStore,new cs(oi(fv(n.path)),r,"TargetPurposeLimboResolution",av.oe))}}async function Hu(t,e,n){const r=Ie(t),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach((l,u)=>{o.push(r.Ba(u,e,n).then(d=>{var p;if((d||n)&&r.isPrimaryClient){const m=d?!d.fromCache:(p=n==null?void 0:n.targetChanges.get(u.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(u.targetId,m?"current":"not-current")}if(d){i.push(d);const m=_v.Ki(u.targetId,d);s.push(m)}}))}),await Promise.all(o),r.Sa.h_(i),await async function(u,d){const p=Ie(u);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>J.forEach(d,w=>J.forEach(w.qi,b=>p.persistence.referenceDelegate.addReference(m,w.targetId,b)).next(()=>J.forEach(w.Qi,b=>p.persistence.referenceDelegate.removeReference(m,w.targetId,b)))))}catch(m){if(!Uu(m))throw m;oe("LocalStore","Failed to update sequence numbers: "+m)}for(const m of d){const w=m.targetId;if(!m.fromCache){const b=p.ns.get(w),x=b.snapshotVersion,N=b.withLastLimboFreeSnapshotVersion(x);p.ns=p.ns.insert(w,N)}}}(r.localStore,s))}async function JL(t,e){const n=Ie(t);if(!n.currentUser.isEqual(e)){oe("SyncEngine","User change. New user:",e.toKey());const r=await lI(n.localStore,e);n.currentUser=e,function(s,o){s.Oa.forEach(l=>{l.forEach(u=>{u.reject(new de(Y.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Hu(n,r.us)}}function ZL(t,e){const n=Ie(t),r=n.Fa.get(e);if(r&&r.wa)return De().add(r.key);{let i=De();const s=n.Da.get(e);if(!s)return i;for(const o of s){const l=n.ba.get(o);i=i.unionWith(l.view.Ea)}return i}}function kI(t){const e=Ie(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=SI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=GL.bind(null,e),e.Sa.h_=ML.bind(null,e.eventManager),e.Sa.ka=VL.bind(null,e.eventManager),e}function e5(t){const e=Ie(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=QL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=YL.bind(null,e),e}class u_{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Hh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return oL(this.persistence,new iL,e.initialUser,this.serializer)}createPersistence(e){return new tL(wv.Hr,this.serializer)}createSharedClientState(e){return new fL}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class t5{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>a_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=JL.bind(null,this.syncEngine),await DL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new LL}()}createDatastore(e){const n=Hh(e.databaseInfo.databaseId),r=function(s){return new vL(s)}(e.databaseInfo);return function(s,o,l,u){return new _L(s,o,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,l){return new TL(r,i,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>a_(this.syncEngine,n,0),function(){return r_.D()?new r_:new pL}())}createSyncEngine(e,n){return function(i,s,o,l,u,d,p){const m=new BL(i,s,o,l,u,d);return p&&(m.La=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=Ie(r);oe("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await $u(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):ji("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n5{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=dn.UNAUTHENTICATED,this.clientId=PT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{oe("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(oe("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new de(Y.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ni;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Av(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function lp(t,e){t.asyncQueue.verifyOperationInProgress(),oe("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await lI(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function c_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await i5(t);oe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>i_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>i_(e.remoteStore,i)),t._onlineComponents=e}function r5(t){return t.name==="FirebaseError"?t.code===Y.FAILED_PRECONDITION||t.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function i5(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){oe("FirestoreClient","Using user provided OfflineComponentProvider");try{await lp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!r5(n))throw n;La("Error using user provided cache. Falling back to memory cache: "+n),await lp(t,new u_)}}else oe("FirestoreClient","Using default OfflineComponentProvider"),await lp(t,new u_);return t._offlineComponents}async function RI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(oe("FirestoreClient","Using user provided OnlineComponentProvider"),await c_(t,t._uninitializedComponentsProvider._online)):(oe("FirestoreClient","Using default OnlineComponentProvider"),await c_(t,new t5))),t._onlineComponents}function s5(t){return RI(t).then(e=>e.syncEngine)}async function xI(t){const e=await RI(t),n=e.eventManager;return n.onListen=zL.bind(null,e.syncEngine),n.onUnlisten=WL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=$L.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=qL.bind(null,e.syncEngine),n}function o5(t,e,n={}){const r=new Ni;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,u,d){const p=new PI({next:w=>{o.enqueueAndForget(()=>wI(s,m));const b=w.docs.has(l);!b&&w.fromCache?d.reject(new de(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&w.fromCache&&u&&u.source==="server"?d.reject(new de(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(w)},error:w=>d.reject(w)}),m=new _I(fv(l.path),p,{includeMetadataChanges:!0,ra:!0});return yI(s,m)}(await xI(t),t.asyncQueue,e,n,r)),r.promise}function a5(t,e,n={}){const r=new Ni;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,u,d){const p=new PI({next:w=>{o.enqueueAndForget(()=>wI(s,m)),w.fromCache&&u.source==="server"?d.reject(new de(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(w)},error:w=>d.reject(w)}),m=new _I(l,p,{includeMetadataChanges:!0,ra:!0});return yI(s,m)}(await xI(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(t,e,n){if(!n)throw new de(Y.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function l5(t,e,n,r){if(e===!0&&r===!0)throw new de(Y.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function h_(t){if(!he.isDocumentKey(t))throw new de(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function f_(t){if(he.isDocumentKey(t))throw new de(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Pv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ve()}function zr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new de(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Pv(t);throw new de(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new de(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new de(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}l5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=NI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new de(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new de(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new de(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Kh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new p_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new de(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new de(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new p_(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new CD;switch(r.type){case"firstParty":return new PD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new de(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=d_.get(n);r&&(oe("ComponentProvider","Removing Datastore"),d_.delete(n),r.terminate())}(this),Promise.resolve()}}function u5(t,e,n,r={}){var i;const s=(t=zr(t,Kh))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&La("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let l,u;if(typeof r.mockUserToken=="string")l=r.mockUserToken,u=dn.MOCK_USER;else{l=R2(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new de(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new dn(d)}t._authCredentials=new AD(new kT(l,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Gh(this.firestore,e,this._query)}}class zn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ts(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zn(this.firestore,e,this._key)}}class Ts extends Gh{constructor(e,n,r){super(e,n,fv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zn(this.firestore,null,new he(e))}withConverter(e){return new Ts(this.firestore,e,this._path)}}function Co(t,e,...n){if(t=at(t),DI("collection","path",e),t instanceof Kh){const r=ot.fromString(e,...n);return f_(r),new Ts(t,null,r)}{if(!(t instanceof zn||t instanceof Ts))throw new de(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ot.fromString(e,...n));return f_(r),new Ts(t.firestore,null,r)}}function ci(t,e,...n){if(t=at(t),arguments.length===1&&(e=PT.newId()),DI("doc","path",e),t instanceof Kh){const r=ot.fromString(e,...n);return h_(r),new zn(t,null,new he(r))}{if(!(t instanceof zn||t instanceof Ts))throw new de(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ot.fromString(e,...n));return h_(r),new zn(t.firestore,t instanceof Ts?t.converter:null,new he(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c5{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new cI(this,"async_queue_retry"),this.hu=()=>{const n=ap();n&&oe("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const e=ap();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=ap();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new Ni;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!Uu(e))throw e;oe("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const i=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw ji("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const i=Cv.createAndSchedule(this,e,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&ve()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}class Vo extends Kh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new c5}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||OI(this),this._firestoreClient.terminate()}}function d5(t,e){const n=typeof t=="object"?t:Nh(),r=typeof t=="string"?t:"(default)",i=Os(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=b2("firestore");s&&u5(i,...s)}return i}function Rv(t){return t._firestoreClient||OI(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function OI(t){var e,n,r;const i=t._freezeSettings(),s=function(l,u,d,p){return new zD(l,u,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,NI(p.experimentalLongPollingOptions),p.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new n5(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ba(gn.fromBase64String(e))}catch(n){throw new de(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ba(gn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h5=/^__.*__$/;class f5{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ls(e,this.data,this.fieldMask,n,this.fieldTransforms):new Bu(e,this.data,n,this.fieldTransforms)}}class LI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ls(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function MI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve()}}class Dv{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new Dv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return sh(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(MI(this.fu)&&h5.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class p5{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Hh(e)}Fu(e,n,r,i=!1){return new Dv({fu:e,methodName:n,vu:r,path:en.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ov(t){const e=t._freezeSettings(),n=Hh(t._databaseId);return new p5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function VI(t,e,n,r,i,s={}){const o=t.Fu(s.merge||s.mergeFields?2:0,e,n,i);Lv("Data must be an object, but it was:",o,r);const l=jI(r,o);let u,d;if(s.merge)u=new Qn(o.fieldMask),d=o.fieldTransforms;else if(s.mergeFields){const p=[];for(const m of s.mergeFields){const w=Mm(e,m,n);if(!o.contains(w))throw new de(Y.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);UI(p,w)||p.push(w)}u=new Qn(p),d=o.fieldTransforms.filter(m=>u.covers(m.field))}else u=null,d=o.fieldTransforms;return new f5(new On(l),u,d)}class Yh extends xv{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yh}}function m5(t,e,n,r){const i=t.Fu(1,e,n);Lv("Data must be an object, but it was:",i,r);const s=[],o=On.empty();Lo(r,(u,d)=>{const p=Mv(e,u,n);d=at(d);const m=i.Su(p);if(d instanceof Yh)s.push(p);else{const w=Xh(d,m);w!=null&&(s.push(p),o.set(p,w))}});const l=new Qn(s);return new LI(o,l,i.fieldTransforms)}function g5(t,e,n,r,i,s){const o=t.Fu(1,e,n),l=[Mm(e,r,n)],u=[i];if(s.length%2!=0)throw new de(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<s.length;w+=2)l.push(Mm(e,s[w])),u.push(s[w+1]);const d=[],p=On.empty();for(let w=l.length-1;w>=0;--w)if(!UI(d,l[w])){const b=l[w];let x=u[w];x=at(x);const N=o.Su(b);if(x instanceof Yh)d.push(b);else{const j=Xh(x,N);j!=null&&(d.push(b),p.set(b,j))}}const m=new Qn(d);return new LI(p,m,o.fieldTransforms)}function Xh(t,e){if(FI(t=at(t)))return Lv("Unsupported field value:",e,t),jI(t,e);if(t instanceof xv)return function(r,i){if(!MI(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const l of r){let u=Xh(l,i.bu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=at(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return cO(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=zt.fromDate(r);return{timestampValue:rh(i.serializer,s)}}if(r instanceof zt){const s=new zt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:rh(i.serializer,s)}}if(r instanceof Nv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ba)return{bytesValue:tI(i.serializer,r._byteString)};if(r instanceof zn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:vv(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${Pv(r)}`)}(t,e)}function jI(t,e){const n={};return RT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Lo(t,(r,i)=>{const s=Xh(i,e.pu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function FI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof zt||t instanceof Nv||t instanceof Ba||t instanceof zn||t instanceof xv)}function Lv(t,e,n){if(!FI(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Pv(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function Mm(t,e,n){if((e=at(e))instanceof Qh)return e._internalPath;if(typeof e=="string")return Mv(t,e);throw sh("Field path arguments must be of type string or ",t,!1,void 0,n)}const v5=new RegExp("[~\\*/\\[\\]]");function Mv(t,e,n){if(e.search(v5)>=0)throw sh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Qh(...e.split("."))._internalPath}catch{throw sh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function sh(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new de(Y.INVALID_ARGUMENT,l+t+u)}function UI(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new zn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new y5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(zI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class y5 extends BI{data(){return super.data()}}function zI(t,e){return typeof e=="string"?Mv(t,e):e instanceof Qh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w5(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new de(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _5{convertValue(e,n="none"){switch(So(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Io(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ve()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Lo(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Nv(Dt(e.latitude),Dt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=uv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Eu(e));default:return null}}convertTimestamp(e){const n=bs(e);return new zt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ot.fromString(e);nt(aI(r));const i=new Tu(r.get(1),r.get(3)),s=new he(r.popFirst(5));return i.isEqual(n)||ji(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class HI extends BI{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new hd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(zI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class hd extends HI{data(e={}){return super.data(e)}}class E5{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Pl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new hd(this._firestore,this._userDataWriter,r.key,r,new Pl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const u=new hd(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Pl(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const u=new hd(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Pl(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,p=-1;return l.type!==0&&(d=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),p=o.indexOf(l.doc.key)),{type:T5(l.type),doc:u,oldIndex:d,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function T5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vv(t){t=zr(t,zn);const e=zr(t.firestore,Vo);return o5(Rv(e),t._key).then(n=>S5(e,t,n))}class WI extends _5{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ba(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new zn(this.firestore,null,n)}}function Wu(t){t=zr(t,Gh);const e=zr(t.firestore,Vo),n=Rv(e),r=new WI(e);return w5(t._query),a5(n,t._query).then(i=>new E5(e,r,t,i))}function Vm(t,e,n){t=zr(t,zn);const r=zr(t.firestore,Vo),i=$I(t.converter,e,n);return Jh(r,[VI(Ov(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,gr.none())])}function qI(t,e,n,...r){t=zr(t,zn);const i=zr(t.firestore,Vo),s=Ov(i);let o;return o=typeof(e=at(e))=="string"||e instanceof Qh?g5(s,"updateDoc",t._key,e,n,r):m5(s,"updateDoc",t._key,e),Jh(i,[o.toMutation(t._key,gr.exists(!0))])}function I5(t){return Jh(zr(t.firestore,Vo),[new pv(t._key,gr.none())])}function KI(t,e){const n=zr(t.firestore,Vo),r=ci(t),i=$I(t.converter,e);return Jh(n,[VI(Ov(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,gr.exists(!1))]).then(()=>r)}function Jh(t,e){return function(r,i){const s=new Ni;return r.asyncQueue.enqueueAndForget(async()=>KL(await s5(r),i,s)),s.promise}(Rv(t),e)}function S5(t,e,n){const r=n.docs.get(e._key),i=new WI(t);return new HI(t,i,e._key,r,new Pl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Ga=i})(Oo),Br(new wr("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new Vo(new bD(r.getProvider("auth-internal")),new xD(r.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new de(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tu(d.options.projectId,p)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),Bn(L0,"4.6.4",e),Bn(L0,"4.6.4","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI="firebasestorage.googleapis.com",QI="storageBucket",C5=2*60*1e3,A5=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It extends Er{constructor(e,n,r=0){super(up(e),`Firebase Storage: ${n} (${up(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,It.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return up(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Tt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Tt||(Tt={}));function up(t){return"storage/"+t}function jv(){const t="An unknown error occurred, please check the error payload for server response.";return new It(Tt.UNKNOWN,t)}function b5(t){return new It(Tt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function k5(t){return new It(Tt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function P5(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new It(Tt.UNAUTHENTICATED,t)}function R5(){return new It(Tt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function x5(t){return new It(Tt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function N5(){return new It(Tt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function D5(){return new It(Tt.CANCELED,"User canceled the upload/download.")}function O5(t){return new It(Tt.INVALID_URL,"Invalid URL '"+t+"'.")}function L5(t){return new It(Tt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function M5(){return new It(Tt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+QI+"' property when initializing the app?")}function V5(){return new It(Tt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function j5(){return new It(Tt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function F5(t){return new It(Tt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function jm(t){return new It(Tt.INVALID_ARGUMENT,t)}function YI(){return new It(Tt.APP_DELETED,"The Firebase app was deleted.")}function U5(t){return new It(Tt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Wl(t,e){return new It(Tt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function vl(t){throw new It(Tt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Yn.makeFromUrl(e,n)}catch{return new Yn(e,"")}if(r.path==="")return r;throw L5(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(F){F.path.charAt(F.path.length-1)==="/"&&(F.path_=F.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function d(F){F.path_=decodeURIComponent(F.path)}const p="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",b=new RegExp(`^https?://${m}/${p}/b/${i}/o${w}`,"i"),x={bucket:1,path:3},N=n===GI?"(?:storage.googleapis.com|storage.cloud.google.com)":n,j="([^?#]*)",P=new RegExp(`^https?://${N}/${i}/${j}`,"i"),k=[{regex:l,indices:u,postModify:s},{regex:b,indices:x,postModify:d},{regex:P,indices:{bucket:1,path:2},postModify:d}];for(let F=0;F<k.length;F++){const G=k[F],L=G.regex.exec(e);if(L){const A=L[G.indices.bucket];let E=L[G.indices.path];E||(E=""),r=new Yn(A,E),G.postModify(r);break}}if(r==null)throw O5(e);return r}}class B5{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z5(t,e,n){let r=1,i=null,s=null,o=!1,l=0;function u(){return l===2}let d=!1;function p(...j){d||(d=!0,e.apply(null,j))}function m(j){i=setTimeout(()=>{i=null,t(b,u())},j)}function w(){s&&clearTimeout(s)}function b(j,...P){if(d){w();return}if(j){w(),p.call(null,j,...P);return}if(u()||o){w(),p.call(null,j,...P);return}r<64&&(r*=2);let k;l===1?(l=2,k=0):k=(r+Math.random())*1e3,m(k)}let x=!1;function N(j){x||(x=!0,w(),!d&&(i!==null?(j||(l=2),clearTimeout(i),m(0)):j||(l=1)))}return m(0),s=setTimeout(()=>{o=!0,N(!0)},n),N}function $5(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H5(t){return t!==void 0}function W5(t){return typeof t=="object"&&!Array.isArray(t)}function Fv(t){return typeof t=="string"||t instanceof String}function m_(t){return Uv()&&t instanceof Blob}function Uv(){return typeof Blob<"u"}function g_(t,e,n,r){if(r<e)throw jm(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw jm(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zh(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function XI(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uo;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(uo||(uo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q5(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K5{constructor(e,n,r,i,s,o,l,u,d,p,m,w=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=u,this.timeout_=d,this.progressCallback_=p,this.connectionFactory_=m,this.retry=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,x)=>{this.resolve_=b,this.reject_=x,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Bc(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=l=>{const u=l.loaded,d=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,d)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const l=s.getErrorCode()===uo.NO_ERROR,u=s.getStatus();if(!l||q5(u,this.additionalRetryCodes_)&&this.retry){const p=s.getErrorCode()===uo.ABORT;r(!1,new Bc(!1,null,p));return}const d=this.successCodes_.indexOf(u)!==-1;r(!0,new Bc(d,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(l,l.getResponse());H5(u)?s(u):s()}catch(u){o(u)}else if(l!==null){const u=jv();u.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,u)):o(u)}else if(i.canceled){const u=this.appDelete_?YI():D5();o(u)}else{const u=N5();o(u)}};this.canceled_?n(!1,new Bc(!1,null,!0)):this.backoffId_=z5(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&$5(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Bc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function G5(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Q5(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Y5(t,e){e&&(t["X-Firebase-GMPID"]=e)}function X5(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function J5(t,e,n,r,i,s,o=!0){const l=XI(t.urlParams),u=t.url+l,d=Object.assign({},t.headers);return Y5(d,e),G5(d,n),Q5(d,s),X5(d,r),new K5(u,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z5(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function eM(...t){const e=Z5();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Uv())return new Blob(t);throw new It(Tt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function tM(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nM(t){if(typeof atob>"u")throw F5("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ni={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class cp{constructor(e,n){this.data=e,this.contentType=n||null}}function rM(t,e){switch(t){case ni.RAW:return new cp(JI(e));case ni.BASE64:case ni.BASE64URL:return new cp(ZI(t,e));case ni.DATA_URL:return new cp(sM(e),oM(e))}throw jv()}function JI(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function iM(t){let e;try{e=decodeURIComponent(t)}catch{throw Wl(ni.DATA_URL,"Malformed data URL.")}return JI(e)}function ZI(t,e){switch(t){case ni.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Wl(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case ni.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Wl(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=nM(e)}catch(i){throw i.message.includes("polyfill")?i:Wl(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class eS{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Wl(ni.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=aM(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function sM(t){const e=new eS(t);return e.base64?ZI(ni.BASE64,e.rest):iM(e.rest)}function oM(t){return new eS(t).contentType}function aM(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e,n){let r=0,i="";m_(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(m_(this.data_)){const r=this.data_,i=tM(r,e,n);return i===null?null:new as(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new as(r,!0)}}static getBlob(...e){if(Uv()){const n=e.map(r=>r instanceof as?r.data_:r);return new as(eM.apply(null,n))}else{const n=e.map(o=>Fv(o)?rM(ni.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let l=0;l<o.length;l++)i[s++]=o[l]}),new as(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(t){let e;try{e=JSON.parse(t)}catch{return null}return W5(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lM(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function uM(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function nS(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cM(t,e){return e}class En{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||cM}}let zc=null;function dM(t){return!Fv(t)||t.length<2?t:nS(t)}function rS(){if(zc)return zc;const t=[];t.push(new En("bucket")),t.push(new En("generation")),t.push(new En("metageneration")),t.push(new En("name","fullPath",!0));function e(s,o){return dM(o)}const n=new En("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new En("size");return i.xform=r,t.push(i),t.push(new En("timeCreated")),t.push(new En("updated")),t.push(new En("md5Hash",null,!0)),t.push(new En("cacheControl",null,!0)),t.push(new En("contentDisposition",null,!0)),t.push(new En("contentEncoding",null,!0)),t.push(new En("contentLanguage",null,!0)),t.push(new En("contentType",null,!0)),t.push(new En("metadata","customMetadata",!0)),zc=t,zc}function hM(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Yn(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function fM(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return hM(r,t),r}function iS(t,e,n){const r=tS(e);return r===null?null:fM(t,r,n)}function pM(t,e,n,r){const i=tS(e);if(i===null||!Fv(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(d=>{const p=t.bucket,m=t.fullPath,w="/b/"+o(p)+"/o/"+o(m),b=Zh(w,n,r),x=XI({alt:"media",token:d});return b+x})[0]}function mM(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class Bv{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(t){if(!t)throw jv()}function gM(t,e){function n(r,i){const s=iS(t,i,e);return sS(s!==null),s}return n}function vM(t,e){function n(r,i){const s=iS(t,i,e);return sS(s!==null),pM(s,i,t.host,t._protocol)}return n}function oS(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=R5():i=P5():n.getStatus()===402?i=k5(t.bucket):n.getStatus()===403?i=x5(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function aS(t){const e=oS(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=b5(t.path)),s.serverResponse=i.serverResponse,s}return n}function yM(t,e,n){const r=e.fullServerUrl(),i=Zh(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,l=new Bv(i,s,vM(t,n),o);return l.errorHandler=aS(e),l}function wM(t,e){const n=e.fullServerUrl(),r=Zh(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function o(u,d){}const l=new Bv(r,i,o,s);return l.successCodes=[200,204],l.errorHandler=aS(e),l}function _M(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function EM(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=_M(null,e)),r}function TM(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function l(){let k="";for(let F=0;F<2;F++)k=k+Math.random().toString().slice(2);return k}const u=l();o["Content-Type"]="multipart/related; boundary="+u;const d=EM(e,r,i),p=mM(d,n),m="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+u+`\r
Content-Type: `+d.contentType+`\r
\r
`,w=`\r
--`+u+"--",b=as.getBlob(m,r,w);if(b===null)throw V5();const x={name:d.fullPath},N=Zh(s,t.host,t._protocol),j="POST",P=t.maxUploadRetryTime,T=new Bv(N,j,gM(t,n),P);return T.urlParams=x,T.headers=o,T.body=b.uploadData(),T.errorHandler=oS(e),T}class IM{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=uo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=uo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=uo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw vl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw vl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw vl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw vl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw vl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class SM extends IM{initXhr(){this.xhr_.responseType="text"}}function zv(){return new SM}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e,n){this._service=e,n instanceof Yn?this._location=n:this._location=Yn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ao(e,n)}get root(){const e=new Yn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return nS(this._location.path)}get storage(){return this._service}get parent(){const e=lM(this._location.path);if(e===null)return null;const n=new Yn(this._location.bucket,e);return new Ao(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw U5(e)}}function CM(t,e,n){t._throwIfRoot("uploadBytes");const r=TM(t.storage,t._location,rS(),new as(e,!0),n);return t.storage.makeRequestWithTokens(r,zv).then(i=>({metadata:i,ref:t}))}function AM(t){t._throwIfRoot("getDownloadURL");const e=yM(t.storage,t._location,rS());return t.storage.makeRequestWithTokens(e,zv).then(n=>{if(n===null)throw j5();return n})}function bM(t){t._throwIfRoot("deleteObject");const e=wM(t.storage,t._location);return t.storage.makeRequestWithTokens(e,zv)}function kM(t,e){const n=uM(t._location.path,e),r=new Yn(t._location.bucket,n);return new Ao(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PM(t){return/^[A-Za-z]+:\/\//.test(t)}function RM(t,e){return new Ao(t,e)}function lS(t,e){if(t instanceof $v){const n=t;if(n._bucket==null)throw M5();const r=new Ao(n,n._bucket);return e!=null?lS(r,e):r}else return e!==void 0?kM(t,e):t}function xM(t,e){if(e&&PM(e)){if(t instanceof $v)return RM(t,e);throw jm("To use ref(service, url), the first argument must be a Storage instance.")}else return lS(t,e)}function v_(t,e){const n=e==null?void 0:e[QI];return n==null?null:Yn.makeFromBucketSpec(n,t)}function NM(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:R2(i,t.app.options.projectId))}class $v{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=GI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=C5,this._maxUploadRetryTime=A5,this._requests=new Set,i!=null?this._bucket=Yn.makeFromBucketSpec(i,this._host):this._bucket=v_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Yn.makeFromBucketSpec(this._url,e):this._bucket=v_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){g_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){g_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ao(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new B5(YI());{const o=J5(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const y_="@firebase/storage",w_="0.12.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS="storage";function DM(t,e,n){return t=at(t),CM(t,e,n)}function OM(t){return t=at(t),AM(t)}function LM(t){return t=at(t),bM(t)}function __(t,e){return t=at(t),xM(t,e)}function MM(t=Nh(),e){t=at(t);const r=Os(t,uS).getImmediate({identifier:e}),i=b2("storage");return i&&VM(r,...i),r}function VM(t,e,n,r={}){NM(t,e,n,r)}function jM(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new $v(n,r,i,e,Oo)}function FM(){Br(new wr(uS,jM,"PUBLIC").setMultipleInstances(!0)),Bn(y_,w_,""),Bn(y_,w_,"esm2017")}FM();const cS="@firebase/installations",Hv="0.6.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS=1e4,hS=`w:${Hv}`,fS="FIS_v2",UM="https://firebaseinstallations.googleapis.com/v1",BM=60*60*1e3,zM="installations",$M="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HM={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},bo=new Do(zM,$M,HM);function pS(t){return t instanceof Er&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS({projectId:t}){return`${UM}/projects/${t}/installations`}function gS(t){return{token:t.token,requestStatus:2,expiresIn:qM(t.expiresIn),creationTime:Date.now()}}async function vS(t,e){const r=(await e.json()).error;return bo.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function yS({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function WM(t,{refreshToken:e}){const n=yS(t);return n.append("Authorization",KM(e)),n}async function wS(t){const e=await t();return e.status>=500&&e.status<600?t():e}function qM(t){return Number(t.replace("s","000"))}function KM(t){return`${fS} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GM({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=mS(t),i=yS(t),s=e.getImmediate({optional:!0});if(s){const d=await s.getHeartbeatsHeader();d&&i.append("x-firebase-client",d)}const o={fid:n,authVersion:fS,appId:t.appId,sdkVersion:hS},l={method:"POST",headers:i,body:JSON.stringify(o)},u=await wS(()=>fetch(r,l));if(u.ok){const d=await u.json();return{fid:d.fid||n,registrationStatus:2,refreshToken:d.refreshToken,authToken:gS(d.authToken)}}else throw await vS("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _S(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QM(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YM=/^[cdef][\w-]{21}$/,Fm="";function XM(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=JM(t);return YM.test(n)?n:Fm}catch{return Fm}}function JM(t){return QM(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ef(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES=new Map;function TS(t,e){const n=ef(t);IS(n,e),ZM(n,e)}function IS(t,e){const n=ES.get(t);if(n)for(const r of n)r(e)}function ZM(t,e){const n=e3();n&&n.postMessage({key:t,fid:e}),t3()}let so=null;function e3(){return!so&&"BroadcastChannel"in self&&(so=new BroadcastChannel("[Firebase] FID Change"),so.onmessage=t=>{IS(t.data.key,t.data.fid)}),so}function t3(){ES.size===0&&so&&(so.close(),so=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n3="firebase-installations-database",r3=1,ko="firebase-installations-store";let dp=null;function Wv(){return dp||(dp=M2(n3,r3,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ko)}}})),dp}async function oh(t,e){const n=ef(t),i=(await Wv()).transaction(ko,"readwrite"),s=i.objectStore(ko),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&TS(t,e.fid),e}async function SS(t){const e=ef(t),r=(await Wv()).transaction(ko,"readwrite");await r.objectStore(ko).delete(e),await r.done}async function tf(t,e){const n=ef(t),i=(await Wv()).transaction(ko,"readwrite"),s=i.objectStore(ko),o=await s.get(n),l=e(o);return l===void 0?await s.delete(n):await s.put(l,n),await i.done,l&&(!o||o.fid!==l.fid)&&TS(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qv(t){let e;const n=await tf(t.appConfig,r=>{const i=i3(r),s=s3(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===Fm?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function i3(t){const e=t||{fid:XM(),registrationStatus:0};return CS(e)}function s3(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(bo.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=o3(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:a3(t)}:{installationEntry:e}}async function o3(t,e){try{const n=await GM(t,e);return oh(t.appConfig,n)}catch(n){throw pS(n)&&n.customData.serverCode===409?await SS(t.appConfig):await oh(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function a3(t){let e=await E_(t.appConfig);for(;e.registrationStatus===1;)await _S(100),e=await E_(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await qv(t);return r||n}return e}function E_(t){return tf(t,e=>{if(!e)throw bo.create("installation-not-found");return CS(e)})}function CS(t){return l3(t)?{fid:t.fid,registrationStatus:0}:t}function l3(t){return t.registrationStatus===1&&t.registrationTime+dS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u3({appConfig:t,heartbeatServiceProvider:e},n){const r=c3(t,n),i=WM(t,n),s=e.getImmediate({optional:!0});if(s){const d=await s.getHeartbeatsHeader();d&&i.append("x-firebase-client",d)}const o={installation:{sdkVersion:hS,appId:t.appId}},l={method:"POST",headers:i,body:JSON.stringify(o)},u=await wS(()=>fetch(r,l));if(u.ok){const d=await u.json();return gS(d)}else throw await vS("Generate Auth Token",u)}function c3(t,{fid:e}){return`${mS(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kv(t,e=!1){let n;const r=await tf(t.appConfig,s=>{if(!AS(s))throw bo.create("not-registered");const o=s.authToken;if(!e&&f3(o))return s;if(o.requestStatus===1)return n=d3(t,e),s;{if(!navigator.onLine)throw bo.create("app-offline");const l=m3(s);return n=h3(t,l),l}});return n?await n:r.authToken}async function d3(t,e){let n=await T_(t.appConfig);for(;n.authToken.requestStatus===1;)await _S(100),n=await T_(t.appConfig);const r=n.authToken;return r.requestStatus===0?Kv(t,e):r}function T_(t){return tf(t,e=>{if(!AS(e))throw bo.create("not-registered");const n=e.authToken;return g3(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function h3(t,e){try{const n=await u3(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await oh(t.appConfig,r),n}catch(n){if(pS(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await SS(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await oh(t.appConfig,r)}throw n}}function AS(t){return t!==void 0&&t.registrationStatus===2}function f3(t){return t.requestStatus===2&&!p3(t)}function p3(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+BM}function m3(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function g3(t){return t.requestStatus===1&&t.requestTime+dS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v3(t){const e=t,{installationEntry:n,registrationPromise:r}=await qv(e);return r?r.catch(console.error):Kv(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y3(t,e=!1){const n=t;return await w3(n),(await Kv(n,e)).token}async function w3(t){const{registrationPromise:e}=await qv(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _3(t){if(!t||!t.options)throw hp("App Configuration");if(!t.name)throw hp("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw hp(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function hp(t){return bo.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS="installations",E3="installations-internal",T3=t=>{const e=t.getProvider("app").getImmediate(),n=_3(e),r=Os(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},I3=t=>{const e=t.getProvider("app").getImmediate(),n=Os(e,bS).getImmediate();return{getId:()=>v3(n),getToken:i=>y3(n,i)}};function S3(){Br(new wr(bS,T3,"PUBLIC")),Br(new wr(E3,I3,"PRIVATE"))}S3();Bn(cS,Hv);Bn(cS,Hv,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ah="analytics",C3="firebase_id",A3="origin",b3=60*1e3,k3="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Gv="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $n=new xh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P3={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Zn=new Do("analytics","Analytics",P3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R3(t){if(!t.startsWith(Gv)){const e=Zn.create("invalid-gtag-resource",{gtagURL:t});return $n.warn(e.message),""}return t}function kS(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function x3(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function N3(t,e){const n=x3("firebase-js-sdk-policy",{createScriptURL:R3}),r=document.createElement("script"),i=`${Gv}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function D3(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function O3(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const u=(await kS(n)).find(d=>d.measurementId===i);u&&await e[u.appId]}}catch(l){$n.error(l)}t("config",i,s)}async function L3(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const l=await kS(n);for(const u of o){const d=l.find(m=>m.measurementId===u),p=d&&e[d.appId];if(p)s.push(p);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){$n.error(s)}}function M3(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[l,u]=o;await L3(t,e,n,l,u)}else if(s==="config"){const[l,u]=o;await O3(t,e,n,r,l,u)}else if(s==="consent"){const[l,u]=o;t("consent",l,u)}else if(s==="get"){const[l,u,d]=o;t("get",l,u,d)}else if(s==="set"){const[l]=o;t("set",l)}else t(s,...o)}catch(l){$n.error(l)}}return i}function V3(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=M3(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function j3(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Gv)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F3=30,U3=1e3;class B3{constructor(e={},n=U3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const PS=new B3;function z3(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function $3(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:z3(r)},s=k3.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let l="";try{const u=await o.json();!((e=u.error)===null||e===void 0)&&e.message&&(l=u.error.message)}catch{}throw Zn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:l})}return o.json()}async function H3(t,e=PS,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Zn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Zn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new K3;return setTimeout(async()=>{l.abort()},b3),RS({appId:r,apiKey:i,measurementId:s},o,l,e)}async function RS(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=PS){var s;const{appId:o,measurementId:l}=t;try{await W3(r,e)}catch(u){if(l)return $n.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:l};throw u}try{const u=await $3(t);return i.deleteThrottleMetadata(o),u}catch(u){const d=u;if(!q3(d)){if(i.deleteThrottleMetadata(o),l)return $n.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:o,measurementId:l};throw u}const p=Number((s=d==null?void 0:d.customData)===null||s===void 0?void 0:s.httpStatus)===503?o0(n,i.intervalMillis,F3):o0(n,i.intervalMillis),m={throttleEndTimeMillis:Date.now()+p,backoffCount:n+1};return i.setThrottleMetadata(o,m),$n.debug(`Calling attemptFetch again in ${p} millis`),RS(t,m,r,i)}}function W3(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Zn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function q3(t){if(!(t instanceof Er)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class K3{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function G3(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q3(){if(N2())try{await D2()}catch(t){return $n.warn(Zn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return $n.warn(Zn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Y3(t,e,n,r,i,s,o){var l;const u=H3(t);u.then(b=>{n[b.measurementId]=b.appId,t.options.measurementId&&b.measurementId!==t.options.measurementId&&$n.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${b.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(b=>$n.error(b)),e.push(u);const d=Q3().then(b=>{if(b)return r.getId()}),[p,m]=await Promise.all([u,d]);j3(s)||N3(s,p.measurementId),i("js",new Date);const w=(l=o==null?void 0:o.config)!==null&&l!==void 0?l:{};return w[A3]="firebase",w.update=!0,m!=null&&(w[C3]=m),i("config",p.measurementId,w),p.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(e){this.app=e}_delete(){return delete ql[this.app.options.appId],Promise.resolve()}}let ql={},I_=[];const S_={};let fp="dataLayer",J3="gtag",C_,xS,A_=!1;function Z3(){const t=[];if(x2()&&t.push("This is a browser extension environment."),HR()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Zn.create("invalid-analytics-context",{errorInfo:e});$n.warn(n.message)}}function e6(t,e,n){Z3();const r=t.options.appId;if(!r)throw Zn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)$n.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Zn.create("no-api-key");if(ql[r]!=null)throw Zn.create("already-exists",{id:r});if(!A_){D3(fp);const{wrappedGtag:s,gtagCore:o}=V3(ql,I_,S_,fp,J3);xS=s,C_=o,A_=!0}return ql[r]=Y3(t,I_,S_,e,C_,fp,n),new X3(t)}function t6(t=Nh()){t=at(t);const e=Os(t,ah);return e.isInitialized()?e.getImmediate():n6(t)}function n6(t,e={}){const n=Os(t,ah);if(n.isInitialized()){const i=n.getImmediate();if(gu(e,n.getOptions()))return i;throw Zn.create("already-initialized")}return n.initialize({options:e})}function r6(t,e,n,r){t=at(t),G3(xS,ql[t.app.options.appId],e,n,r).catch(i=>$n.error(i))}const b_="@firebase/analytics",k_="0.10.5";function i6(){Br(new wr(ah,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return e6(r,i,n)},"PUBLIC")),Br(new wr("analytics-internal",t,"PRIVATE")),Bn(b_,k_),Bn(b_,k_,"esm2017");function t(e){try{const n=e.getProvider(ah).getImmediate();return{logEvent:(r,i,s)=>r6(n,r,i,s)}}catch(n){throw Zn.create("interop-component-reg-failed",{reason:n})}}}i6();const s6={apiKey:"AIzaSyBdVRwVYcsVHEtR98xVjC_Bg0w7ylembsI",authDomain:"aries-100.firebaseapp.com",projectId:"aries-100",storageBucket:"aries-100.appspot.com",messagingSenderId:"470680119583",appId:"1:470680119583:web:dc184c97a5bbac9d14682a",measurementId:"G-0KY74B29RX"},nf=V2(s6),Mn=ID(nf),pn=d5(nf),P_=MM(nf);t6(nf);const o6="/Aries Logo.gif",NS=[{label:"MEN",link:"#",children:[{label:"Shirts",link:"#",icon:xk},{label:"Pants",link:"#",icon:Dk},{label:"Sneakers",link:"#",icon:Ok},{label:"Caps",link:"#",icon:Lk}]},{label:"WOMEN",link:"#",children:[{label:"Bags",link:"#"},{label:"Beauty",link:"#"},{label:"Dress",link:"#"}]},{label:"SUITS",link:"#"},{label:"T-Shirts",link:"#"}];function a6(){const[t]=s2(),[e,n]=B.useState(!1),[r,i]=B.useState(window.innerWidth),[s,o]=B.useState(!1),[l,u]=B.useState(!1),[d,p]=B.useState(!1),[m,w]=B.useState(!1),[b,x]=B.useState(!1),N=B.useRef(null),j=B.useRef(null),P=qa();B.useEffect(()=>{const A=()=>{const E=window.innerWidth;i(E),E>=768&&(n(!1),o(!1))};return window.addEventListener("resize",A),()=>window.removeEventListener("resize",A)},[]),B.useEffect(()=>{s&&N.current&&N.current.focus()},[s]),B.useEffect(()=>{function A(E){j.current&&!j.current.contains(E.target)&&p(!1)}return document.addEventListener("mousedown",A),()=>{document.removeEventListener("mousedown",A)}},[]),B.useEffect(()=>{const A=Mn.onAuthStateChanged(async E=>{E?(w(!0),E.email==="admin@example.com"?x(!0):x(!1)):(w(!1),x(!1))});return()=>A()},[]);function T(){n(!0)}function k(){n(!1)}function F(){o(!s)}function G(){p(!d)}function L(){Mn.signOut().then(()=>{console.log("User logged out successfully!"),p(!1),w(!1),P("/")}).catch(A=>{console.error("Error logging out:",A.message)})}return _.jsxs("div",{className:`navbar ${s&&r<768?"search-active":""}`,children:[_.jsxs("div",{className:"navbar-content",children:[_.jsxs("section",{ref:t,className:"navbar-left",children:[_.jsx("img",{src:o6,alt:"logo",className:"logo"}),r>=768&&_.jsx("div",{className:"nav-items",children:NS.map((A,E)=>_.jsx(l6,{item:A},E))})]}),_.jsx("section",{className:`navbar-right ${s&&r<768?"search-active":""}`,children:r>=768?_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"search-container",children:[_.jsx("input",{type:"text",className:"search-input",placeholder:"Search...",onFocus:()=>u(!0),onBlur:()=>u(!1)}),_.jsx(Rw,{className:"search-icon"})]}),_.jsxs("div",{className:"user-dropdown-container",ref:j,children:[_.jsx(Nw,{className:"icon-button",onClick:G,onMouseEnter:()=>p(!0)}),d&&_.jsx("div",{className:"user-dropdown",children:m?_.jsxs(_.Fragment,{children:[_.jsx(mt,{to:"/profile",className:"user-dropdown-item",children:"My Account"}),_.jsx("span",{className:"user-dropdown-item",onClick:L,children:"Logout"})]}):_.jsxs(_.Fragment,{children:[_.jsx(mt,{to:"/login",className:"user-dropdown-item",children:"Login"}),_.jsx(mt,{to:"/signup",className:"user-dropdown-item",children:"Sign Up"})]})})]}),_.jsx(Dw,{className:"icon-button"}),m&&b&&_.jsxs(mt,{to:"/admin",className:"admin-dashboard-link",children:[_.jsx(xw,{className:"icon-button"}),_.jsx("span",{className:"admin-dashboard-text",children:"Dashboard"})]})]}):s?_.jsxs("div",{className:"mobile-search-container",children:[_.jsx(Ek,{className:"icon-button",onClick:F}),_.jsx("input",{ref:N,type:"text",className:"mobile-search-input",placeholder:"Search..."})]}):_.jsxs(_.Fragment,{children:[_.jsx(Rw,{className:"icon-button",onClick:F}),_.jsxs("div",{className:"user-dropdown-container",ref:j,children:[_.jsx(Nw,{className:"icon-button",onClick:G}),d&&_.jsx("div",{className:"user-dropdown",children:m?_.jsxs(_.Fragment,{children:[_.jsx(mt,{to:"/profile",className:"user-dropdown-item",children:"My Account"}),_.jsx("span",{className:"user-dropdown-item",onClick:L,children:"Logout"})]}):_.jsxs(_.Fragment,{children:[_.jsx(mt,{to:"/login",className:"user-dropdown-item",children:"Login"}),_.jsx(mt,{to:"/signup",className:"user-dropdown-item",children:"Sign Up"})]})})]}),_.jsx(Dw,{className:"icon-button"}),m&&b&&_.jsx(mt,{to:"/admin",className:"admin-dashboard-link",children:_.jsx(xw,{className:"icon-button"})}),_.jsx(Tk,{onClick:T,className:"menu-icon"})]})})]}),r<768&&e&&_.jsx(u6,{closeSideMenu:k})]})}function l6({item:t}){const[e,n]=B.useState(!1);function r(){n(!e)}return _.jsxs("div",{className:"nav-item",onClick:r,children:[_.jsxs("p",{className:"nav-item-label",children:[_.jsx("span",{children:t.label}),t.children&&_.jsx(ZE,{className:`arrow-icon ${e?"open":""}`})]}),(e||window.innerWidth>=768)&&t.children&&_.jsx("div",{className:"dropdown",children:t.children.map((i,s)=>_.jsxs(mt,{to:i.link??"#",className:"dropdown-item",children:[i.icon&&_.jsx(i.icon,{className:"icon-image"}),_.jsx("span",{className:"dropdown-item-label",children:i.label})]},s))})]})}function u6({closeSideMenu:t}){return _.jsx("div",{className:"mobile-nav",children:_.jsxs("div",{className:"mobile-nav-content",children:[_.jsx("section",{className:"mobile-nav-close",children:_.jsx(Mk,{onClick:t,className:"close-icon"})}),_.jsx("div",{className:"mobile-nav-items",children:NS.map((e,n)=>_.jsx(c6,{...e},n))})]})})}function c6({label:t,children:e,link:n}){const[r]=s2(),[i,s]=B.useState(!1);function o(){s(!i)}return _.jsxs("div",{ref:r,onClick:o,className:"single-nav-item",children:[_.jsxs("p",{className:"single-nav-item-label",children:[_.jsx("span",{children:t}),e&&_.jsx(ZE,{className:`arrow-icon ${i?"open":""}`})]}),i&&e&&_.jsx("div",{className:"single-nav-item-dropdown",children:e.map((l,u)=>_.jsxs(mt,{to:l.link??"#",className:"single-nav-item-dropdown-item",children:[l.icon&&_.jsx(l.icon,{className:"icon-image"}),_.jsx("span",{className:"single-nav-item-dropdown-item-label",children:l.label})]},u))})]})}function d6(t){return lt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4-8 5-8-5V6l8 5 8-5v2z"},child:[]}]})(t)}function h6(t){return lt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"},child:[]}]})(t)}const f6="/Aries%20Logo.gif",p6=()=>_.jsxs("footer",{className:"aries-footer",children:[_.jsxs("div",{className:"aries-footer__content",children:[_.jsx("div",{className:"aries-footer__section aries-footer__logo-section",children:_.jsx("img",{src:f6,alt:"Aries Logo",className:"aries-footer__logo"})}),_.jsxs("div",{className:"aries-footer__section aries-footer__links-section",children:[_.jsx("h3",{className:"aries-footer__heading",children:"Quick Links"}),_.jsxs("ul",{className:"aries-footer__list",children:[_.jsx("li",{className:"aries-footer__list-item",children:_.jsx("a",{href:"/about",className:"aries-footer__link",children:"About Us"})}),_.jsx("li",{className:"aries-footer__list-item",children:_.jsx("a",{href:"/products",className:"aries-footer__link",children:"Products"})}),_.jsx("li",{className:"aries-footer__list-item",children:_.jsx("a",{href:"/faq",className:"aries-footer__link",children:"FAQ"})}),_.jsx("li",{className:"aries-footer__list-item",children:_.jsx("a",{href:"/contact",className:"aries-footer__link",children:"Contact"})})]})]}),_.jsxs("div",{className:"aries-footer__section aries-footer__contact-section",children:[_.jsx("h3",{className:"aries-footer__heading",children:"Contact Us"}),_.jsxs("p",{className:"aries-footer__contact-info",children:[_.jsx(d6,{className:"aries-footer__icon"})," info@aries-fashion.com"]}),_.jsxs("p",{className:"aries-footer__contact-info",children:[_.jsx(h6,{className:"aries-footer__icon"})," +234 706 118-8005"]})]}),_.jsxs("div",{className:"aries-footer__section aries-footer__social-section",children:[_.jsx("h3",{className:"aries-footer__heading",children:"Follow Us"}),_.jsxs("div",{className:"aries-footer__social-icons",children:[_.jsx("a",{href:"#",className:"aries-footer__social-link",children:_.jsx(Ik,{})}),_.jsx("a",{href:"#",className:"aries-footer__social-link",children:_.jsx(Ak,{})}),_.jsx("a",{href:"#",className:"aries-footer__social-link",children:_.jsx(Sk,{})}),_.jsx("a",{href:"#",className:"aries-footer__social-link",children:_.jsx(Ck,{})})]})]})]}),_.jsx("div",{className:"aries-footer__bottom",children:_.jsx("p",{className:"aries-footer__copyright",children:"© 2024 Aries Fashion. All rights reserved."})})]});function m6(){return _.jsxs(_.Fragment,{children:[_.jsx(a6,{}),_.jsx("main",{children:_.jsx(T2,{})}),_.jsx(p6,{})]})}const g6=()=>_.jsxs("div",{className:"home-page",children:[_.jsx("section",{className:"hero full-width",children:_.jsx("div",{className:"skeleton skeleton-image",style:{height:"calc(100vh - var(--navbar-height))"}})}),_.jsxs("section",{className:"featured-categories full-width",children:[_.jsx("div",{className:"category-item",children:_.jsx("div",{className:"skeleton skeleton-image"})}),_.jsx("div",{className:"category-item",children:_.jsx("div",{className:"skeleton skeleton-image"})})]}),_.jsxs("section",{className:"scrollable-section",children:[_.jsx("h2",{className:"skeleton skeleton-text",style:{width:"200px"}}),_.jsx("div",{className:"scrollable-content",children:[...Array(6)].map((t,e)=>_.jsxs("div",{className:"product-card",children:[_.jsx("div",{className:"skeleton skeleton-image"}),_.jsx("div",{className:"skeleton skeleton-text",style:{width:"80%"}}),_.jsx("div",{className:"skeleton skeleton-text",style:{width:"40%"}}),_.jsx("div",{className:"skeleton skeleton-button"})]},e))})]}),_.jsxs("section",{className:"scrollable-section",children:[_.jsx("h2",{className:"skeleton skeleton-text",style:{width:"250px"}}),_.jsx("div",{className:"scrollable-content",children:[...Array(6)].map((t,e)=>_.jsxs("div",{className:"product-card",children:[_.jsx("div",{className:"skeleton skeleton-image"}),_.jsx("div",{className:"skeleton skeleton-text",style:{width:"80%"}}),_.jsx("div",{className:"skeleton skeleton-text",style:{width:"40%"}}),_.jsx("div",{className:"skeleton skeleton-button"})]},e))})]}),_.jsx("section",{className:"full-width-banner",children:_.jsx("div",{className:"skeleton skeleton-image",style:{height:"50vh"}})}),_.jsxs("section",{className:"instagram-feed",children:[_.jsx("h2",{className:"skeleton skeleton-text",style:{width:"180px",margin:"0 auto"}}),_.jsx("div",{className:"instagram-grid",children:[...Array(4)].map((t,e)=>_.jsx("div",{className:"skeleton skeleton-image"},e))})]}),_.jsxs("section",{className:"newsletter",children:[_.jsx("h2",{className:"skeleton skeleton-text",style:{width:"200px",margin:"0 auto"}}),_.jsx("div",{className:"skeleton skeleton-text",style:{width:"300px",margin:"10px auto"}}),_.jsxs("div",{className:"newsletter-form",children:[_.jsx("div",{className:"skeleton skeleton-text",style:{width:"200px",height:"2em"}}),_.jsx("div",{className:"skeleton skeleton-button"})]})]})]}),R_="/assets/gym-vaYIe9Ux.png",pp="/assets/gym2-BDJ8ysc9.png",mp="/assets/gym4-C8ghxm1Y.png",x_="/assets/gym5-B7l2quyg.png",N_="/assets/gym3-BRczZl4r.png",v6="/assets/cap1-BPx8DSeD.jpg",D_="/assets/s1-JEDBfdki.jpg",y6="/assets/s2-BAYNDdzj.jpg",w6="/assets/j2-Dfp_4zWk.jpg",_6="/assets/bag1-BdpRA5xB.jpg",E6="/assets/sh1-DBkag3Z2.jpg",T6="/assets/gym7-C7nAFdDk.jpg",I6=()=>{const[t,e]=B.useState(!0);return B.useEffect(()=>{const n=setTimeout(()=>{e(!1)},2e3);return()=>clearTimeout(n)},[]),t?_.jsx(g6,{}):_.jsxs("div",{className:"home-page",children:[_.jsxs("section",{className:"hero full-width",children:[_.jsx("img",{className:"banner",src:N_,alt:"Hero Banner"}),_.jsxs("div",{className:"hero-content",children:[_.jsx("h1",{children:"New Arrivals"}),_.jsx(mt,{to:"/new-collection",className:"btn btn-primary",children:"Shop Now"})]})]}),_.jsxs("section",{className:"featured-categories full-width",children:[_.jsxs("div",{className:"category-item",children:[_.jsx("img",{src:x_,alt:"Men's Collection"}),_.jsxs("div",{className:"category-content",children:[_.jsx("h2",{children:"Men's Collection"}),_.jsx(mt,{to:"/men",className:"btn btn-secondary",children:"Shop Men"})]})]}),_.jsxs("div",{className:"category-item",children:[_.jsx("img",{src:mp,alt:"Women's Collection"}),_.jsxs("div",{className:"category-content",children:[_.jsx("h2",{children:"Women's Collection"}),_.jsx(mt,{to:"/women",className:"btn btn-secondary",children:"Shop Women"})]})]})]}),_.jsxs("section",{className:"best-sellers scrollable-section",children:[_.jsx("h2",{children:"Best Sellers"}),_.jsxs("div",{className:"scrollable-content",children:[_.jsx(dr,{name:"Classic Tee",price:29.99,image:R_}),_.jsx(dr,{name:"Performance Leggings",price:59.99,image:pp}),_.jsx(dr,{name:"Lightweight Jacket",price:79.99,image:N_}),_.jsx(dr,{name:"Training Shorts",price:39.99,image:v6}),_.jsx(dr,{name:"Running Shoes",price:89.99,image:y6}),_.jsx(dr,{name:"Yoga Mat",price:24.99,image:w6})]})]}),_.jsxs("section",{className:"new-drops scrollable-section",children:[_.jsx("h2",{children:"New Month New Drops"}),_.jsxs("div",{className:"scrollable-content",children:[_.jsx(dr,{name:"Summer Dress",price:49.99,image:mp}),_.jsx(dr,{name:"Graphic Tee",price:34.99,image:x_}),_.jsx(dr,{name:"Denim Jacket",price:69.99,image:D_}),_.jsx(dr,{name:"Swim Shorts",price:29.99,image:_6}),_.jsx(dr,{name:"Sandals",price:39.99,image:E6}),_.jsx(dr,{name:"Sunglasses",price:19.99,image:T6})]})]}),_.jsxs("section",{className:"full-width-banner",children:[_.jsx("img",{src:pp,alt:"Special Offer"}),_.jsxs("div",{className:"banner-content",children:[_.jsx("h2",{children:"Summer Sale"}),_.jsx("p",{children:"Up to 50% off selected items"}),_.jsx(mt,{to:"/sale",className:"btn btn-primary",children:"Shop Sale"})]})]}),_.jsxs("section",{className:"instagram-feed",children:[_.jsx("h2",{children:"@Aries on Instagram"}),_.jsxs("div",{className:"instagram-grid",children:[_.jsx("img",{src:D_,alt:"Instagram post 1"}),_.jsx("img",{src:mp,alt:"Instagram post 2"}),_.jsx("img",{src:R_,alt:"Instagram post 3"}),_.jsx("img",{src:pp,alt:"Instagram post 4"})]})]}),_.jsxs("section",{className:"newsletter",children:[_.jsx("h2",{children:"Join the Community"}),_.jsx("p",{children:"Sign up for exclusive offers, original stories, events and more."}),_.jsxs("form",{onSubmit:n=>n.preventDefault(),className:"newsletter-form",children:[_.jsx("input",{type:"email",placeholder:"Enter your email address",required:!0}),_.jsx("button",{type:"submit",className:"btn btn-primary",children:"Sign Up"})]})]})]})},dr=({name:t,price:e,image:n})=>_.jsxs("div",{className:"product-card",children:[_.jsx("img",{src:n,alt:t}),_.jsx("h3",{children:t}),_.jsxs("p",{children:["₦",e.toFixed(2)]}),_.jsx("button",{className:"btn btn-primary",children:"Add to Cart"})]});function DS(t){return lt({tag:"svg",attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(t)}function S6(){const[t,e]=B.useState(""),[n,r]=B.useState(""),[i,s]=B.useState(null),o=qa(),l=async d=>{d.preventDefault();try{await lT(Mn,t,n),o("/")}catch(p){s(p.message)}},u=async()=>{const d=new ti;try{await wT(Mn,d),o("/")}catch(p){s(p.message)}};return _.jsx("div",{className:"auth-container",children:_.jsxs("form",{className:"auth-form",onSubmit:l,children:[_.jsx("h2",{className:"auth-title",children:"Login"}),i&&_.jsx("p",{className:"auth-error",children:i}),_.jsx("input",{type:"email",className:"auth-input",placeholder:"Email",value:t,onChange:d=>e(d.target.value),required:!0}),_.jsx("input",{type:"password",className:"auth-input",placeholder:"Password",value:n,onChange:d=>r(d.target.value),required:!0}),_.jsx("button",{type:"submit",className:"auth-button",children:"Login"}),_.jsx("div",{className:"auth-divider",children:_.jsx("span",{children:"or"})}),_.jsxs("button",{type:"button",className:"auth-button google-button",onClick:u,children:[_.jsx(DS,{className:"google-icon"})," Sign in with Google"]}),_.jsxs("div",{className:"auth-links",children:[_.jsx(mt,{to:"/signup",className:"auth-link",children:"Don't have an account? Sign up"}),_.jsx(mt,{to:"/forgot-password",className:"auth-link",children:"Forgot Password?"})]})]})})}function C6(){const[t,e]=B.useState(""),[n,r]=B.useState(""),[i,s]=B.useState(""),[o,l]=B.useState(""),[u,d]=B.useState(null),p=qa(),m=async b=>{b.preventDefault();try{const N=(await aT(Mn,i,o)).user;await Vm(ci(pn,"users",N.uid),{firstName:t,lastName:n,email:N.email,createdAt:new Date,orderHistory:[]}),p("/")}catch(x){d(x.message)}},w=async()=>{const b=new ti;try{const N=(await wT(Mn,b)).user;await Vm(ci(pn,"users",N.uid),{firstName:N.displayName.split(" ")[0],lastName:N.displayName.split(" ").slice(1).join(" "),email:N.email,createdAt:new Date,orderHistory:[]},{merge:!0}),p("/")}catch(x){d(x.message)}};return _.jsx("div",{className:"auth-container",children:_.jsxs("form",{className:"auth-form",onSubmit:m,children:[_.jsx("h2",{className:"auth-title",children:"Create an Account"}),u&&_.jsx("p",{className:"auth-error",children:u}),_.jsxs("div",{className:"auth-input-group",children:[_.jsx("input",{type:"text",className:"auth-input",placeholder:"First Name",value:t,onChange:b=>e(b.target.value),required:!0}),_.jsx("input",{type:"text",className:"auth-input",placeholder:"Last Name",value:n,onChange:b=>r(b.target.value),required:!0})]}),_.jsx("input",{type:"email",className:"auth-input",placeholder:"Email",value:i,onChange:b=>s(b.target.value),required:!0}),_.jsx("input",{type:"password",className:"auth-input",placeholder:"Password",value:o,onChange:b=>l(b.target.value),required:!0}),_.jsx("button",{type:"submit",className:"auth-button",children:"Sign Up"}),_.jsx("div",{className:"auth-divider",children:_.jsx("span",{children:"or"})}),_.jsxs("button",{type:"button",className:"auth-button google-button",onClick:w,children:[_.jsx(DS,{className:"google-icon"})," Sign up with Google"]}),_.jsx(mt,{to:"/login",className:"auth-link",children:"Already have an account? Login"})]})})}const A6="/Forgot%20password-pana.svg";function b6(){const[t,e]=B.useState(""),[n,r]=B.useState(null),[i,s]=B.useState(null),o=async l=>{l.preventDefault();try{await lN(Mn,t),r("Password reset email sent. Check your inbox."),s(null)}catch(u){s(u.message),r(null)}};return _.jsxs("div",{className:"auth-container",children:[_.jsx("div",{className:"auth-image-container",children:_.jsx("img",{src:A6,alt:"Forgot Password",className:"auth-image"})}),_.jsxs("form",{className:"auth-form",onSubmit:o,children:[_.jsx("h2",{className:"auth-title",children:"Forgot Password"}),n&&_.jsx("p",{className:"auth-success",children:n}),i&&_.jsx("p",{className:"auth-error",children:i}),_.jsx("input",{type:"email",className:"auth-input",placeholder:"Email",value:t,onChange:l=>e(l.target.value),required:!0}),_.jsx("button",{type:"submit",className:"auth-button",children:"Reset Password"}),_.jsx(mt,{to:"/login",className:"auth-link",children:"Back to Login"})]})]})}function OS(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=OS(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ds(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=OS(t))&&(r&&(r+=" "),r+=e);return r}const Au=t=>typeof t=="number"&&!isNaN(t),co=t=>typeof t=="string",Xn=t=>typeof t=="function",fd=t=>co(t)||Xn(t)?t:null,Um=t=>B.isValidElement(t)||co(t)||Xn(t)||Au(t);function k6(t,e,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function rf(t){let{enter:e,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:s=300}=t;return function(o){let{children:l,position:u,preventExitTransition:d,done:p,nodeRef:m,isIn:w,playToast:b}=o;const x=r?`${e}--${u}`:e,N=r?`${n}--${u}`:n,j=B.useRef(0);return B.useLayoutEffect(()=>{const P=m.current,T=x.split(" "),k=F=>{F.target===m.current&&(b(),P.removeEventListener("animationend",k),P.removeEventListener("animationcancel",k),j.current===0&&F.type!=="animationcancel"&&P.classList.remove(...T))};P.classList.add(...T),P.addEventListener("animationend",k),P.addEventListener("animationcancel",k)},[]),B.useEffect(()=>{const P=m.current,T=()=>{P.removeEventListener("animationend",T),i?k6(P,p,s):p()};w||(d?T():(j.current=1,P.className+=` ${N}`,P.addEventListener("animationend",T)))},[w]),Ne.createElement(Ne.Fragment,null,l)}}function O_(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const Sn=new Map;let bu=[];const Bm=new Set,P6=t=>Bm.forEach(e=>e(t)),LS=()=>Sn.size>0;function MS(t,e){var n;if(e)return!((n=Sn.get(e))==null||!n.isToastActive(t));let r=!1;return Sn.forEach(i=>{i.isToastActive(t)&&(r=!0)}),r}function VS(t,e){Um(t)&&(LS()||bu.push({content:t,options:e}),Sn.forEach(n=>{n.buildToast(t,e)}))}function L_(t,e){Sn.forEach(n=>{e!=null&&e!=null&&e.containerId?(e==null?void 0:e.containerId)===n.id&&n.toggle(t,e==null?void 0:e.id):n.toggle(t,e==null?void 0:e.id)})}function R6(t){const{subscribe:e,getSnapshot:n,setProps:r}=B.useRef(function(s){const o=s.containerId||1;return{subscribe(l){const u=function(p,m,w){let b=1,x=0,N=[],j=[],P=[],T=m;const k=new Map,F=new Set,G=()=>{P=Array.from(k.values()),F.forEach(E=>E())},L=E=>{j=E==null?[]:j.filter(S=>S!==E),G()},A=E=>{const{toastId:S,onOpen:C,updateId:D,children:V}=E.props,R=D==null;E.staleId&&k.delete(E.staleId),k.set(S,E),j=[...j,E.props.toastId].filter(Se=>Se!==E.staleId),G(),w(O_(E,R?"added":"updated")),R&&Xn(C)&&C(B.isValidElement(V)&&V.props)};return{id:p,props:T,observe:E=>(F.add(E),()=>F.delete(E)),toggle:(E,S)=>{k.forEach(C=>{S!=null&&S!==C.props.toastId||Xn(C.toggle)&&C.toggle(E)})},removeToast:L,toasts:k,clearQueue:()=>{x-=N.length,N=[]},buildToast:(E,S)=>{if((pe=>{let{containerId:Ce,toastId:H,updateId:Ke}=pe;const Ge=Ce?Ce!==p:p!==1,kt=k.has(H)&&Ke==null;return Ge||kt})(S))return;const{toastId:C,updateId:D,data:V,staleId:R,delay:Se}=S,ut=()=>{L(C)},ze=D==null;ze&&x++;const ye={...T,style:T.toastStyle,key:b++,...Object.fromEntries(Object.entries(S).filter(pe=>{let[Ce,H]=pe;return H!=null})),toastId:C,updateId:D,data:V,closeToast:ut,isIn:!1,className:fd(S.className||T.toastClassName),bodyClassName:fd(S.bodyClassName||T.bodyClassName),progressClassName:fd(S.progressClassName||T.progressClassName),autoClose:!S.isLoading&&(ee=S.autoClose,X=T.autoClose,ee===!1||Au(ee)&&ee>0?ee:X),deleteToast(){const pe=k.get(C),{onClose:Ce,children:H}=pe.props;Xn(Ce)&&Ce(B.isValidElement(H)&&H.props),w(O_(pe,"removed")),k.delete(C),x--,x<0&&(x=0),N.length>0?A(N.shift()):G()}};var ee,X;ye.closeButton=T.closeButton,S.closeButton===!1||Um(S.closeButton)?ye.closeButton=S.closeButton:S.closeButton===!0&&(ye.closeButton=!Um(T.closeButton)||T.closeButton);let ue=E;B.isValidElement(E)&&!co(E.type)?ue=B.cloneElement(E,{closeToast:ut,toastProps:ye,data:V}):Xn(E)&&(ue=E({closeToast:ut,toastProps:ye,data:V}));const Ee={content:ue,props:ye,staleId:R};T.limit&&T.limit>0&&x>T.limit&&ze?N.push(Ee):Au(Se)?setTimeout(()=>{A(Ee)},Se):A(Ee)},setProps(E){T=E},setToggle:(E,S)=>{k.get(E).toggle=S},isToastActive:E=>j.some(S=>S===E),getSnapshot:()=>T.newestOnTop?P.reverse():P}}(o,s,P6);Sn.set(o,u);const d=u.observe(l);return bu.forEach(p=>VS(p.content,p.options)),bu=[],()=>{d(),Sn.delete(o)}},setProps(l){var u;(u=Sn.get(o))==null||u.setProps(l)},getSnapshot(){var l;return(l=Sn.get(o))==null?void 0:l.getSnapshot()}}}(t)).current;r(t);const i=B.useSyncExternalStore(e,n,n);return{getToastToRender:function(s){if(!i)return[];const o=new Map;return i.forEach(l=>{const{position:u}=l.props;o.has(u)||o.set(u,[]),o.get(u).push(l)}),Array.from(o,l=>s(l[0],l[1]))},isToastActive:MS,count:i==null?void 0:i.length}}function x6(t){const[e,n]=B.useState(!1),[r,i]=B.useState(!1),s=B.useRef(null),o=B.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:l,pauseOnHover:u,closeToast:d,onClick:p,closeOnClick:m}=t;var w,b;function x(){n(!0)}function N(){n(!1)}function j(k){const F=s.current;o.canDrag&&F&&(o.didMove=!0,e&&N(),o.delta=t.draggableDirection==="x"?k.clientX-o.start:k.clientY-o.start,o.start!==k.clientX&&(o.canCloseOnClick=!1),F.style.transform=`translate3d(${t.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`},0)`,F.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function P(){document.removeEventListener("pointermove",j),document.removeEventListener("pointerup",P);const k=s.current;if(o.canDrag&&o.didMove&&k){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return i(!0),t.closeToast(),void t.collapseAll();k.style.transition="transform 0.2s, opacity 0.2s",k.style.removeProperty("transform"),k.style.removeProperty("opacity")}}(b=Sn.get((w={id:t.toastId,containerId:t.containerId,fn:n}).containerId||1))==null||b.setToggle(w.id,w.fn),B.useEffect(()=>{if(t.pauseOnFocusLoss)return document.hasFocus()||N(),window.addEventListener("focus",x),window.addEventListener("blur",N),()=>{window.removeEventListener("focus",x),window.removeEventListener("blur",N)}},[t.pauseOnFocusLoss]);const T={onPointerDown:function(k){if(t.draggable===!0||t.draggable===k.pointerType){o.didMove=!1,document.addEventListener("pointermove",j),document.addEventListener("pointerup",P);const F=s.current;o.canCloseOnClick=!0,o.canDrag=!0,F.style.transition="none",t.draggableDirection==="x"?(o.start=k.clientX,o.removalDistance=F.offsetWidth*(t.draggablePercent/100)):(o.start=k.clientY,o.removalDistance=F.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent)/100)}},onPointerUp:function(k){const{top:F,bottom:G,left:L,right:A}=s.current.getBoundingClientRect();k.nativeEvent.type!=="touchend"&&t.pauseOnHover&&k.clientX>=L&&k.clientX<=A&&k.clientY>=F&&k.clientY<=G?N():x()}};return l&&u&&(T.onMouseEnter=N,t.stacked||(T.onMouseLeave=x)),m&&(T.onClick=k=>{p&&p(k),o.canCloseOnClick&&d()}),{playToast:x,pauseToast:N,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:T}}function N6(t){let{delay:e,isRunning:n,closeToast:r,type:i="default",hide:s,className:o,style:l,controlledProgress:u,progress:d,rtl:p,isIn:m,theme:w}=t;const b=s||u&&d===0,x={...l,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused"};u&&(x.transform=`scaleX(${d})`);const N=ds("Toastify__progress-bar",u?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${w}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":p}),j=Xn(o)?o({rtl:p,type:i,defaultClassName:N}):ds(N,o),P={[u&&d>=1?"onTransitionEnd":"onAnimationEnd"]:u&&d<1?null:()=>{m&&r()}};return Ne.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":b},Ne.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${w} Toastify__progress-bar--${i}`}),Ne.createElement("div",{role:"progressbar","aria-hidden":b?"true":"false","aria-label":"notification timer",className:j,style:x,...P}))}let D6=1;const jS=()=>""+D6++;function O6(t){return t&&(co(t.toastId)||Au(t.toastId))?t.toastId:jS()}function Kl(t,e){return VS(t,e),e.toastId}function lh(t,e){return{...e,type:e&&e.type||t,toastId:O6(e)}}function $c(t){return(e,n)=>Kl(e,lh(t,n))}function Oe(t,e){return Kl(t,lh("default",e))}Oe.loading=(t,e)=>Kl(t,lh("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),Oe.promise=function(t,e,n){let r,{pending:i,error:s,success:o}=e;i&&(r=co(i)?Oe.loading(i,n):Oe.loading(i.render,{...n,...i}));const l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},u=(p,m,w)=>{if(m==null)return void Oe.dismiss(r);const b={type:p,...l,...n,data:w},x=co(m)?{render:m}:m;return r?Oe.update(r,{...b,...x}):Oe(x.render,{...b,...x}),w},d=Xn(t)?t():t;return d.then(p=>u("success",o,p)).catch(p=>u("error",s,p)),d},Oe.success=$c("success"),Oe.info=$c("info"),Oe.error=$c("error"),Oe.warning=$c("warning"),Oe.warn=Oe.warning,Oe.dark=(t,e)=>Kl(t,lh("default",{theme:"dark",...e})),Oe.dismiss=function(t){(function(e){var n;if(LS()){if(e==null||co(n=e)||Au(n))Sn.forEach(r=>{r.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const r=Sn.get(e.containerId);r?r.removeToast(e.id):Sn.forEach(i=>{i.removeToast(e.id)})}}else bu=bu.filter(r=>e!=null&&r.options.toastId!==e)})(t)},Oe.clearWaitingQueue=function(t){t===void 0&&(t={}),Sn.forEach(e=>{!e.props.limit||t.containerId&&e.id!==t.containerId||e.clearQueue()})},Oe.isActive=MS,Oe.update=function(t,e){e===void 0&&(e={});const n=((r,i)=>{var s;let{containerId:o}=i;return(s=Sn.get(o||1))==null?void 0:s.toasts.get(r)})(t,e);if(n){const{props:r,content:i}=n,s={delay:100,...r,...e,toastId:e.toastId||t,updateId:jS()};s.toastId!==t&&(s.staleId=t);const o=s.render||i;delete s.render,Kl(o,s)}},Oe.done=t=>{Oe.update(t,{progress:1})},Oe.onChange=function(t){return Bm.add(t),()=>{Bm.delete(t)}},Oe.play=t=>L_(!0,t),Oe.pause=t=>L_(!1,t);const L6=typeof window<"u"?B.useLayoutEffect:B.useEffect,Hc=t=>{let{theme:e,type:n,isLoading:r,...i}=t;return Ne.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...i})},gp={info:function(t){return Ne.createElement(Hc,{...t},Ne.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return Ne.createElement(Hc,{...t},Ne.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return Ne.createElement(Hc,{...t},Ne.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return Ne.createElement(Hc,{...t},Ne.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return Ne.createElement("div",{className:"Toastify__spinner"})}},M6=t=>{const{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:s}=x6(t),{closeButton:o,children:l,autoClose:u,onClick:d,type:p,hideProgressBar:m,closeToast:w,transition:b,position:x,className:N,style:j,bodyClassName:P,bodyStyle:T,progressClassName:k,progressStyle:F,updateId:G,role:L,progress:A,rtl:E,toastId:S,deleteToast:C,isIn:D,isLoading:V,closeOnClick:R,theme:Se}=t,ut=ds("Toastify__toast",`Toastify__toast-theme--${Se}`,`Toastify__toast--${p}`,{"Toastify__toast--rtl":E},{"Toastify__toast--close-on-click":R}),ze=Xn(N)?N({rtl:E,position:x,type:p,defaultClassName:ut}):ds(ut,N),ye=function(Ee){let{theme:pe,type:Ce,isLoading:H,icon:Ke}=Ee,Ge=null;const kt={theme:pe,type:Ce};return Ke===!1||(Xn(Ke)?Ge=Ke({...kt,isLoading:H}):B.isValidElement(Ke)?Ge=B.cloneElement(Ke,kt):H?Ge=gp.spinner():(Tr=>Tr in gp)(Ce)&&(Ge=gp[Ce](kt))),Ge}(t),ee=!!A||!u,X={closeToast:w,type:p,theme:Se};let ue=null;return o===!1||(ue=Xn(o)?o(X):B.isValidElement(o)?B.cloneElement(o,X):function(Ee){let{closeToast:pe,theme:Ce,ariaLabel:H="close"}=Ee;return Ne.createElement("button",{className:`Toastify__close-button Toastify__close-button--${Ce}`,type:"button",onClick:Ke=>{Ke.stopPropagation(),pe(Ke)},"aria-label":H},Ne.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Ne.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(X)),Ne.createElement(b,{isIn:D,done:C,position:x,preventExitTransition:n,nodeRef:r,playToast:s},Ne.createElement("div",{id:S,onClick:d,"data-in":D,className:ze,...i,style:j,ref:r},Ne.createElement("div",{...D&&{role:L},className:Xn(P)?P({type:p}):ds("Toastify__toast-body",P),style:T},ye!=null&&Ne.createElement("div",{className:ds("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!V})},ye),Ne.createElement("div",null,l)),ue,Ne.createElement(N6,{...G&&!ee?{key:`pb-${G}`}:{},rtl:E,theme:Se,delay:u,isRunning:e,isIn:D,closeToast:w,hide:m,type:p,style:F,className:k,controlledProgress:ee,progress:A||0})))},sf=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},V6=rf(sf("bounce",!0));rf(sf("slide",!0));rf(sf("zoom"));rf(sf("flip"));const j6={position:"top-right",transition:V6,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function F6(t){let e={...j6,...t};const n=t.stacked,[r,i]=B.useState(!0),s=B.useRef(null),{getToastToRender:o,isToastActive:l,count:u}=R6(e),{className:d,style:p,rtl:m,containerId:w}=e;function b(N){const j=ds("Toastify__toast-container",`Toastify__toast-container--${N}`,{"Toastify__toast-container--rtl":m});return Xn(d)?d({position:N,rtl:m,defaultClassName:j}):ds(j,fd(d))}function x(){n&&(i(!0),Oe.play())}return L6(()=>{if(n){var N;const j=s.current.querySelectorAll('[data-in="true"]'),P=12,T=(N=e.position)==null?void 0:N.includes("top");let k=0,F=0;Array.from(j).reverse().forEach((G,L)=>{const A=G;A.classList.add("Toastify__toast--stacked"),L>0&&(A.dataset.collapsed=`${r}`),A.dataset.pos||(A.dataset.pos=T?"top":"bot");const E=k*(r?.2:1)+(r?0:P*L);A.style.setProperty("--y",`${T?E:-1*E}px`),A.style.setProperty("--g",`${P}`),A.style.setProperty("--s",""+(1-(r?F:0))),k+=A.offsetHeight,F+=.025})}},[r,u,n]),Ne.createElement("div",{ref:s,className:"Toastify",id:w,onMouseEnter:()=>{n&&(i(!1),Oe.pause())},onMouseLeave:x},o((N,j)=>{const P=j.length?{...p}:{...p,pointerEvents:"none"};return Ne.createElement("div",{className:b(N),style:P,key:`container-${N}`},j.map(T=>{let{content:k,props:F}=T;return Ne.createElement(M6,{...F,stacked:n,collapseAll:x,isIn:l(F.toastId,F.containerId),style:F.style,key:`toast-${F.key}`},k)}))}))}const U6=()=>{const[t,e]=B.useState(null),[n,r]=B.useState(!1),i=qa();return B.useEffect(()=>{const s=Mn.onAuthStateChanged(async o=>{if(o){e(o);const l=await Vv(ci(pn,"admins",o.uid));l.exists()&&l.data().isAdmin?r(!0):i("/login")}else i("/login")});return()=>s()},[i]),!t||!n?_.jsx("div",{className:"dashboard-container",children:"Loading..."}):_.jsxs("div",{className:"dashboard-container",children:[_.jsx("h2",{className:"dashboard-title",children:"Admin Dashboard"}),_.jsxs("nav",{children:[_.jsx(mt,{to:"/admin/products",children:"Products"}),_.jsx(mt,{to:"/admin/orders",children:"Orders"}),_.jsx(mt,{to:"/admin/users",children:"Users"}),_.jsx(mt,{to:"/admin/sales",children:"Sales Reports"}),_.jsx(mt,{to:"/admin/inquiries",children:"Customer Inquiries"})]}),_.jsx(T2,{}),_.jsx(F6,{})]})};var B6={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function z6(t){if(typeof t=="number")return{value:t,unit:"px"};var e,n=(t.match(/^[0-9.]*/)||"").toString();n.includes(".")?e=parseFloat(n):e=parseInt(n,10);var r=(t.match(/[^0-9]*$/)||"").toString();return B6[r]?{value:e,unit:r}:(console.warn("React Spinners: ".concat(t," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function M_(t){var e=z6(t);return"".concat(e.value).concat(e.unit)}var $6=function(t,e,n){var r="react-spinners-".concat(t,"-").concat(n);if(typeof window>"u"||!window.document)return r;var i=document.createElement("style");document.head.appendChild(i);var s=i.sheet,o=`
    @keyframes `.concat(r,` {
      `).concat(e,`
    }
  `);return s&&s.insertRule(o,0),r},uh=function(){return uh=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},uh.apply(this,arguments)},H6=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},W6=$6("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");function q6(t){var e=t.loading,n=e===void 0?!0:e,r=t.color,i=r===void 0?"#000000":r,s=t.speedMultiplier,o=s===void 0?1:s,l=t.cssOverride,u=l===void 0?{}:l,d=t.size,p=d===void 0?35:d,m=H6(t,["loading","color","speedMultiplier","cssOverride","size"]),w=uh({background:"transparent !important",width:M_(p),height:M_(p),borderRadius:"100%",border:"2px solid",borderTopColor:i,borderBottomColor:"transparent",borderLeftColor:i,borderRightColor:i,display:"inline-block",animation:"".concat(W6," ").concat(.75/o,"s 0s infinite linear"),animationFillMode:"both"},u);return n?B.createElement("span",uh({style:w},m)):null}const K6=()=>{const[t,e]=B.useState(null),[n,r]=B.useState(null),i=qa();B.useEffect(()=>{const o=Mn.onAuthStateChanged(async l=>{if(l){e(l);const u=await Vv(ci(pn,"users",l.uid));if(u.exists())r(u.data());else{const d={email:l.email,createdAt:new Date,orderHistory:[]};await Vm(ci(pn,"users",l.uid),d),r(d)}}else i("/login")});return()=>o()},[i]);const s=()=>{i(-1)};return!t||!n?_.jsx("div",{className:"auth-container",children:_.jsx(q6,{size:50,color:"#111",loading:!0})}):_.jsx("div",{className:"auth-container",children:_.jsxs("div",{className:"auth-form user-profile",children:[_.jsxs("button",{onClick:s,className:"auth-button back-button",children:[_.jsx(bk,{className:"button-icon"})," Back"]}),_.jsx("h2",{className:"auth-title",children:"YOUR ARIES ACCOUNT"}),_.jsxs("div",{className:"user-info",children:[_.jsxs("div",{className:"info-item",children:[_.jsx(Nk,{className:"info-icon"}),_.jsxs("p",{children:[_.jsx("strong",{children:"Email:"})," ",n.email]})]}),_.jsxs("div",{className:"info-item",children:[_.jsx(kk,{className:"info-icon"}),_.jsxs("p",{children:[_.jsx("strong",{children:"Member since:"})," ",n.createdAt.toDate().toLocaleDateString()]})]})]}),_.jsxs("div",{className:"order-history",children:[_.jsxs("h3",{className:"section-title",children:[_.jsx(Pk,{className:"section-icon"}),"Order History"]}),n.orderHistory.length>0?_.jsx("ul",{className:"order-list",children:n.orderHistory.map((o,l)=>_.jsxs("li",{className:"order-item",children:[_.jsxs("p",{className:"order-id",children:["Order #",o.id]}),_.jsx("p",{className:"order-date",children:o.date.toDate().toLocaleDateString()})]},l))}):_.jsx("p",{className:"no-orders",children:"No orders yet."})]})]})})};var FS={exports:{}};/*!
* sweetalert2 v11.12.3
* Released under the MIT License.
*/(function(t,e){(function(n,r){t.exports=r()})(Yi,function(){function n(y,c){(c==null||c>y.length)&&(c=y.length);for(var h=0,v=Array(c);h<c;h++)v[h]=y[h];return v}function r(y){if(Array.isArray(y))return y}function i(y){if(Array.isArray(y))return n(y)}function s(y,c,h){if(typeof y=="function"?y===c:y.has(c))return arguments.length<3?c:h;throw new TypeError("Private element is not present on this object")}function o(y){if(y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}function l(y,c,h){return c=T(c),S(y,F()?Reflect.construct(c,h||[],T(y).constructor):c.apply(y,h))}function u(y,c){if(c.has(y))throw new TypeError("Cannot initialize the same private elements twice on an object")}function d(y,c){if(!(y instanceof c))throw new TypeError("Cannot call a class as a function")}function p(y,c){return y.get(s(y,c))}function m(y,c,h){u(y,c),c.set(y,h)}function w(y,c,h){return y.set(s(y,c),h),h}function b(y,c,h){if(F())return Reflect.construct.apply(null,arguments);var v=[null];v.push.apply(v,c);var O=new(y.bind.apply(y,v));return O}function x(y,c){for(var h=0;h<c.length;h++){var v=c[h];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(y,ut(v.key),v)}}function N(y,c,h){return c&&x(y.prototype,c),Object.defineProperty(y,"prototype",{writable:!1}),y}function j(y,c){var h=typeof Symbol<"u"&&y[Symbol.iterator]||y["@@iterator"];if(!h){if(Array.isArray(y)||(h=ye(y))||c){h&&(y=h);var v=0,O=function(){};return{s:O,n:function(){return v>=y.length?{done:!0}:{done:!1,value:y[v++]}},e:function(Te){throw Te},f:O}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var W,re=!0,be=!1;return{s:function(){h=h.call(y)},n:function(){var Te=h.next();return re=Te.done,Te},e:function(Te){be=!0,W=Te},f:function(){try{re||h.return==null||h.return()}finally{if(be)throw W}}}}function P(){return P=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(y,c,h){var v=V(y,c);if(v){var O=Object.getOwnPropertyDescriptor(v,c);return O.get?O.get.call(arguments.length<3?y:h):O.value}},P.apply(null,arguments)}function T(y){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(c){return c.__proto__||Object.getPrototypeOf(c)},T(y)}function k(y,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(c&&c.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),Object.defineProperty(y,"prototype",{writable:!1}),c&&C(y,c)}function F(){try{var y=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F=function(){return!!y})()}function G(y){if(typeof Symbol<"u"&&y[Symbol.iterator]!=null||y["@@iterator"]!=null)return Array.from(y)}function L(y,c){var h=y==null?null:typeof Symbol<"u"&&y[Symbol.iterator]||y["@@iterator"];if(h!=null){var v,O,W,re,be=[],Te=!0,_t=!1;try{if(W=(h=h.call(y)).next,c!==0)for(;!(Te=(v=W.call(h)).done)&&(be.push(v.value),be.length!==c);Te=!0);}catch(il){_t=!0,O=il}finally{try{if(!Te&&h.return!=null&&(re=h.return(),Object(re)!==re))return}finally{if(_t)throw O}}return be}}function A(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S(y,c){if(c&&(typeof c=="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o(y)}function C(y,c){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(h,v){return h.__proto__=v,h},C(y,c)}function D(y,c){return r(y)||L(y,c)||ye(y,c)||A()}function V(y,c){for(;!{}.hasOwnProperty.call(y,c)&&(y=T(y))!==null;);return y}function R(y){return i(y)||G(y)||ye(y)||E()}function Se(y,c){if(typeof y!="object"||!y)return y;var h=y[Symbol.toPrimitive];if(h!==void 0){var v=h.call(y,c);if(typeof v!="object")return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(y)}function ut(y){var c=Se(y,"string");return typeof c=="symbol"?c:c+""}function ze(y){"@babel/helpers - typeof";return ze=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},ze(y)}function ye(y,c){if(y){if(typeof y=="string")return n(y,c);var h={}.toString.call(y).slice(8,-1);return h==="Object"&&y.constructor&&(h=y.constructor.name),h==="Map"||h==="Set"?Array.from(y):h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h)?n(y,c):void 0}}var ee=100,X={},ue=function(){X.previousActiveElement instanceof HTMLElement?(X.previousActiveElement.focus(),X.previousActiveElement=null):document.body&&document.body.focus()},Ee=function(c){return new Promise(function(h){if(!c)return h();var v=window.scrollX,O=window.scrollY;X.restoreFocusTimeout=setTimeout(function(){ue(),h()},ee),window.scrollTo(v,O)})},pe="swal2-",Ce=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"],H=Ce.reduce(function(y,c){return y[c]=pe+c,y},{}),Ke=["success","warning","info","question","error"],Ge=Ke.reduce(function(y,c){return y[c]=pe+c,y},{}),kt="SweetAlert2:",Tr=function(c){return c.charAt(0).toUpperCase()+c.slice(1)},$t=function(c){console.warn("".concat(kt," ").concat(ze(c)==="object"?c.join(" "):c))},kn=function(c){console.error("".concat(kt," ").concat(c))},di=[],St=function(c){di.includes(c)||(di.push(c),$t(c))},Hn=function(c){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;St('"'.concat(c,'" is deprecated and will be removed in the next major release.').concat(h?' Use "'.concat(h,'" instead.'):""))},Ir=function(c){return typeof c=="function"?c():c},hi=function(c){return c&&typeof c.toPromise=="function"},on=function(c){return hi(c)?c.toPromise():Promise.resolve(c)},Ms=function(c){return c&&Promise.resolve(c)===c},Ht=function(){return document.body.querySelector(".".concat(H.container))},Sr=function(c){var h=Ht();return h?h.querySelector(c):null},Lt=function(c){return Sr(".".concat(c))},Me=function(){return Lt(H.popup)},fi=function(){return Lt(H.icon)},Vs=function(){return Lt(H["icon-content"])},rr=function(){return Lt(H.title)},ir=function(){return Lt(H["html-container"])},wt=function(){return Lt(H.image)},ct=function(){return Lt(H["progress-steps"])},Wt=function(){return Lt(H["validation-message"])},dt=function(){return Sr(".".concat(H.actions," .").concat(H.confirm))},sr=function(){return Sr(".".concat(H.actions," .").concat(H.cancel))},Pn=function(){return Sr(".".concat(H.actions," .").concat(H.deny))},pi=function(){return Lt(H["input-label"])},qt=function(){return Sr(".".concat(H.loader))},Cr=function(){return Lt(H.actions)},mi=function(){return Lt(H.footer)},gi=function(){return Lt(H["timer-progress-bar"])},js=function(){return Lt(H.close)},Hi=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Ar=function(){var c=Me();if(!c)return[];var h=c.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),v=Array.from(h).sort(function(re,be){var Te=parseInt(re.getAttribute("tabindex")||"0"),_t=parseInt(be.getAttribute("tabindex")||"0");return Te>_t?1:Te<_t?-1:0}),O=c.querySelectorAll(Hi),W=Array.from(O).filter(function(re){return re.getAttribute("tabindex")!=="-1"});return R(new Set(v.concat(W))).filter(function(re){return Q(re)})},vi=function(){return Mt(document.body,H.shown)&&!Mt(document.body,H["toast-shown"])&&!Mt(document.body,H["no-backdrop"])},Rn=function(){var c=Me();return c?Mt(c,H.toast):!1},$r=function(){var c=Me();return c?c.hasAttribute("data-loading"):!1},Ct=function(c,h){if(c.textContent="",h){var v=new DOMParser,O=v.parseFromString(h,"text/html"),W=O.querySelector("head");W&&Array.from(W.childNodes).forEach(function(be){c.appendChild(be)});var re=O.querySelector("body");re&&Array.from(re.childNodes).forEach(function(be){be instanceof HTMLVideoElement||be instanceof HTMLAudioElement?c.appendChild(be.cloneNode(!0)):c.appendChild(be)})}},Mt=function(c,h){if(!h)return!1;for(var v=h.split(/\s+/),O=0;O<v.length;O++)if(!c.classList.contains(v[O]))return!1;return!0},Fs=function(c,h){Array.from(c.classList).forEach(function(v){!Object.values(H).includes(v)&&!Object.values(Ge).includes(v)&&!Object.values(h.showClass||{}).includes(v)&&c.classList.remove(v)})},Pt=function(c,h,v){if(Fs(c,h),!!h.customClass){var O=h.customClass[v];if(O){if(typeof O!="string"&&!O.forEach){$t("Invalid type of customClass.".concat(v,'! Expected string or iterable object, got "').concat(ze(O),'"'));return}fe(c,O)}}},Hr=function(c,h){if(!h)return null;switch(h){case"select":case"textarea":case"file":return c.querySelector(".".concat(H.popup," > .").concat(H[h]));case"checkbox":return c.querySelector(".".concat(H.popup," > .").concat(H.checkbox," input"));case"radio":return c.querySelector(".".concat(H.popup," > .").concat(H.radio," input:checked"))||c.querySelector(".".concat(H.popup," > .").concat(H.radio," input:first-child"));case"range":return c.querySelector(".".concat(H.popup," > .").concat(H.range," input"));default:return c.querySelector(".".concat(H.popup," > .").concat(H.input))}},or=function(c){if(c.focus(),c.type!=="file"){var h=c.value;c.value="",c.value=h}},Wr=function(c,h,v){!c||!h||(typeof h=="string"&&(h=h.split(/\s+/).filter(Boolean)),h.forEach(function(O){Array.isArray(c)?c.forEach(function(W){v?W.classList.add(O):W.classList.remove(O)}):v?c.classList.add(O):c.classList.remove(O)}))},fe=function(c,h){Wr(c,h,!0)},vn=function(c,h){Wr(c,h,!1)},M=function(c,h){for(var v=Array.from(c.children),O=0;O<v.length;O++){var W=v[O];if(W instanceof HTMLElement&&Mt(W,h))return W}},U=function(c,h,v){v==="".concat(parseInt(v))&&(v=parseInt(v)),v||parseInt(v)===0?c.style.setProperty(h,typeof v=="number"?"".concat(v,"px"):v):c.style.removeProperty(h)},z=function(c){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";c&&(c.style.display=h)},K=function(c){c&&(c.style.display="none")},ne=function(c){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";c&&new MutationObserver(function(){ce(c,c.innerHTML,h)}).observe(c,{childList:!0,subtree:!0})},se=function(c,h,v,O){var W=c.querySelector(h);W&&W.style.setProperty(v,O)},ce=function(c,h){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";h?z(c,v):K(c)},Q=function(c){return!!(c&&(c.offsetWidth||c.offsetHeight||c.getClientRects().length))},ge=function(){return!Q(dt())&&!Q(Pn())&&!Q(sr())},le=function(c){return c.scrollHeight>c.clientHeight},ae=function(c){var h=window.getComputedStyle(c),v=parseFloat(h.getPropertyValue("animation-duration")||"0"),O=parseFloat(h.getPropertyValue("transition-duration")||"0");return v>0||O>0},Ae=function(c){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,v=gi();v&&Q(v)&&(h&&(v.style.transition="none",v.style.width="100%"),setTimeout(function(){v.style.transition="width ".concat(c/1e3,"s linear"),v.style.width="0%"},10))},Re=function(){var c=gi();if(c){var h=parseInt(window.getComputedStyle(c).width);c.style.removeProperty("transition"),c.style.width="100%";var v=parseInt(window.getComputedStyle(c).width),O=h/v*100;c.style.width="".concat(O,"%")}},Ue=function(){return typeof window>"u"||typeof document>"u"},xe=`
 <div aria-labelledby="`.concat(H.title,'" aria-describedby="').concat(H["html-container"],'" class="').concat(H.popup,`" tabindex="-1">
   <button type="button" class="`).concat(H.close,`"></button>
   <ul class="`).concat(H["progress-steps"],`"></ul>
   <div class="`).concat(H.icon,`"></div>
   <img class="`).concat(H.image,`" />
   <h2 class="`).concat(H.title,'" id="').concat(H.title,`"></h2>
   <div class="`).concat(H["html-container"],'" id="').concat(H["html-container"],`"></div>
   <input class="`).concat(H.input,'" id="').concat(H.input,`" />
   <input type="file" class="`).concat(H.file,`" />
   <div class="`).concat(H.range,`">
     <input type="range" />
     <output></output>
   </div>
   <select class="`).concat(H.select,'" id="').concat(H.select,`"></select>
   <div class="`).concat(H.radio,`"></div>
   <label class="`).concat(H.checkbox,`">
     <input type="checkbox" id="`).concat(H.checkbox,`" />
     <span class="`).concat(H.label,`"></span>
   </label>
   <textarea class="`).concat(H.textarea,'" id="').concat(H.textarea,`"></textarea>
   <div class="`).concat(H["validation-message"],'" id="').concat(H["validation-message"],`"></div>
   <div class="`).concat(H.actions,`">
     <div class="`).concat(H.loader,`"></div>
     <button type="button" class="`).concat(H.confirm,`"></button>
     <button type="button" class="`).concat(H.deny,`"></button>
     <button type="button" class="`).concat(H.cancel,`"></button>
   </div>
   <div class="`).concat(H.footer,`"></div>
   <div class="`).concat(H["timer-progress-bar-container"],`">
     <div class="`).concat(H["timer-progress-bar"],`"></div>
   </div>
 </div>
`).replace(/(^|\n)\s*/g,""),ht=function(){var c=Ht();return c?(c.remove(),vn([document.documentElement,document.body],[H["no-backdrop"],H["toast-shown"],H["has-column"]]),!0):!1},He=function(){X.currentInstance.resetValidationMessage()},qr=function(){var c=Me(),h=M(c,H.input),v=M(c,H.file),O=c.querySelector(".".concat(H.range," input")),W=c.querySelector(".".concat(H.range," output")),re=M(c,H.select),be=c.querySelector(".".concat(H.checkbox," input")),Te=M(c,H.textarea);h.oninput=He,v.onchange=He,re.onchange=He,be.onchange=He,Te.oninput=He,O.oninput=function(){He(),W.value=O.value},O.onchange=function(){He(),W.value=O.value}},ar=function(c){return typeof c=="string"?document.querySelector(c):c},Wn=function(c){var h=Me();h.setAttribute("role",c.toast?"alert":"dialog"),h.setAttribute("aria-live",c.toast?"polite":"assertive"),c.toast||h.setAttribute("aria-modal","true")},br=function(c){window.getComputedStyle(c).direction==="rtl"&&fe(Ht(),H.rtl)},lr=function(c){var h=ht();if(Ue()){kn("SweetAlert2 requires document to initialize");return}var v=document.createElement("div");v.className=H.container,h&&fe(v,H["no-transition"]),Ct(v,xe);var O=ar(c.target);O.appendChild(v),Wn(c),br(O),qr()},Rt=function(c,h){c instanceof HTMLElement?h.appendChild(c):ze(c)==="object"?xn(c,h):c&&Ct(h,c)},xn=function(c,h){c.jquery?Kr(h,c):Ct(h,c.toString())},Kr=function(c,h){if(c.textContent="",0 in h)for(var v=0;v in h;v++)c.appendChild(h[v].cloneNode(!0));else c.appendChild(h.cloneNode(!0))},Nn=function(){if(Ue())return!1;var y=document.createElement("div");return typeof y.style.webkitAnimation<"u"?"webkitAnimationEnd":typeof y.style.animation<"u"?"animationend":!1}(),we=function(c,h){var v=Cr(),O=qt();!v||!O||(!h.showConfirmButton&&!h.showDenyButton&&!h.showCancelButton?K(v):z(v),Pt(v,h,"actions"),Xe(v,O,h),Ct(O,h.loaderHtml||""),Pt(O,h,"loader"))};function Xe(y,c,h){var v=dt(),O=Pn(),W=sr();!v||!O||!W||(Ve(v,"confirm",h),Ve(O,"deny",h),Ve(W,"cancel",h),Kt(v,O,W,h),h.reverseButtons&&(h.toast?(y.insertBefore(W,v),y.insertBefore(O,v)):(y.insertBefore(W,c),y.insertBefore(O,c),y.insertBefore(v,c))))}function Kt(y,c,h,v){if(!v.buttonsStyling){vn([y,c,h],H.styled);return}fe([y,c,h],H.styled),v.confirmButtonColor&&(y.style.backgroundColor=v.confirmButtonColor,fe(y,H["default-outline"])),v.denyButtonColor&&(c.style.backgroundColor=v.denyButtonColor,fe(c,H["default-outline"])),v.cancelButtonColor&&(h.style.backgroundColor=v.cancelButtonColor,fe(h,H["default-outline"]))}function Ve(y,c,h){var v=Tr(c);ce(y,h["show".concat(v,"Button")],"inline-block"),Ct(y,h["".concat(c,"ButtonText")]||""),y.setAttribute("aria-label",h["".concat(c,"ButtonAriaLabel")]||""),y.className=H[c],Pt(y,h,"".concat(c,"Button"))}var yn=function(c,h){var v=js();v&&(Ct(v,h.closeButtonHtml||""),Pt(v,h,"closeButton"),ce(v,h.showCloseButton),v.setAttribute("aria-label",h.closeButtonAriaLabel||""))},Us=function(c,h){var v=Ht();v&&(jo(v,h.backdrop),of(v,h.position),af(v,h.grow),Pt(v,h,"container"))};function jo(y,c){typeof c=="string"?y.style.background=c:c||fe([document.documentElement,document.body],H["no-backdrop"])}function of(y,c){c&&(c in H?fe(y,H[c]):($t('The "position" parameter is not valid, defaulting to "center"'),fe(y,H.center)))}function af(y,c){c&&fe(y,H["grow-".concat(c)])}var Qe={innerParams:new WeakMap,domCache:new WeakMap},qu=["input","file","range","select","radio","checkbox","textarea"],lf=function(c,h){var v=Me();if(v){var O=Qe.innerParams.get(c),W=!O||h.input!==O.input;qu.forEach(function(re){var be=M(v,H[re]);be&&(Fo(re,h.inputAttributes),be.className=H[re],W&&K(be))}),h.input&&(W&&yi(h),Uo(h))}},yi=function(c){if(c.input){if(!Je[c.input]){kn("Unexpected type of input! Expected ".concat(Object.keys(Je).join(" | "),', got "').concat(c.input,'"'));return}var h=Bs(c.input);if(h){var v=Je[c.input](h,c);z(h),c.inputAutoFocus&&setTimeout(function(){or(v)})}}},kr=function(c){for(var h=0;h<c.attributes.length;h++){var v=c.attributes[h].name;["id","type","value","style"].includes(v)||c.removeAttribute(v)}},Fo=function(c,h){var v=Me();if(v){var O=Hr(v,c);if(O){kr(O);for(var W in h)O.setAttribute(W,h[W])}}},Uo=function(c){if(c.input){var h=Bs(c.input);h&&Pt(h,c,"input")}},Bo=function(c,h){!c.placeholder&&h.inputPlaceholder&&(c.placeholder=h.inputPlaceholder)},We=function(c,h,v){if(v.inputLabel){var O=document.createElement("label"),W=H["input-label"];O.setAttribute("for",c.id),O.className=W,ze(v.customClass)==="object"&&fe(O,v.customClass.inputLabel),O.innerText=v.inputLabel,h.insertAdjacentElement("beforebegin",O)}},Bs=function(c){var h=Me();if(h)return M(h,H[c]||H.input)},Gr=function(c,h){["string","number"].includes(ze(h))?c.value="".concat(h):Ms(h)||$t('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(ze(h),'"'))},Je={};Je.text=Je.email=Je.password=Je.number=Je.tel=Je.url=Je.search=Je.date=Je["datetime-local"]=Je.time=Je.week=Je.month=function(y,c){return Gr(y,c.inputValue),We(y,y,c),Bo(y,c),y.type=c.input,y},Je.file=function(y,c){return We(y,y,c),Bo(y,c),y},Je.range=function(y,c){var h=y.querySelector("input"),v=y.querySelector("output");return Gr(h,c.inputValue),h.type=c.input,Gr(v,c.inputValue),We(h,y,c),y},Je.select=function(y,c){if(y.textContent="",c.inputPlaceholder){var h=document.createElement("option");Ct(h,c.inputPlaceholder),h.value="",h.disabled=!0,h.selected=!0,y.appendChild(h)}return We(y,y,c),y},Je.radio=function(y){return y.textContent="",y},Je.checkbox=function(y,c){var h=Hr(Me(),"checkbox");h.value="1",h.checked=!!c.inputValue;var v=y.querySelector("span");return Ct(v,c.inputPlaceholder),h},Je.textarea=function(y,c){Gr(y,c.inputValue),Bo(y,c),We(y,y,c);var h=function(O){return parseInt(window.getComputedStyle(O).marginLeft)+parseInt(window.getComputedStyle(O).marginRight)};return setTimeout(function(){if("MutationObserver"in window){var v=parseInt(window.getComputedStyle(Me()).width),O=function(){if(document.body.contains(y)){var re=y.offsetWidth+h(y);re>v?Me().style.width="".concat(re,"px"):U(Me(),"width",c.width)}};new MutationObserver(O).observe(y,{attributes:!0,attributeFilter:["style"]})}}),y};var uf=function(c,h){var v=ir();v&&(ne(v),Pt(v,h,"htmlContainer"),h.html?(Rt(h.html,v),z(v,"block")):h.text?(v.textContent=h.text,z(v,"block")):K(v),lf(c,h))},Ku=function(c,h){var v=mi();v&&(ne(v),ce(v,h.footer,"block"),h.footer&&Rt(h.footer,v),Pt(v,h,"footer"))},cf=function(c,h){var v=Qe.innerParams.get(c),O=fi();if(O){if(v&&h.icon===v.icon){Pr(O,h),Gu(O,h);return}if(!h.icon&&!h.iconHtml){K(O);return}if(h.icon&&Object.keys(Ge).indexOf(h.icon)===-1){kn('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(h.icon,'"')),K(O);return}z(O),Pr(O,h),Gu(O,h),fe(O,h.showClass&&h.showClass.icon)}},Gu=function(c,h){for(var v=0,O=Object.entries(Ge);v<O.length;v++){var W=D(O[v],2),re=W[0],be=W[1];h.icon!==re&&vn(c,be)}fe(c,h.icon&&Ge[h.icon]),Qu(c,h),df(),Pt(c,h,"icon")},df=function(){var c=Me();if(c)for(var h=window.getComputedStyle(c).getPropertyValue("background-color"),v=c.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),O=0;O<v.length;O++)v[O].style.backgroundColor=h},hf=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,zs=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Pr=function(c,h){if(!(!h.icon&&!h.iconHtml)){var v=c.innerHTML,O="";if(h.iconHtml)O=Xa(h.iconHtml);else if(h.icon==="success")O=hf,v=v.replace(/ style=".*?"/g,"");else if(h.icon==="error")O=zs;else if(h.icon){var W={question:"?",warning:"!",info:"i"};O=Xa(W[h.icon])}v.trim()!==O.trim()&&Ct(c,O)}},Qu=function(c,h){if(h.iconColor){c.style.color=h.iconColor,c.style.borderColor=h.iconColor;for(var v=0,O=[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"];v<O.length;v++){var W=O[v];se(c,W,"background-color",h.iconColor)}se(c,".swal2-success-ring","border-color",h.iconColor)}},Xa=function(c){return'<div class="'.concat(H["icon-content"],'">').concat(c,"</div>")},Yu=function(c,h){var v=wt();if(v){if(!h.imageUrl){K(v);return}z(v,""),v.setAttribute("src",h.imageUrl),v.setAttribute("alt",h.imageAlt||""),U(v,"width",h.imageWidth),U(v,"height",h.imageHeight),v.className=H.image,Pt(v,h,"image")}},Wi=function(c,h){var v=Ht(),O=Me();if(!(!v||!O)){if(h.toast){U(v,"width",h.width),O.style.width="100%";var W=qt();W&&O.insertBefore(W,fi())}else U(O,"width",h.width);U(O,"padding",h.padding),h.color&&(O.style.color=h.color),h.background&&(O.style.background=h.background),K(Wt()),ff(O,h)}},ff=function(c,h){var v=h.showClass||{};c.className="".concat(H.popup," ").concat(Q(c)?v.popup:""),h.toast?(fe([document.documentElement,document.body],H["toast-shown"]),fe(c,H.toast)):fe(c,H.modal),Pt(c,h,"popup"),typeof h.customClass=="string"&&fe(c,h.customClass),h.icon&&fe(c,H["icon-".concat(h.icon)])},pf=function(c,h){var v=ct();if(v){var O=h.progressSteps,W=h.currentProgressStep;if(!O||O.length===0||W===void 0){K(v);return}z(v),v.textContent="",W>=O.length&&$t("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),O.forEach(function(re,be){var Te=mf(re);if(v.appendChild(Te),be===W&&fe(Te,H["active-progress-step"]),be!==O.length-1){var _t=Qr(h);v.appendChild(_t)}})}},mf=function(c){var h=document.createElement("li");return fe(h,H["progress-step"]),Ct(h,c),h},Qr=function(c){var h=document.createElement("li");return fe(h,H["progress-step-line"]),c.progressStepsDistance&&U(h,"width",c.progressStepsDistance),h},gf=function(c,h){var v=rr();v&&(ne(v),ce(v,h.title||h.titleText,"block"),h.title&&Rt(h.title,v),h.titleText&&(v.innerText=h.titleText),Pt(v,h,"title"))},Xu=function(c,h){Wi(c,h),Us(c,h),pf(c,h),cf(c,h),Yu(c,h),gf(c,h),yn(c,h),uf(c,h),we(c,h),Ku(c,h);var v=Me();typeof h.didRender=="function"&&v&&h.didRender(v)},$s=function(){return Q(Me())},Hs=function(){var c;return(c=dt())===null||c===void 0?void 0:c.click()},Ju=function(){var c;return(c=Pn())===null||c===void 0?void 0:c.click()},Ws=function(){var c;return(c=sr())===null||c===void 0?void 0:c.click()},ur=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Ja=function(c){c.keydownTarget&&c.keydownHandlerAdded&&(c.keydownTarget.removeEventListener("keydown",c.keydownHandler,{capture:c.keydownListenerCapture}),c.keydownHandlerAdded=!1)},Za=function(c,h,v){Ja(c),h.toast||(c.keydownHandler=function(O){return ec(h,O,v)},c.keydownTarget=h.keydownListenerCapture?window:Me(),c.keydownListenerCapture=h.keydownListenerCapture,c.keydownTarget.addEventListener("keydown",c.keydownHandler,{capture:c.keydownListenerCapture}),c.keydownHandlerAdded=!0)},Ze=function(c,h){var v,O=Ar();if(O.length){c=c+h,c===O.length?c=0:c===-1&&(c=O.length-1),O[c].focus();return}(v=Me())===null||v===void 0||v.focus()},Zu=["ArrowRight","ArrowDown"],vf=["ArrowLeft","ArrowUp"],ec=function(c,h,v){c&&(h.isComposing||h.keyCode===229||(c.stopKeydownPropagation&&h.stopPropagation(),h.key==="Enter"?tc(h,c):h.key==="Tab"?nc(h):[].concat(Zu,vf).includes(h.key)?zo(h.key):h.key==="Escape"&&rc(h,c,v)))},tc=function(c,h){if(Ir(h.allowEnterKey)){var v=Hr(Me(),h.input);if(c.target&&v&&c.target instanceof HTMLElement&&c.target.outerHTML===v.outerHTML){if(["textarea","file"].includes(h.input))return;Hs(),c.preventDefault()}}},nc=function(c){for(var h=c.target,v=Ar(),O=-1,W=0;W<v.length;W++)if(h===v[W]){O=W;break}c.shiftKey?Ze(O,-1):Ze(O,1),c.stopPropagation(),c.preventDefault()},zo=function(c){var h=Cr(),v=dt(),O=Pn(),W=sr();if(!(!h||!v||!O||!W)){var re=[v,O,W];if(!(document.activeElement instanceof HTMLElement&&!re.includes(document.activeElement))){var be=Zu.includes(c)?"nextElementSibling":"previousElementSibling",Te=document.activeElement;if(Te){for(var _t=0;_t<h.children.length;_t++){if(Te=Te[be],!Te)return;if(Te instanceof HTMLButtonElement&&Q(Te))break}Te instanceof HTMLButtonElement&&Te.focus()}}}},rc=function(c,h,v){Ir(h.allowEscapeKey)&&(c.preventDefault(),v(ur.esc))},an={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap},ic=function(){var c=Ht(),h=Array.from(document.body.children);h.forEach(function(v){v.contains(c)||(v.hasAttribute("aria-hidden")&&v.setAttribute("data-previous-aria-hidden",v.getAttribute("aria-hidden")||""),v.setAttribute("aria-hidden","true"))})},sc=function(){var c=Array.from(document.body.children);c.forEach(function(h){h.hasAttribute("data-previous-aria-hidden")?(h.setAttribute("aria-hidden",h.getAttribute("data-previous-aria-hidden")||""),h.removeAttribute("data-previous-aria-hidden")):h.removeAttribute("aria-hidden")})},qi=typeof window<"u"&&!!window.GestureEvent,oc=function(){if(qi&&!Mt(document.body,H.iosfix)){var c=document.body.scrollTop;document.body.style.top="".concat(c*-1,"px"),fe(document.body,H.iosfix),el()}},el=function(){var c=Ht();if(c){var h;c.ontouchstart=function(v){h=$o(v)},c.ontouchmove=function(v){h&&(v.preventDefault(),v.stopPropagation())}}},$o=function(c){var h=c.target,v=Ht(),O=ir();return!v||!O||ac(c)||Ho(c)?!1:h===v||!le(v)&&h instanceof HTMLElement&&h.tagName!=="INPUT"&&h.tagName!=="TEXTAREA"&&!(le(O)&&O.contains(h))},ac=function(c){return c.touches&&c.touches.length&&c.touches[0].touchType==="stylus"},Ho=function(c){return c.touches&&c.touches.length>1},yf=function(){if(Mt(document.body,H.iosfix)){var c=parseInt(document.body.style.top,10);vn(document.body,H.iosfix),document.body.style.top="",document.body.scrollTop=c*-1}},lc=function(){var c=document.createElement("div");c.className=H["scrollbar-measure"],document.body.appendChild(c);var h=c.getBoundingClientRect().width-c.clientWidth;return document.body.removeChild(c),h},cr=null,uc=function(c){cr===null&&(document.body.scrollHeight>window.innerHeight||c==="scroll")&&(cr=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(cr+lc(),"px"))},cc=function(){cr!==null&&(document.body.style.paddingRight="".concat(cr,"px"),cr=null)};function Wo(y,c,h,v){Rn()?rl(y,v):(Ee(h).then(function(){return rl(y,v)}),Ja(X)),qi?(c.setAttribute("style","display:none !important"),c.removeAttribute("class"),c.innerHTML=""):c.remove(),vi()&&(cc(),yf(),sc()),tl()}function tl(){vn([document.documentElement,document.body],[H.shown,H["height-auto"],H["no-backdrop"],H["toast-shown"]])}function Rr(y){y=wi(y);var c=an.swalPromiseResolve.get(this),h=qo(this);this.isAwaitingPromise?y.isDismissed||(Ki(this),c(y)):h&&c(y)}var qo=function(c){var h=Me();if(!h)return!1;var v=Qe.innerParams.get(c);if(!v||Mt(h,v.hideClass.popup))return!1;vn(h,v.showClass.popup),fe(h,v.hideClass.popup);var O=Ht();return vn(O,v.showClass.backdrop),fe(O,v.hideClass.backdrop),dc(c,h,v),!0};function nl(y){var c=an.swalPromiseReject.get(this);Ki(this),c&&c(y)}var Ki=function(c){c.isAwaitingPromise&&(delete c.isAwaitingPromise,Qe.innerParams.get(c)||c._destroy())},wi=function(c){return typeof c>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},c)},dc=function(c,h,v){var O=Ht(),W=Nn&&ae(h);typeof v.willClose=="function"&&v.willClose(h),W?hc(c,h,O,v.returnFocus,v.didClose):Wo(c,O,v.returnFocus,v.didClose)},hc=function(c,h,v,O,W){Nn&&(X.swalCloseEventFinishedCallback=Wo.bind(null,c,v,O,W),h.addEventListener(Nn,function(re){re.target===h&&(X.swalCloseEventFinishedCallback(),delete X.swalCloseEventFinishedCallback)}))},rl=function(c,h){setTimeout(function(){typeof h=="function"&&h.bind(c.params)(),c._destroy&&c._destroy()})},_i=function(c){var h=Me();if(h||new yc,h=Me(),!!h){var v=qt();Rn()?K(fi()):Ko(h,c),z(v),h.setAttribute("data-loading","true"),h.setAttribute("aria-busy","true"),h.focus()}},Ko=function(c,h){var v=Cr(),O=qt();!v||!O||(!h&&Q(dt())&&(h=dt()),z(v),h&&(K(h),O.setAttribute("data-button-to-replace",h.className),v.insertBefore(O,h)),fe([c,v],H.loading))},wn=function(c,h){h.input==="select"||h.input==="radio"?f(c,h):["text","email","number","tel","textarea"].some(function(v){return v===h.input})&&(hi(h.inputValue)||Ms(h.inputValue))&&(_i(dt()),g(c,h))},fc=function(c,h){var v=c.getInput();if(!v)return null;switch(h.input){case"checkbox":return pc(v);case"radio":return Gi(v);case"file":return a(v);default:return h.inputAutoTrim?v.value.trim():v.value}},pc=function(c){return c.checked?1:0},Gi=function(c){return c.checked?c.value:null},a=function(c){return c.files&&c.files.length?c.getAttribute("multiple")!==null?c.files:c.files[0]:null},f=function(c,h){var v=Me();if(v){var O=function(re){h.input==="select"?I(v,q(re),h):h.input==="radio"&&$(v,q(re),h)};hi(h.inputOptions)||Ms(h.inputOptions)?(_i(dt()),on(h.inputOptions).then(function(W){c.hideLoading(),O(W)})):ze(h.inputOptions)==="object"?O(h.inputOptions):kn("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(ze(h.inputOptions)))}},g=function(c,h){var v=c.getInput();v&&(K(v),on(h.inputValue).then(function(O){v.value=h.input==="number"?"".concat(parseFloat(O)||0):"".concat(O),z(v),v.focus(),c.hideLoading()}).catch(function(O){kn("Error in inputValue promise: ".concat(O)),v.value="",z(v),v.focus(),c.hideLoading()}))};function I(y,c,h){var v=M(y,H.select);if(v){var O=function(re,be,Te){var _t=document.createElement("option");_t.value=Te,Ct(_t,be),_t.selected=te(Te,h.inputValue),re.appendChild(_t)};c.forEach(function(W){var re=W[0],be=W[1];if(Array.isArray(be)){var Te=document.createElement("optgroup");Te.label=re,Te.disabled=!1,v.appendChild(Te),be.forEach(function(_t){return O(Te,_t[1],_t[0])})}else O(v,be,re)}),v.focus()}}function $(y,c,h){var v=M(y,H.radio);if(v){c.forEach(function(W){var re=W[0],be=W[1],Te=document.createElement("input"),_t=document.createElement("label");Te.type="radio",Te.name=H.radio,Te.value=re,te(re,h.inputValue)&&(Te.checked=!0);var il=document.createElement("span");Ct(il,be),il.className=H.label,_t.appendChild(Te),_t.appendChild(il),v.appendChild(_t)});var O=v.querySelectorAll("input");O.length&&O[0].focus()}}var q=function y(c){var h=[];return c instanceof Map?c.forEach(function(v,O){var W=v;ze(W)==="object"&&(W=y(W)),h.push([O,W])}):Object.keys(c).forEach(function(v){var O=c[v];ze(O)==="object"&&(O=y(O)),h.push([v,O])}),h},te=function(c,h){return!!h&&h.toString()===c.toString()},$e=void 0,Vt=function(c){var h=Qe.innerParams.get(c);c.disableButtons(),h.input?jt(c,"confirm"):wf(c,!0)},je=function(c){var h=Qe.innerParams.get(c);c.disableButtons(),h.returnInputValueOnDeny?jt(c,"deny"):_n(c,!1)},Gt=function(c,h){c.disableButtons(),h(ur.cancel)},jt=function(c,h){var v=Qe.innerParams.get(c);if(!v.input){kn('The "input" parameter is needed to be set when using returnInputValueOn'.concat(Tr(h)));return}var O=c.getInput(),W=fc(c,v);v.inputValidator?Qi(c,W,h):O&&!O.checkValidity()?(c.enableButtons(),c.showValidationMessage(v.validationMessage||O.validationMessage)):h==="deny"?_n(c,W):wf(c,W)},Qi=function(c,h,v){var O=Qe.innerParams.get(c);c.disableInput();var W=Promise.resolve().then(function(){return on(O.inputValidator(h,O.validationMessage))});W.then(function(re){c.enableButtons(),c.enableInput(),re?c.showValidationMessage(re):v==="deny"?_n(c,h):wf(c,h)})},_n=function(c,h){var v=Qe.innerParams.get(c||$e);if(v.showLoaderOnDeny&&_i(Pn()),v.preDeny){c.isAwaitingPromise=!0;var O=Promise.resolve().then(function(){return on(v.preDeny(h,v.validationMessage))});O.then(function(W){W===!1?(c.hideLoading(),Ki(c)):c.close({isDenied:!0,value:typeof W>"u"?h:W})}).catch(function(W){return Go(c||$e,W)})}else c.close({isDenied:!0,value:h})},qs=function(c,h){c.close({isConfirmed:!0,value:h})},Go=function(c,h){c.rejectPromise(h)},wf=function(c,h){var v=Qe.innerParams.get(c||$e);if(v.showLoaderOnConfirm&&_i(),v.preConfirm){c.resetValidationMessage(),c.isAwaitingPromise=!0;var O=Promise.resolve().then(function(){return on(v.preConfirm(h,v.validationMessage))});O.then(function(W){Q(Wt())||W===!1?(c.hideLoading(),Ki(c)):qs(c,typeof W>"u"?h:W)}).catch(function(W){return Go(c||$e,W)})}else qs(c,h)};function mc(){var y=Qe.innerParams.get(this);if(y){var c=Qe.domCache.get(this);K(c.loader),Rn()?y.icon&&z(fi()):US(c),vn([c.popup,c.actions],H.loading),c.popup.removeAttribute("aria-busy"),c.popup.removeAttribute("data-loading"),c.confirmButton.disabled=!1,c.denyButton.disabled=!1,c.cancelButton.disabled=!1}}var US=function(c){var h=c.popup.getElementsByClassName(c.loader.getAttribute("data-button-to-replace"));h.length?z(h[0],"inline-block"):ge()&&K(c.actions)};function Qv(){var y=Qe.innerParams.get(this),c=Qe.domCache.get(this);return c?Hr(c.popup,y.input):null}function Yv(y,c,h){var v=Qe.domCache.get(y);c.forEach(function(O){v[O].disabled=h})}function Xv(y,c){var h=Me();if(!(!h||!y))if(y.type==="radio")for(var v=h.querySelectorAll('[name="'.concat(H.radio,'"]')),O=0;O<v.length;O++)v[O].disabled=c;else y.disabled=c}function Jv(){Yv(this,["confirmButton","denyButton","cancelButton"],!1)}function Zv(){Yv(this,["confirmButton","denyButton","cancelButton"],!0)}function ey(){Xv(this.getInput(),!1)}function ty(){Xv(this.getInput(),!0)}function ny(y){var c=Qe.domCache.get(this),h=Qe.innerParams.get(this);Ct(c.validationMessage,y),c.validationMessage.className=H["validation-message"],h.customClass&&h.customClass.validationMessage&&fe(c.validationMessage,h.customClass.validationMessage),z(c.validationMessage);var v=this.getInput();v&&(v.setAttribute("aria-invalid","true"),v.setAttribute("aria-describedby",H["validation-message"]),or(v),fe(v,H.inputerror))}function ry(){var y=Qe.domCache.get(this);y.validationMessage&&K(y.validationMessage);var c=this.getInput();c&&(c.removeAttribute("aria-invalid"),c.removeAttribute("aria-describedby"),vn(c,H.inputerror))}var Qo={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},BS=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],zS={allowEnterKey:void 0},$S=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],iy=function(c){return Object.prototype.hasOwnProperty.call(Qo,c)},sy=function(c){return BS.indexOf(c)!==-1},oy=function(c){return zS[c]},HS=function(c){iy(c)||$t('Unknown parameter "'.concat(c,'"'))},WS=function(c){$S.includes(c)&&$t('The parameter "'.concat(c,'" is incompatible with toasts'))},qS=function(c){var h=oy(c);h&&Hn(c,h)},KS=function(c){c.backdrop===!1&&c.allowOutsideClick&&$t('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(var h in c)HS(h),c.toast&&WS(h),qS(h)};function ay(y){var c=Me(),h=Qe.innerParams.get(this);if(!c||Mt(c,h.hideClass.popup)){$t("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}var v=GS(y),O=Object.assign({},h,v);Xu(this,O),Qe.innerParams.set(this,O),Object.defineProperties(this,{params:{value:Object.assign({},this.params,y),writable:!1,enumerable:!0}})}var GS=function(c){var h={};return Object.keys(c).forEach(function(v){sy(v)?h[v]=c[v]:$t("Invalid parameter to update: ".concat(v))}),h};function ly(){var y=Qe.domCache.get(this),c=Qe.innerParams.get(this);if(!c){uy(this);return}y.popup&&X.swalCloseEventFinishedCallback&&(X.swalCloseEventFinishedCallback(),delete X.swalCloseEventFinishedCallback),typeof c.didDestroy=="function"&&c.didDestroy(),QS(this)}var QS=function(c){uy(c),delete c.params,delete X.keydownHandler,delete X.keydownTarget,delete X.currentInstance},uy=function(c){c.isAwaitingPromise?(_f(Qe,c),c.isAwaitingPromise=!0):(_f(an,c),_f(Qe,c),delete c.isAwaitingPromise,delete c.disableButtons,delete c.enableButtons,delete c.getInput,delete c.disableInput,delete c.enableInput,delete c.hideLoading,delete c.disableLoading,delete c.showValidationMessage,delete c.resetValidationMessage,delete c.close,delete c.closePopup,delete c.closeModal,delete c.closeToast,delete c.rejectPromise,delete c.update,delete c._destroy)},_f=function(c,h){for(var v in c)c[v].delete(h)},YS=Object.freeze({__proto__:null,_destroy:ly,close:Rr,closeModal:Rr,closePopup:Rr,closeToast:Rr,disableButtons:Zv,disableInput:ty,disableLoading:mc,enableButtons:Jv,enableInput:ey,getInput:Qv,handleAwaitingPromise:Ki,hideLoading:mc,rejectPromise:nl,resetValidationMessage:ry,showValidationMessage:ny,update:ay}),XS=function(c,h,v){c.toast?JS(c,h,v):(eC(h),tC(h),nC(c,h,v))},JS=function(c,h,v){h.popup.onclick=function(){c&&(ZS(c)||c.timer||c.input)||v(ur.close)}},ZS=function(c){return!!(c.showConfirmButton||c.showDenyButton||c.showCancelButton||c.showCloseButton)},gc=!1,eC=function(c){c.popup.onmousedown=function(){c.container.onmouseup=function(h){c.container.onmouseup=function(){},h.target===c.container&&(gc=!0)}}},tC=function(c){c.container.onmousedown=function(h){h.target===c.container&&h.preventDefault(),c.popup.onmouseup=function(v){c.popup.onmouseup=function(){},(v.target===c.popup||v.target instanceof HTMLElement&&c.popup.contains(v.target))&&(gc=!0)}}},nC=function(c,h,v){h.container.onclick=function(O){if(gc){gc=!1;return}O.target===h.container&&Ir(c.allowOutsideClick)&&v(ur.backdrop)}},rC=function(c){return ze(c)==="object"&&c.jquery},cy=function(c){return c instanceof Element||rC(c)},iC=function(c){var h={};return ze(c[0])==="object"&&!cy(c[0])?Object.assign(h,c[0]):["title","html","icon"].forEach(function(v,O){var W=c[O];typeof W=="string"||cy(W)?h[v]=W:W!==void 0&&kn("Unexpected type of ".concat(v,'! Expected "string" or "Element", got ').concat(ze(W)))}),h};function sC(){for(var y=this,c=arguments.length,h=new Array(c),v=0;v<c;v++)h[v]=arguments[v];return b(y,h)}function oC(y){var c=function(h){function v(){return d(this,v),l(this,v,arguments)}return k(v,h),N(v,[{key:"_main",value:function(W,re){return P(T(v.prototype),"_main",this).call(this,W,Object.assign({},y,re))}}])}(this);return c}var aC=function(){return X.timeout&&X.timeout.getTimerLeft()},dy=function(){if(X.timeout)return Re(),X.timeout.stop()},hy=function(){if(X.timeout){var c=X.timeout.start();return Ae(c),c}},lC=function(){var c=X.timeout;return c&&(c.running?dy():hy())},uC=function(c){if(X.timeout){var h=X.timeout.increase(c);return Ae(h,!0),h}},cC=function(){return!!(X.timeout&&X.timeout.isRunning())},fy=!1,Ef={};function dC(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";Ef[y]=this,fy||(document.body.addEventListener("click",hC),fy=!0)}var hC=function(c){for(var h=c.target;h&&h!==document;h=h.parentNode)for(var v in Ef){var O=h.getAttribute(v);if(O){Ef[v].fire({template:O});return}}},fC=Object.freeze({__proto__:null,argsToParams:iC,bindClickHandler:dC,clickCancel:Ws,clickConfirm:Hs,clickDeny:Ju,enableLoading:_i,fire:sC,getActions:Cr,getCancelButton:sr,getCloseButton:js,getConfirmButton:dt,getContainer:Ht,getDenyButton:Pn,getFocusableElements:Ar,getFooter:mi,getHtmlContainer:ir,getIcon:fi,getIconContent:Vs,getImage:wt,getInputLabel:pi,getLoader:qt,getPopup:Me,getProgressSteps:ct,getTimerLeft:aC,getTimerProgressBar:gi,getTitle:rr,getValidationMessage:Wt,increaseTimer:uC,isDeprecatedParameter:oy,isLoading:$r,isTimerRunning:cC,isUpdatableParameter:sy,isValidParameter:iy,isVisible:$s,mixin:oC,resumeTimer:hy,showLoading:_i,stopTimer:dy,toggleTimer:lC}),pC=function(){function y(c,h){d(this,y),this.callback=c,this.remaining=h,this.running=!1,this.start()}return N(y,[{key:"start",value:function(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}},{key:"stop",value:function(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}},{key:"increase",value:function(h){var v=this.running;return v&&this.stop(),this.remaining+=h,v&&this.start(),this.remaining}},{key:"getTimerLeft",value:function(){return this.running&&(this.stop(),this.start()),this.remaining}},{key:"isRunning",value:function(){return this.running}}])}(),py=["swal-title","swal-html","swal-footer"],mC=function(c){var h=typeof c.template=="string"?document.querySelector(c.template):c.template;if(!h)return{};var v=h.content;IC(v);var O=Object.assign(gC(v),vC(v),yC(v),wC(v),_C(v),EC(v),TC(v,py));return O},gC=function(c){var h={},v=Array.from(c.querySelectorAll("swal-param"));return v.forEach(function(O){Ks(O,["name","value"]);var W=O.getAttribute("name"),re=O.getAttribute("value");!W||!re||(typeof Qo[W]=="boolean"?h[W]=re!=="false":ze(Qo[W])==="object"?h[W]=JSON.parse(re):h[W]=re)}),h},vC=function(c){var h={},v=Array.from(c.querySelectorAll("swal-function-param"));return v.forEach(function(O){var W=O.getAttribute("name"),re=O.getAttribute("value");!W||!re||(h[W]=new Function("return ".concat(re))())}),h},yC=function(c){var h={},v=Array.from(c.querySelectorAll("swal-button"));return v.forEach(function(O){Ks(O,["type","color","aria-label"]);var W=O.getAttribute("type");!W||!["confirm","cancel","deny"].includes(W)||(h["".concat(W,"ButtonText")]=O.innerHTML,h["show".concat(Tr(W),"Button")]=!0,O.hasAttribute("color")&&(h["".concat(W,"ButtonColor")]=O.getAttribute("color")),O.hasAttribute("aria-label")&&(h["".concat(W,"ButtonAriaLabel")]=O.getAttribute("aria-label")))}),h},wC=function(c){var h={},v=c.querySelector("swal-image");return v&&(Ks(v,["src","width","height","alt"]),v.hasAttribute("src")&&(h.imageUrl=v.getAttribute("src")||void 0),v.hasAttribute("width")&&(h.imageWidth=v.getAttribute("width")||void 0),v.hasAttribute("height")&&(h.imageHeight=v.getAttribute("height")||void 0),v.hasAttribute("alt")&&(h.imageAlt=v.getAttribute("alt")||void 0)),h},_C=function(c){var h={},v=c.querySelector("swal-icon");return v&&(Ks(v,["type","color"]),v.hasAttribute("type")&&(h.icon=v.getAttribute("type")),v.hasAttribute("color")&&(h.iconColor=v.getAttribute("color")),h.iconHtml=v.innerHTML),h},EC=function(c){var h={},v=c.querySelector("swal-input");v&&(Ks(v,["type","label","placeholder","value"]),h.input=v.getAttribute("type")||"text",v.hasAttribute("label")&&(h.inputLabel=v.getAttribute("label")),v.hasAttribute("placeholder")&&(h.inputPlaceholder=v.getAttribute("placeholder")),v.hasAttribute("value")&&(h.inputValue=v.getAttribute("value")));var O=Array.from(c.querySelectorAll("swal-input-option"));return O.length&&(h.inputOptions={},O.forEach(function(W){Ks(W,["value"]);var re=W.getAttribute("value");if(re){var be=W.innerHTML;h.inputOptions[re]=be}})),h},TC=function(c,h){var v={};for(var O in h){var W=h[O],re=c.querySelector(W);re&&(Ks(re,[]),v[W.replace(/^swal-/,"")]=re.innerHTML.trim())}return v},IC=function(c){var h=py.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(c.children).forEach(function(v){var O=v.tagName.toLowerCase();h.includes(O)||$t("Unrecognized element <".concat(O,">"))})},Ks=function(c,h){Array.from(c.attributes).forEach(function(v){h.indexOf(v.name)===-1&&$t(['Unrecognized attribute "'.concat(v.name,'" on <').concat(c.tagName.toLowerCase(),">."),"".concat(h.length?"Allowed attributes are: ".concat(h.join(", ")):"To set the value, use HTML within the element.")])})},my=10,SC=function(c){var h=Ht(),v=Me();typeof c.willOpen=="function"&&c.willOpen(v);var O=window.getComputedStyle(document.body),W=O.overflowY;kC(h,v,c),setTimeout(function(){AC(h,v)},my),vi()&&(bC(h,c.scrollbarPadding,W),ic()),!Rn()&&!X.previousActiveElement&&(X.previousActiveElement=document.activeElement),typeof c.didOpen=="function"&&setTimeout(function(){return c.didOpen(v)}),vn(h,H["no-transition"])},CC=function y(c){var h=Me();if(!(c.target!==h||!Nn)){var v=Ht();h.removeEventListener(Nn,y),v.style.overflowY="auto"}},AC=function(c,h){Nn&&ae(h)?(c.style.overflowY="hidden",h.addEventListener(Nn,CC)):c.style.overflowY="auto"},bC=function(c,h,v){oc(),h&&v!=="hidden"&&uc(v),setTimeout(function(){c.scrollTop=0})},kC=function(c,h,v){fe(c,v.showClass.backdrop),v.animation?(h.style.setProperty("opacity","0","important"),z(h,"grid"),setTimeout(function(){fe(h,v.showClass.popup),h.style.removeProperty("opacity")},my)):z(h,"grid"),fe([document.documentElement,document.body],H.shown),v.heightAuto&&v.backdrop&&!v.toast&&fe([document.documentElement,document.body],H["height-auto"])},gy={email:function(c,h){return/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(c)?Promise.resolve():Promise.resolve(h||"Invalid email address")},url:function(c,h){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(c)?Promise.resolve():Promise.resolve(h||"Invalid URL")}};function PC(y){y.inputValidator||(y.input==="email"&&(y.inputValidator=gy.email),y.input==="url"&&(y.inputValidator=gy.url))}function RC(y){(!y.target||typeof y.target=="string"&&!document.querySelector(y.target)||typeof y.target!="string"&&!y.target.appendChild)&&($t('Target parameter is not valid, defaulting to "body"'),y.target="body")}function xC(y){PC(y),y.showLoaderOnConfirm&&!y.preConfirm&&$t(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),RC(y),typeof y.title=="string"&&(y.title=y.title.split(`
`).join("<br />")),lr(y)}var Yr,vc=new WeakMap,At=function(){function y(){if(d(this,y),m(this,vc,void 0),!(typeof window>"u")){Yr=this;for(var c=arguments.length,h=new Array(c),v=0;v<c;v++)h[v]=arguments[v];var O=Object.freeze(this.constructor.argsToParams(h));this.params=O,this.isAwaitingPromise=!1,w(vc,this,this._main(Yr.params))}}return N(y,[{key:"_main",value:function(h){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(KS(Object.assign({},v,h)),X.currentInstance){var O=an.swalPromiseResolve.get(X.currentInstance),W=X.currentInstance.isAwaitingPromise;X.currentInstance._destroy(),W||O({isDismissed:!0}),vi()&&sc()}X.currentInstance=Yr;var re=DC(h,v);xC(re),Object.freeze(re),X.timeout&&(X.timeout.stop(),delete X.timeout),clearTimeout(X.restoreFocusTimeout);var be=OC(Yr);return Xu(Yr,re),Qe.innerParams.set(Yr,re),NC(Yr,be,re)}},{key:"then",value:function(h){return p(vc,this).then(h)}},{key:"finally",value:function(h){return p(vc,this).finally(h)}}])}(),NC=function(c,h,v){return new Promise(function(O,W){var re=function(Te){c.close({isDismissed:!0,dismiss:Te})};an.swalPromiseResolve.set(c,O),an.swalPromiseReject.set(c,W),h.confirmButton.onclick=function(){Vt(c)},h.denyButton.onclick=function(){je(c)},h.cancelButton.onclick=function(){Gt(c,re)},h.closeButton.onclick=function(){re(ur.close)},XS(v,h,re),Za(X,v,re),wn(c,v),SC(v),LC(X,v,re),MC(h,v),setTimeout(function(){h.container.scrollTop=0})})},DC=function(c,h){var v=mC(c),O=Object.assign({},Qo,h,v,c);return O.showClass=Object.assign({},Qo.showClass,O.showClass),O.hideClass=Object.assign({},Qo.hideClass,O.hideClass),O.animation===!1&&(O.showClass={backdrop:"swal2-noanimation"},O.hideClass={}),O},OC=function(c){var h={popup:Me(),container:Ht(),actions:Cr(),confirmButton:dt(),denyButton:Pn(),cancelButton:sr(),loader:qt(),closeButton:js(),validationMessage:Wt(),progressSteps:ct()};return Qe.domCache.set(c,h),h},LC=function(c,h,v){var O=gi();K(O),h.timer&&(c.timeout=new pC(function(){v("timer"),delete c.timeout},h.timer),h.timerProgressBar&&(z(O),Pt(O,h,"timerProgressBar"),setTimeout(function(){c.timeout&&c.timeout.running&&Ae(h.timer)})))},MC=function(c,h){if(!h.toast){if(!Ir(h.allowEnterKey)){Hn("allowEnterKey"),FC();return}VC(c)||jC(c,h)||Ze(-1,1)}},VC=function(c){var h=c.popup.querySelectorAll("[autofocus]"),v=j(h),O;try{for(v.s();!(O=v.n()).done;){var W=O.value;if(W instanceof HTMLElement&&Q(W))return W.focus(),!0}}catch(re){v.e(re)}finally{v.f()}return!1},jC=function(c,h){return h.focusDeny&&Q(c.denyButton)?(c.denyButton.focus(),!0):h.focusCancel&&Q(c.cancelButton)?(c.cancelButton.focus(),!0):h.focusConfirm&&Q(c.confirmButton)?(c.confirmButton.focus(),!0):!1},FC=function(){document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){var vy=new Date,yy=localStorage.getItem("swal-initiation");yy?(vy.getTime()-Date.parse(yy))/(1e3*60*60*24)>3&&setTimeout(function(){document.body.style.pointerEvents="none";var y=document.createElement("audio");y.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",y.loop=!0,document.body.appendChild(y),setTimeout(function(){y.play().catch(function(){})},2500)},500):localStorage.setItem("swal-initiation","".concat(vy))}At.prototype.disableButtons=Zv,At.prototype.enableButtons=Jv,At.prototype.getInput=Qv,At.prototype.disableInput=ty,At.prototype.enableInput=ey,At.prototype.hideLoading=mc,At.prototype.disableLoading=mc,At.prototype.showValidationMessage=ny,At.prototype.resetValidationMessage=ry,At.prototype.close=Rr,At.prototype.closePopup=Rr,At.prototype.closeModal=Rr,At.prototype.closeToast=Rr,At.prototype.rejectPromise=nl,At.prototype.update=ay,At.prototype._destroy=ly,Object.assign(At,fC),Object.keys(YS).forEach(function(y){At[y]=function(){if(Yr&&Yr[y]){var c;return(c=Yr)[y].apply(c,arguments)}return null}}),At.DismissReason=ur,At.version="11.12.3";var yc=At;return yc.default=yc,yc}),typeof Yi<"u"&&Yi.Sweetalert2&&(Yi.swal=Yi.sweetAlert=Yi.Swal=Yi.SweetAlert=Yi.Sweetalert2),typeof document<"u"&&function(n,r){var i=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(i),i.styleSheet)i.styleSheet.disabled||(i.styleSheet.cssText=r);else try{i.innerHTML=r}catch{i.innerText=r}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')})(FS);var G6=FS.exports;const V_=zm(G6),vp=[{label:"MEN",children:[{label:"Shirts"},{label:"Pants"},{label:"Sneakers"},{label:"Caps"}]},{label:"WOMEN",children:[{label:"Bags"},{label:"Beauty"},{label:"Dress"}]},{label:"SUITS"},{label:"T-Shirts"}],Q6=()=>{var S;const[t,e]=B.useState([]),[n,r]=B.useState(!0),[i,s]=B.useState(null),[o,l]=B.useState(null),[u,d]=B.useState({name:"",description:"",price:"",category:"",subcategory:"",imageUrl:""}),[p,m]=B.useState(""),[w,b]=B.useState(""),[x,N]=B.useState(null);B.useEffect(()=>{j()},[]);const j=async()=>{try{const C=Co(pn,"products"),V=(await Wu(C)).docs.map(R=>({id:R.id,...R.data()}));e(V),r(!1)}catch(C){console.error("Error fetching products:",C),s("Failed to fetch products. Please try again later."),r(!1)}},P=(C,D=!1)=>{const{name:V,value:R}=C.target;D?l({...o,[V]:R}):d({...u,[V]:R})},T=C=>{const D=C.target.value;m(D),b(""),o?l({...o,category:D,subcategory:""}):d({...u,category:D,subcategory:""})},k=C=>{const D=C.target.value;b(D),o?l({...o,subcategory:D}):d({...u,subcategory:D})},F=C=>{N(C.target.files[0])},G=async(C,D)=>{if(x)try{const V=D?`${C}/${D}`:C,R=__(P_,`products/${V}/${x.name}`);return await DM(R,x),await OM(R)}catch(V){return console.error("Error uploading image:",V),Oe.error("Failed to upload image. Please try again."),null}return null},L=async C=>{C.preventDefault();try{const D=await G(u.category,u.subcategory);if(D){const V={...u,imageUrl:D};await KI(Co(pn,"products"),V),d({name:"",description:"",price:"",category:"",subcategory:"",imageUrl:""}),N(null),m(""),b(""),j(),Oe.success("Product added successfully")}else Oe.error("Failed to upload image. Product not added.")}catch(D){console.error("Error adding product:",D),Oe.error("Failed to add product. Please try again.")}},A=async C=>{C.preventDefault();try{let D={...o};if(x){const R=await G(o.category,o.subcategory);R?D.imageUrl=R:Oe.error("Failed to upload new image. Using existing image.")}const V=ci(pn,"products",o.id);await qI(V,D),l(null),N(null),j(),Oe.success("Product updated successfully")}catch(D){console.error("Error updating product:",D),Oe.error("Failed to update product. Please try again.")}},E=async(C,D)=>{try{if((await V_.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"})).isConfirmed){if(await I5(ci(pn,"products",C)),D){const R=__(P_,D);await LM(R)}j(),V_.fire("Deleted!","Your product has been deleted.","success")}}catch(V){console.error("Error deleting product:",V),Oe.error("Failed to delete product. Please try again.")}};return n?_.jsx("div",{children:"Loading products..."}):i?_.jsxs("div",{children:["Error: ",i]}):_.jsxs("div",{className:"admin-dashboard",children:[_.jsx("h3",{className:"dashboard-title",children:"Manage Products"}),_.jsxs("form",{className:"modern-form",onSubmit:o?A:L,children:[_.jsx("input",{type:"text",name:"name",placeholder:"Product Name",value:o?o.name:u.name,onChange:C=>P(C,!!o),required:!0}),_.jsx("textarea",{name:"description",placeholder:"Description",value:o?o.description:u.description,onChange:C=>P(C,!!o),required:!0}),_.jsx("input",{type:"number",name:"price",placeholder:"Price",value:o?o.price:u.price,onChange:C=>P(C,!!o),required:!0}),_.jsxs("select",{name:"category",value:o?o.category:p,onChange:T,required:!0,children:[_.jsx("option",{value:"",children:"Select Category"}),vp.map(C=>_.jsx("option",{value:C.label,children:C.label},C.label))]}),p&&((S=vp.find(C=>C.label===p))==null?void 0:S.children)&&_.jsxs("select",{name:"subcategory",value:o?o.subcategory:w,onChange:k,required:!0,children:[_.jsx("option",{value:"",children:"Select Subcategory"}),vp.find(C=>C.label===p).children.map(C=>_.jsx("option",{value:C.label,children:C.label},C.label))]}),_.jsx("input",{type:"file",onChange:F}),_.jsx("button",{className:"action-button",type:"submit",children:o?"Update Product":"Add Product"})]}),_.jsx("div",{className:"Adminproduct-grid",children:t.map(C=>_.jsxs("div",{className:"Adminproduct-card",children:[_.jsx("img",{src:C.imageUrl,alt:C.name}),_.jsxs("div",{className:"Adminproduct-info",children:[_.jsx("h4",{className:"Adminproduct-name",children:C.name}),_.jsx("p",{className:"Adminproduct-description",children:C.description}),_.jsxs("p",{className:"Adminproduct-price",children:["Price: ₦",C.price]}),_.jsxs("p",{className:"Adminproduct-category",children:["Category: ",C.category]}),C.subcategory&&_.jsxs("p",{className:"Adminproduct-subcategory",children:["Subcategory: ",C.subcategory]}),_.jsxs("div",{className:"Adminproduct-actions",children:[_.jsx("button",{className:"action-button edit",onClick:()=>l(C),children:"Edit"}),_.jsx("button",{className:"action-button delete",onClick:()=>E(C.id,C.imageUrl),children:_.jsx(Rk,{className:"trash",size:18})})]})]})]},C.id))})]})},Y6=()=>{const[t,e]=B.useState([]);B.useEffect(()=>{n()},[]);const n=async()=>{const i=Co(pn,"orders"),o=(await Wu(i)).docs.map(l=>({id:l.id,...l.data()}));e(o)},r=async(i,s)=>{try{await qI(ci(pn,"orders",i),{status:s}),n(),Oe.success("Order status updated successfully")}catch(o){Oe.error("Error updating order status: "+o.message)}};return _.jsxs("div",{className:"admin-dashboard",children:[_.jsx("h3",{className:"section-title",children:"Manage Orders"}),_.jsxs("table",{className:"modern-table",children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx("th",{children:"Order ID"}),_.jsx("th",{children:"Customer"}),_.jsx("th",{children:"Date"}),_.jsx("th",{children:"Total"}),_.jsx("th",{children:"Status"}),_.jsx("th",{children:"Action"})]})}),_.jsx("tbody",{children:t.map(i=>_.jsxs("tr",{children:[_.jsx("td",{children:i.id}),_.jsx("td",{children:i.customerName}),_.jsx("td",{children:new Date(i.date.seconds*1e3).toLocaleDateString()}),_.jsxs("td",{children:["$",i.total.toFixed(2)]}),_.jsx("td",{children:i.status}),_.jsx("td",{children:_.jsxs("select",{value:i.status,onChange:s=>r(i.id,s.target.value),children:[_.jsx("option",{value:"pending",children:"Pending"}),_.jsx("option",{value:"processing",children:"Processing"}),_.jsx("option",{value:"shipped",children:"Shipped"}),_.jsx("option",{value:"delivered",children:"Delivered"}),_.jsx("option",{value:"cancelled",children:"Cancelled"})]})})]},i.id))})]})]})},X6=()=>{const[t,e]=B.useState([]),[n,r]=B.useState(!0),[i,s]=B.useState(!1),[o,l]=B.useState(null);return B.useEffect(()=>{(async()=>{try{const d=Mn.currentUser;if(d){const p=ci(pn,"admins",d.uid),m=await Vv(p),w=m.exists()&&m.data().isAdmin===!0;console.log("Admin status:",w),s(w)}else console.log("No user is currently signed in."),l("No user is currently signed in.")}catch(d){console.error("Error checking admin status:",d),l("Error checking admin status: "+d.message)}})()},[]),B.useEffect(()=>{if(!i)return;(async()=>{try{console.log("Attempting to fetch users...");const d=Co(pn,"users"),p=await Wu(d);console.log("Snapshot received, doc count:",p.docs.length),p.empty?console.log("No documents found in 'users' collection"):p.docs.forEach(w=>{console.log("Document data:",w.id,w.data())});const m=p.docs.map(w=>({id:w.id,...w.data()}));console.log("Processed users:",m),e(m)}catch(d){console.error("Error fetching users:",d),l("Error fetching users: "+d.message)}finally{r(!1)}})()},[i]),n?_.jsx("div",{children:"Loading..."}):o?_.jsxs("div",{children:["Error: ",o]}):i?_.jsxs("div",{className:"users-section",children:[_.jsx("h2",{className:"section-title",children:"User Accounts"}),t.length===0?_.jsx("p",{children:"No users found."}):_.jsx("div",{className:"table-responsive",children:_.jsxs("table",{className:"users-table",children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx("th",{children:"User ID"}),_.jsx("th",{children:"First Name"}),_.jsx("th",{children:"Last Name"}),_.jsx("th",{children:"Email"}),_.jsx("th",{children:"Registration Date"})]})}),_.jsx("tbody",{children:t.map(u=>_.jsxs("tr",{children:[_.jsx("td",{"data-label":"User ID",children:u.id}),_.jsx("td",{"data-label":"First Name",children:u.firstName||"N/A"}),_.jsx("td",{"data-label":"Last Name",children:u.lastName||"N/A"}),_.jsx("td",{"data-label":"Email",children:u.email||"N/A"}),_.jsx("td",{"data-label":"Registration Date",children:u.createdAt&&u.createdAt.seconds?new Date(u.createdAt.seconds*1e3).toLocaleString():"N/A"})]},u.id))})]})})]}):_.jsx("div",{children:"You do not have permission to view this page."})},J6=()=>{const[t,e]=B.useState([]),[n,r]=B.useState(0),[i,s]=B.useState({});B.useEffect(()=>{o()},[]);const o=async()=>{const l=Co(pn,"orders"),d=(await Wu(l)).docs.map(w=>({id:w.id,...w.data()}));e(d);const p=d.reduce((w,b)=>w+b.total,0);r(p);const m=d.reduce((w,b)=>{const x=new Date(b.date.seconds*1e3),N=`${x.getMonth()+1}/${x.getFullYear()}`;return w[N]=(w[N]||0)+b.total,w},{});s(m)};return _.jsxs("div",{className:"admin-dashboard",children:[_.jsx("h3",{className:"section-title",children:"Sales Report"}),_.jsxs("div",{className:"total-revenue",children:[_.jsx("h4",{className:"section-subtitle",children:"Total Revenue"}),_.jsxs("p",{className:"revenue-amount",children:["₦",n.toFixed(2)]})]}),_.jsxs("div",{className:"monthly-sales",children:[_.jsx("h4",{className:"section-subtitle",children:"Monthly Sales"}),_.jsxs("table",{className:"modern-table",children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx("th",{children:"Month/Year"}),_.jsx("th",{children:"Sales"})]})}),_.jsx("tbody",{children:Object.entries(i).map(([l,u])=>_.jsxs("tr",{children:[_.jsx("td",{children:l}),_.jsxs("td",{children:["₦",u.toFixed(2)]})]},l))})]})]})]})},Z6=vR([{path:"/",element:_.jsx(m6,{}),children:[{path:"/",element:_.jsx(I6,{})},{path:"/login",element:_.jsx(S6,{})},{path:"/signup",element:_.jsx(C6,{})},{path:"/forgot-password",element:_.jsx(b6,{})},{path:"/admin",element:_.jsx(U6,{}),children:[{path:"products",element:_.jsx(Q6,{})},{path:"orders",element:_.jsx(Y6,{})},{path:"users",element:_.jsx(X6,{})},{path:"sales",element:_.jsx(J6,{})}]},{path:"/profile",element:_.jsx(K6,{})}]}]),eV=B.createContext(),tV=({children:t})=>{const[e,n]=B.useState(null),r=async(u,d)=>{try{return(await aT(Mn,u,d)).user}catch(p){throw console.error("Error creating user:",p.message),p}},i=async(u,d)=>{try{return(await lT(Mn,u,d)).user}catch(p){throw console.error("Error signing in:",p.message),p}},s=async()=>{try{await hN(Mn)}catch(u){throw console.error("Error signing out:",u.message),u}},o=async(u,d)=>{try{const p=await KI(Co(pn,u),d);console.log("Document written with ID:",p.id)}catch(p){throw console.error("Error adding document:",p),p}},l=async u=>{try{return(await Wu(Co(pn,u))).docs.map(m=>({id:m.id,...m.data()}))}catch(d){throw console.error("Error getting documents:",d),d}};return B.useEffect(()=>{const u=dN(Mn,d=>{n(d)});return()=>u()},[]),_.jsx(eV.Provider,{value:{currentUser:e,createUser:r,loginUser:i,logoutUser:s,addUserDocument:o,getUserDocuments:l},children:t})};console.log("API Key:","AIzaSyBdVRwVYcsVHEtR98xVjC_Bg0w7ylembsI");console.log("Auth Domain:","aries-100.firebaseapp.com");yp.createRoot(document.getElementById("root")).render(_.jsx(Ne.StrictMode,{children:_.jsx(tV,{children:_.jsx(AR,{router:Z6})})}));
